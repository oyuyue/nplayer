{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/./node_modules/tslib/tslib.es6.js","webpack://[name]/[name]/webpack/universalModuleDefinition","webpack://[name]/[name]/webpack/bootstrap","webpack://[name]/[name]/node_modules/eventemitter3/index.js","webpack://[name]/[name]/packages/rplayer/src/icons/cc.svg","webpack://[name]/[name]/packages/rplayer/src/icons/enter-fullscreen.svg","webpack://[name]/[name]/packages/rplayer/src/icons/exit-fullscreen.svg","webpack://[name]/[name]/packages/rplayer/src/icons/muted.svg","webpack://[name]/[name]/packages/rplayer/src/icons/pause.svg","webpack://[name]/[name]/packages/rplayer/src/icons/play.svg","webpack://[name]/[name]/packages/rplayer/src/icons/settings.svg","webpack://[name]/[name]/packages/rplayer/src/icons/volume.svg","webpack://[name]/[name]/packages/rplayer/src/scss/index.scss?5782","webpack://[name]/[name]/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://[name]/[name]/packages/rplayer/src/scss/index.scss","webpack://[name]/[name]/node_modules/css-loader/dist/runtime/api.js","webpack://[name]/[name]/node_modules/tslib/tslib.es6.js","webpack://[name]/[name]/packages/rplayer/src/ts/utils/drag.ts","webpack://[name]/[name]/packages/rplayer/src/ts/utils/index.ts","webpack://[name]/[name]/packages/rplayer/src/ts/events.ts","webpack://[name]/[name]/packages/rplayer/src/ts/event-handler.ts","webpack://[name]/[name]/packages/rplayer/src/ts/component.ts","webpack://[name]/[name]/packages/rplayer/src/ts/config/index.ts","webpack://[name]/[name]/packages/rplayer/src/ts/config/classname.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/contextmenu.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/mask.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/bar.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/dot.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/thumbnail.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/progress-bar.ts","webpack://[name]/[name]/packages/rplayer/src/ts/config/lang.ts","webpack://[name]/[name]/packages/rplayer/src/ts/icons.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/trays/tray.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/setting/item.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/setting/select.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/setting/switch.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/setting/menu.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/setting/index.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/trays/play.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/trays/time.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/trays/volume.ts","webpack://[name]/[name]/packages/rplayer/src/ts/controls/index.ts","webpack://[name]/[name]/packages/rplayer/src/ts/handle-events.ts","webpack://[name]/[name]/packages/rplayer/src/ts/loading.ts","webpack://[name]/[name]/packages/rplayer/src/ts/storage.ts","webpack://[name]/[name]/packages/rplayer/src/ts/plugins/subtitle.ts","webpack://[name]/[name]/packages/rplayer/src/ts/plugins/fullscreen.ts","webpack://[name]/[name]/packages/rplayer/src/ts/shortcut.ts","webpack://[name]/[name]/packages/rplayer/src/ts/rplayer.ts","webpack://[name]/[name]/packages/rplayer/src/ts/options.ts","webpack://[name]/[name]/packages/rplayer/src/ts/index.ts","webpack://[name]/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://[name]/./node_modules/css-loader/dist/runtime/api.js","webpack://[name]/./packages/rplayer-ads/src/scss/index.scss?6323","webpack://[name]/./packages/rplayer-ads/src/scss/index.scss","webpack://[name]/./packages/rplayer-ads/src/ts/events.ts","webpack://[name]/./packages/rplayer-ads/src/ts/utils.ts","webpack://[name]/./packages/rplayer-ads/src/ts/liner/video.ts","webpack://[name]/./packages/rplayer-ads/src/ts/liner/index.ts","webpack://[name]/./packages/rplayer-ads/src/ts/non-liner.ts","webpack://[name]/./packages/rplayer-ads/src/ts/ads.ts","webpack://[name]/./packages/rplayer-ads/src/ts/options.ts","webpack://[name]/./packages/rplayer-ads/src/ts/index.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","length","apply","__spreadArrays","il","k","a","j","jl","has","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","listener","evt","_events","push","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","slice","getOwnPropertySymbols","concat","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","on","removeAllListeners","off","prefixed","api","content","default","exported","locals","memo","getTarget","target","styleTarget","document","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","list","options","idCountMap","identifiers","item","id","base","count","index","obj","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","keys","forEach","setAttribute","insert","Error","appendChild","textStore","replaceText","replacement","filter","Boolean","join","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","newObj","all","atob","lastIdentifiers","newList","toString","newLastIdentifiers","_i","_index","splice","___CSS_LOADER_API_IMPORT___","useSourceMap","map","base64","data","cssMapping","sourceMapping","sourceURLs","sources","source","sourceRoot","mediaQuery","dedupe","alreadyImportedModules","dom","start","move","end","pending","downHandler","ev","preventDefault","setPointerCapture","pointerId","addEventListener","moveHandler","lastEv","requestAnimationFrame","handlerMove","upHandler","releasePointerCapture","removeEventListener","destroy","noop","clamp","lower","upper","Math","max","min","isStr","isNum","isNaN","isFn","isObj","isElement","Element","isCatchable","catch","clampNeg","defaults","findIndex","arr","predicate","getDomOr","orReturn","ret","htmlDom","html","tag","className","innerHTML","classList","add","measureElementSize","clone","cloneNode","position","opacity","width","scrollWidth","height","scrollHeight","newElement","domParser","DOMParser","strToDom","str","type","parseFromString","svgToDom","padStart","v","String","formatTime","seconds","round","floor","ua","isEdge","navigator","userAgent","indexOf","isIos","test","platform","isIE","makeDictionary","getClientWH","body","clientWidth","clientHeight","safeJsonParse","orRet","parse","safeJsonStringify","extend","ajax","url","cb","xhr","XMLHttpRequest","onreadystatechange","readyState","status","responseText","onerror","err","open","send","player","evName","fnName","BEFORE_MOUNT","MOUNTED","CONTROLS_SHOW","CONTROLS_HIDE","ENTER_FULLSCREEN","EXIT_FULLSCREEN","DURATION_CHANGE","TIME_UPDATE","VOLUME_CHANGE","LOADED_METADATA","PLAY","PAUSE","ENDED","PROGRESS","CANPLAY","WAITING","PLAYING","STALLED","ERROR","BREAK_POINT_CHANGE","CLICK_CONTROL_MASK","CLICK_OUTSIDE","PLAYER_CLICK","PLAYER_CONTEXT_MENU","PLAYER_DBLCLICK","PLAYER_MOUSE_MOVE","PLAYER_MOUSE_LEAVE","PLAYER_RESIZE","SETTING_SELECTED","LOADING_SHOW","LOADING_HIDE","autoUpdateRect","_resizeHandler","updateRect","_rect","getBoundingClientRect","addClass","innerText","text","Component","isComponent","pos","children","cls","split","containsClass","contains","toggleClass","force","toggle","removeClass","appendTo","removeFrom","removeFromParent","hidden","visible","canFocus","BP","BREAKPOINT_WIDESCREEN","BREAKPOINT_DESKTOP","BREAKPOINT_TABLET","BREAKPOINT_PHONE","PLAYER","PREFIX","PAUSED","FULL","TOOLTIP","TOOLTIP_TEXT","TRAY","checked","next","clickHandler","CTRL_MENU","icon","CTRL_MENU_ITEM","label","onClick","CTRL","showed","stopPropagation","hide","opts","contextMenu","enable","items","controls","mask","show","addItem","onPlayerContextMenu","left","top","w","h","pageX","pageY","onClickOutside","onClickControlMask","setX","x","transform","progressBar","thumbnail","enableImg","images","handler","halfImgWidth","thumbNumPerImg","col","row","ssGapRatio","startTime","gapSec","time","THUMB","img","getCurBg","y","half","backgroundImage","backgroundPosition","rect","mouseMovePending","mouseMoveLastX","dragging","dragStartHandler","pause","dragHandler","dot","playedBar","updateThumbnail","dragEndHandler","seek","calcCurrentTime","play","mouseMoveHandler","updateHoverBarAndThumb","updatePlayedBar","updateHoverBar","barWrapper","padBar","bufBar","hoverBar","drag","duration","isHide","percentage","currentTime","updateBufBar","buffered","curTime","eachBuffer","onControlsShow","onTimeUpdate","onProgress","language","lang","addLang","fallback","trans","enterFullscreen","exitFullscreen","volume","muted","settings","cc","tipText","tip","__onclick","changeTipText","setLeft","setRight","init","entryClickHandler","onEntryClick","entry","SETTINGS_MENU","entryLabel","entryValue","entryClickCb","optionClickHandler","onChange","select","div","SETTINGS","opt","prevSelect","SETTINGS_SELECT_OPT","selectedLabel","switch","SWITCH","optionRects","selectEntryClickHandler","homeRect","homePage","optionPages","setWH","backClickHandler","resetPage","getOptionPage","page","getBack","SETTINGS_MENU_PAGE","back","isArray","optionPage","onSettingSelected","onMounted","menu","icons","TRAY_SETTING","clearTimeout","resetPageTimer","setTimeout","ICON","onPlay","onPause","totalTime","updateCurTime","updateTotalTime","onDurationChange","TRAY_VOLUME","toggleVolume","onVolumeChange","requireShow","releaseShow","bar","vol","progress","showLatch","tryHideControls","played","paused","setting","bottom","tray","CTRL_BOTTOM","trays","sort","bottomMask","showTemporary","controlsTimer","addTray","addSettingItem","addContextMenuItem","onPlayerClick","onPlayerMouseMove","onPlayerMouseLeave","from","to","transThrottle","loadingClass","startWaitingTime","_checkCanplay","showTimer","onWaiting","checkCanplay","tryShow","onCanplay","onStalled","Storage","supported","storage","localStorage","setItem","removeItem","getItem","set","captions","active","CAPTION_TRAY","deactivate","prev","optionChangeHandler","track","removeCueEvent","addCueEvent","cueChangeHandler","cues","activeCues","cue","renderText","getCueAsHTML","textContent","updateUI","run","tracks","textTracks","CAPTION","trackEls","df","createDocumentFragment","src","getAttribute","_","URL","createObjectURL","Blob","fullscreen","onEnterFullscreen","onExitFullscreen","getPrefix","playerDblClickHandler","changeHandler","isActive","setTarget","HTMLElement","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","HTMLDocument","webkitExitFullscreen","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","fullscreenElement","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","video","enter","webkitEnterFullscreen","navigationUI","exit","editable","keydownHandler","altKey","ctrlKey","metaKey","shiftKey","focused","activeElement","tagName","toLowerCase","code","keyCode","which","handled","shortcut","38","incVolume","40","decVolume","39","forward","37","rewind","32","global","register","unregister","disable","prevVolume","ready","preset","plugins","subtitle","version","playbackRate","DEFAULT_PLAY_RATE","steps","userLanguage","processOptions","el","restore","setMediaAttrs","mqHandler","matches","curBreakPoint","mq","matchMedia","loading","install","ended","canPlayType","mount","use","plugin","utils","isOldIE","removeStyleElement","cssWithMappingToString","LINER_AD_PLAY","LINER_AD_END","throttle","wait","first","getAdBadge","ad","openInNewTab","focus","liner","clickLoad","prevTime","currentItem","jumpTo","onCanPlay","playVideo","onVideoPlay","onVideoPause","seeking","isMuted","onVideoMuted","onVideoUnmuted","onSeeking","delta","abs","onRateChange","onError","onVideoError","onEnded","load","playNext","autoplay","loop","enhanceVideo","appendVideo","playing","mute","unmute","ads","remainTime","playlist","totalPlayTime","prevPlayerCurrentTime","checkCanPlay","adsItems","needPlay","rest","playWait","playAt","tickRemain","untickRemain","tickRemainTimer","setInterval","unshift","linerTimeout","skip","calcRemainTime","setCountDown","clearInterval","tick","untick","tickTimer","pausePlayer","onPlayerEnded","disablePlayer","restorePlayer","reduce","ceil","hideCountDown","destroyVideos","countDownDom","showCountDown","videoContainer","shift","stopImmediatePropagation","playPause","getCtrlDom","full","adBadge","currentAd","total","imgSrc","onPlayerPause","onDomClick","onClose","nonLiner","closeDom","Infinity","processOpts","AD"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,aAAc,GAAIH,GACC,iBAAZC,QACdA,QAAoB,WAAID,IAExBD,EAAiB,WAAIC,IARvB,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,I,+BClFrD;;;;;;;;;;;;;;;AAgBA,IAAIC,EAAgB,SAAS1B,EAAG2B,GAI5B,OAHAD,EAAgBtB,OAAOwB,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAU9B,EAAG2B,GAAK3B,EAAE6B,UAAYF,IACvE,SAAU3B,EAAG2B,GAAK,IAAK,IAAIH,KAAKG,EAAOA,EAAEJ,eAAeC,KAAIxB,EAAEwB,GAAKG,EAAEH,MACpDxB,EAAG2B,IAGrB,SAASI,EAAU/B,EAAG2B,GAEzB,SAASK,IAAOC,KAAKC,YAAclC,EADnC0B,EAAc1B,EAAG2B,GAEjB3B,EAAEsB,UAAkB,OAANK,EAAavB,OAAOY,OAAOW,IAAMK,EAAGV,UAAYK,EAAEL,UAAW,IAAIU,GAG5E,IAAIG,EAAW,WAQlB,OAPAA,EAAW/B,OAAOgC,QAAU,SAAkBxB,GAC1C,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIkB,UAAUC,OAAQ5C,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIY,UAAU3C,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KAAIZ,EAAEY,GAAKC,EAAED,IAE9E,OAAOZ,IAEK2B,MAAMN,KAAMI,YA2GzB,SAASG,IACZ,IAAK,IAAIf,EAAI,EAAG/B,EAAI,EAAG+C,EAAKJ,UAAUC,OAAQ5C,EAAI+C,EAAI/C,IAAK+B,GAAKY,UAAU3C,GAAG4C,OACxE,IAAI9B,EAAIsB,MAAML,GAAIiB,EAAI,EAA3B,IAA8BhD,EAAI,EAAGA,EAAI+C,EAAI/C,IACzC,IAAK,IAAIiD,EAAIN,UAAU3C,GAAIkD,EAAI,EAAGC,EAAKF,EAAEL,OAAQM,EAAIC,EAAID,IAAKF,IAC1DlC,EAAEkC,GAAKC,EAAEC,GACjB,OAAOpC,I,gBC5IRlB,OAPDH,EAAOD,Q,YCDP,IAAIK,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAEA,EACFT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,KAGAR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAWA,EAAOC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAMA,KAQtDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAWA,EAAOK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,I,+BChFrD,IAAIqB,EAAM1C,OAAOkB,UAAUC,eACvBwB,EAAS,IASb,SAASC,KA4BT,SAASC,EAAGC,EAAIC,EAASC,GACvBnB,KAAKiB,GAAKA,EACVjB,KAAKkB,QAAUA,EACflB,KAAKmB,KAAOA,MAcd,SAASC,EAAYC,EAASC,EAAOL,EAAIC,EAASC,GAChD,GAAkB,mBAAPF,EACT,MAAM,IAAIM,UAAU,mCAGtB,IAAIC,EAAW,IAAIR,EAAGC,EAAIC,GAAWG,EAASF,GAC1CM,EAAMX,EAASA,EAASQ,EAAQA,EAMpC,OAJKD,EAAQK,QAAQD,GACXJ,EAAQK,QAAQD,GAAKR,GAC1BI,EAAQK,QAAQD,GAAO,CAACJ,EAAQK,QAAQD,GAAMD,GADhBH,EAAQK,QAAQD,GAAKE,KAAKH,IADlCH,EAAQK,QAAQD,GAAOD,EAAUH,EAAQO,gBAI7DP,EAUT,SAASQ,EAAWR,EAASI,GACI,KAAzBJ,EAAQO,aAAoBP,EAAQK,QAAU,IAAIX,SAC5CM,EAAQK,QAAQD,GAU9B,SAASK,IACP9B,KAAK0B,QAAU,IAAIX,EACnBf,KAAK4B,aAAe,EAxElBzD,OAAOY,SACTgC,EAAO1B,UAAYlB,OAAOY,OAAO,WAMxBgC,GAASnB,YAAWkB,OA2E/BgB,EAAazC,UAAU0C,WAAa,WAClC,IACIC,EACAhE,EAFAiE,EAAQ,GAIZ,GAA0B,IAAtBjC,KAAK4B,aAAoB,OAAOK,EAEpC,IAAKjE,KAASgE,EAAShC,KAAK0B,QACtBb,EAAIjD,KAAKoE,EAAQhE,IAAOiE,EAAMN,KAAKb,EAAS9C,EAAKkE,MAAM,GAAKlE,GAGlE,OAAIG,OAAOgE,sBACFF,EAAMG,OAAOjE,OAAOgE,sBAAsBH,IAG5CC,GAUTH,EAAazC,UAAUgD,UAAY,SAAmBf,GACpD,IAAIG,EAAMX,EAASA,EAASQ,EAAQA,EAChCgB,EAAWtC,KAAK0B,QAAQD,GAE5B,IAAKa,EAAU,MAAO,GACtB,GAAIA,EAASrB,GAAI,MAAO,CAACqB,EAASrB,IAElC,IAAK,IAAIxD,EAAI,EAAGC,EAAI4E,EAASjC,OAAQkC,EAAK,IAAI1C,MAAMnC,GAAID,EAAIC,EAAGD,IAC7D8E,EAAG9E,GAAK6E,EAAS7E,GAAGwD,GAGtB,OAAOsB,GAUTT,EAAazC,UAAUmD,cAAgB,SAAuBlB,GAC5D,IAAIG,EAAMX,EAASA,EAASQ,EAAQA,EAChCe,EAAYrC,KAAK0B,QAAQD,GAE7B,OAAKY,EACDA,EAAUpB,GAAW,EAClBoB,EAAUhC,OAFM,GAYzByB,EAAazC,UAAUoD,KAAO,SAAcnB,EAAOoB,EAAIC,EAAIC,EAAIC,EAAIC,GACjE,IAAIrB,EAAMX,EAASA,EAASQ,EAAQA,EAEpC,IAAKtB,KAAK0B,QAAQD,GAAM,OAAM,EAE9B,IAEIsB,EACAtF,EAHA4E,EAAYrC,KAAK0B,QAAQD,GACzBuB,EAAM5C,UAAUC,OAIpB,GAAIgC,EAAUpB,GAAI,CAGhB,OAFIoB,EAAUlB,MAAMnB,KAAKiD,eAAe3B,EAAOe,EAAUpB,QAAGA,GAACiC,GAErDF,GACN,KAAK,EAAG,OAAOX,EAAUpB,GAAGrD,KAAKyE,EAAUnB,UAASA,EACpD,KAAK,EAAG,OAAOmB,EAAUpB,GAAGrD,KAAKyE,EAAUnB,QAASwB,MACpD,KAAK,EAAG,OAAOL,EAAUpB,GAAGrD,KAAKyE,EAAUnB,QAASwB,EAAIC,MACxD,KAAK,EAAG,OAAON,EAAUpB,GAAGrD,KAAKyE,EAAUnB,QAASwB,EAAIC,EAAIC,MAC5D,KAAK,EAAG,OAAOP,EAAUpB,GAAGrD,KAAKyE,EAAUnB,QAASwB,EAAIC,EAAIC,EAAIC,MAChE,KAAK,EAAG,OAAOR,EAAUpB,GAAGrD,KAAKyE,EAAUnB,QAASwB,EAAIC,EAAIC,EAAIC,EAAIC,MAGtE,IAAKrF,EAAI,EAAGsF,EAAO,IAAIlD,MAAMmD,EAAK,GAAIvF,EAAIuF,EAAKvF,IAC7CsF,EAAKtF,EAAI,GAAK2C,UAAU3C,GAG1B4E,EAAUpB,GAAGX,MAAM+B,EAAUnB,QAAS6B,OACjC,CACL,IACIpC,EADAN,EAASgC,EAAUhC,OAGvB,IAAK5C,EAAI,EAAGA,EAAI4C,EAAQ5C,IAGtB,OAFI4E,EAAU5E,GAAG0D,MAAMnB,KAAKiD,eAAe3B,EAAOe,EAAU5E,GAAGwD,QAAGA,GAACiC,GAE3DF,GACN,KAAK,EAAGX,EAAU5E,GAAGwD,GAAGrD,KAAKyE,EAAU5E,GAAGyD,SAAU,MACpD,KAAK,EAAGmB,EAAU5E,GAAGwD,GAAGrD,KAAKyE,EAAU5E,GAAGyD,QAASwB,GAAK,MACxD,KAAK,EAAGL,EAAU5E,GAAGwD,GAAGrD,KAAKyE,EAAU5E,GAAGyD,QAASwB,EAAIC,GAAK,MAC5D,KAAK,EAAGN,EAAU5E,GAAGwD,GAAGrD,KAAKyE,EAAU5E,GAAGyD,QAASwB,EAAIC,EAAIC,GAAK,MAChE,QACE,IAAKG,EAAM,IAAKpC,EAAI,EAAGoC,EAAO,IAAIlD,MAAMmD,EAAK,GAAIrC,EAAIqC,EAAKrC,IACxDoC,EAAKpC,EAAI,GAAKP,UAAUO,GAG1B0B,EAAU5E,GAAGwD,GAAGX,MAAM+B,EAAU5E,GAAGyD,QAAS6B,IAKpD,OAAM,GAYRjB,EAAazC,UAAU8D,GAAK,SAAY7B,EAAOL,EAAIC,GACjD,OAAOE,EAAYpB,KAAMsB,EAAOL,EAAIC,OAYtCY,EAAazC,UAAU8B,KAAO,SAAcG,EAAOL,EAAIC,GACrD,OAAOE,EAAYpB,KAAMsB,EAAOL,EAAIC,OAatCY,EAAazC,UAAU4D,eAAiB,SAAwB3B,EAAOL,EAAIC,EAASC,GAClF,IAAIM,EAAMX,EAASA,EAASQ,EAAQA,EAEpC,IAAKtB,KAAK0B,QAAQD,GAAM,OAAOzB,KAC/B,IAAKiB,EAEH,OADAY,EAAW7B,KAAMyB,GACVzB,KAGT,IAAIqC,EAAYrC,KAAK0B,QAAQD,GAE7B,GAAIY,EAAUpB,GAEVoB,EAAUpB,KAAOA,GACfE,IAAQkB,EAAUlB,MAClBD,GAAWmB,EAAUnB,UAAYA,GAEnCW,EAAW7B,KAAMyB,OAEd,CACL,IAAK,IAAIhE,EAAI,EAAGuE,EAAS,GAAI3B,EAASgC,EAAUhC,OAAQ5C,EAAI4C,EAAQ5C,KAEhE4E,EAAU5E,GAAGwD,KAAOA,GACnBE,IAASkB,EAAU5E,GAAG0D,MACtBD,GAAWmB,EAAU5E,GAAGyD,UAAYA,IAErCc,EAAOL,KAAKU,EAAU5E,IAOtBuE,EAAO3B,OAAQL,KAAK0B,QAAQD,GAAyB,IAAlBO,EAAO3B,OAAe2B,EAAO,GAAKA,EACpEH,EAAW7B,KAAMyB,GAGxB,OAAOzB,MAUT8B,EAAazC,UAAU+D,mBAAqB,SAA4B9B,GACtE,IAAIG,EAUJ,OARIH,GACFG,EAAMX,EAASA,EAASQ,EAAQA,EAC5BtB,KAAK0B,QAAQD,IAAMI,EAAW7B,KAAMyB,KAExCzB,KAAK0B,QAAU,IAAIX,EACnBf,KAAK4B,aAAe,GAGf5B,MAMT8B,EAAazC,UAAUgE,IAAMvB,EAAazC,UAAU4D,eACpDnB,EAAazC,UAAU+B,YAAcU,EAAazC,UAAU8D,GAK5DrB,EAAawB,SAAWxC,EAKxBgB,EAAaA,aAAeA,EAM1B5E,EAAOD,QAAU6E,G,cC9UnB5E,EAAOD,QAAU,msB,cCAjBC,EAAOD,QAAU,2J,cCAjBC,EAAOD,QAAU,4J,cCAjBC,EAAOD,QAAU,wV,cCAjBC,EAAOD,QAAU,sO,cCAjBC,EAAOD,QAAU,wM,cCAjBC,EAAOD,QAAU,+xB,cCAjBC,EAAOD,QAAU,8sB,gBCAjB,IAAIsG,EAAMhF,EAAQ,IACFiF,EAAUjF,EAAQ,IAIC,iBAFvBiF,EAAUA,EAAQ3E,WAAa2E,EAAQC,QAAUD,KAG/CA,EAAU,CAAC,CAACtG,EAAOO,EAAI+F,EAAS,MAG9C,IAOIE,GAFSH,EAAIC,EALH,CAEd,OAAiB,OACjB,eAIeA,EAAQG,OAASH,EAAQG,OAAS,IAIjDzG,EAAOD,QAAUyG,G,6BClBjB,IACME,EAeFC,EAAY,WACd,IAAID,EAAO,GACX,OAAO,SAAkBE,GACvB,YAAWF,EAAKE,GAAyB,CACvC,IAAIC,EAAcC,SAASC,cAAcH,GAEzC,GAAIzG,OAAO6G,mBAAqBH,aAAuB1G,OAAO6G,kBAC5D,IAGEH,EAAcA,EAAYI,gBAAgBC,KAC1C,MAAOC,GAEPN,EAAc,KAIlBH,EAAKE,GAAUC,EAGjB,OAAOH,EAAKE,IApBA,GAwBZQ,EAAc,GAElB,SAASC,EAAqBC,GAG5B,IAFA,IAAIC,GAAU,EAELhH,EAAI,EAAGA,EAAI6G,EAAYjE,OAAQ5C,IACtC,GAAI6G,EAAY7G,GAAG+G,aAAeA,EAAY,CAC5CC,EAAShH,EACT,MAIJ,OAAOgH,EAGT,SAASC,EAAaC,EAAMC,GAI1B,IAHA,IAAIC,EAAa,GACbC,EAAc,GAETrH,EAAI,EAAGA,EAAIkH,EAAKtE,OAAQ5C,IAAK,CACpC,IAAIsH,EAAOJ,EAAKlH,GACZuH,EAAKJ,EAAQK,KAAOF,EAAK,GAAKH,EAAQK,KAAOF,EAAK,GAClDG,EAAQL,EAAWG,IAAO,EAC1BR,EAAa,GAAGpC,OAAO4C,EAAI,KAAK5C,OAAO8C,GAC3CL,EAAWG,GAAME,EAAQ,EACzB,IAAIC,EAAQZ,EAAqBC,GAC7BY,EAAM,CACRC,IAAKN,EAAK,GACVO,MAAOP,EAAK,GACZQ,UAAWR,EAAK,KAGH,IAAXI,GACFb,EAAYa,GAAOK,aACnBlB,EAAYa,GAAOM,QAAQL,IAE3Bd,EAAY3C,KAAK,CACf6C,WAAYA,EACZiB,QAASC,EAASN,EAAKR,GACvBY,WAAY,IAIhBV,EAAYnD,KAAK6C,GAGnB,OAAOM,EAGT,SAASa,EAAmBf,GAC1B,IAAIgB,EAAQ5B,SAAS6B,cAAc,SAC/BC,EAAalB,EAAQkB,YAAc,GAEvC,YAAWA,EAAWC,MAAuB,CAC3C,IAAIA,EAAmD,KAEnDA,IACFD,EAAWC,MAAQA,GAQvB,GAJA5H,OAAO6H,KAAKF,GAAYG,SAAQA,SAAUjH,GACxC4G,EAAMM,aAAalH,EAAK8G,EAAW9G,OAGP,mBAAnB4F,EAAQuB,OACjBvB,EAAQuB,OAAOP,OACV,CACL,IAAI9B,EAASD,EAAUe,EAAQuB,QAAU,QAEzC,IAAKrC,EACH,MAAM,IAAIsC,MAAM,2GAGlBtC,EAAOuC,YAAYT,GAGrB,OAAOA,EAcT,IACMU,EADFC,GACED,EAAY,GACT,SAAiBnB,EAAOqB,GAE7B,OADAF,EAAUnB,GAASqB,EACZF,EAAUG,OAAOC,SAASC,KAAK,QAI1C,SAASC,EAAoBhB,EAAOT,EAAO0B,EAAQzB,GACjD,IAAIC,EAAMwB,EAAS,GAAKzB,EAAIE,MAAQ,UAAUlD,OAAOgD,EAAIE,MAAO,MAAMlD,OAAOgD,EAAIC,IAAK,KAAOD,EAAIC,IAIjG,GAAIO,EAAMkB,WACRlB,EAAMkB,WAAWC,QAAUR,EAAYpB,EAAOE,OACzC,CACL,IAAI2B,EAAUhD,SAASiD,eAAe5B,GAClC6B,EAAatB,EAAMsB,WAEnBA,EAAW/B,IACbS,EAAMuB,YAAYD,EAAW/B,IAG3B+B,EAAW7G,OACbuF,EAAMwB,aAAaJ,EAASE,EAAW/B,IAEvCS,EAAMS,YAAYW,IAKxB,SAASK,EAAWzB,EAAOhB,EAASQ,GAClC,IAAIC,EAAMD,EAAIC,IACVC,EAAQF,EAAIE,MACZC,EAAYH,EAAIG,UAepB,GAbID,EACFM,EAAMM,aAAa,QAASZ,GAE5BM,EAAM0B,gBAAgB,SAGpB/B,GAAagC,OACflC,GAAO,uDAAuDjD,OAAOmF,KAAKC,SAASC,mBAAmBC,KAAKC,UAAUpC,MAAe,QAMlIK,EAAMkB,WACRlB,EAAMkB,WAAWC,QAAU1B,MACtB,CACL,KAAOO,EAAMgC,YACXhC,EAAMuB,YAAYvB,EAAMgC,YAG1BhC,EAAMS,YAAYrC,SAASiD,eAAe5B,KAI9C,IAAIwC,EAAY,KACZC,EAAmB,EAEvB,SAASpC,EAASN,EAAKR,GACrB,IAAIgB,EACAmC,EACAlB,EAEJ,GAAIjC,EAAQiD,UAAW,CACrB,IAAIG,EAAaF,IACjBlC,EAAQiC,IAAcA,EAAYlC,EAAmBf,IACrDmD,EAASnB,EAAoB3H,KAAK,KAAM2G,EAAOoC,MAC/CnB,EAASD,EAAoB3H,KAAK,KAAM2G,EAAOoC,WAE/CpC,EAAQD,EAAmBf,GAC3BmD,EAASV,EAAWpI,KAAK,KAAM2G,EAAOhB,GAEtCiC,EAAS,YAxFb,SAA4BjB,GAE1B,GAAyB,OAArBA,EAAMqC,WACR,OAAM,EAGRrC,EAAMqC,WAAWd,YAAYvB,GAN/B,CAyFyBA,IAKvB,OADAmC,EAAO3C,GACA,SAAqB8C,GAC1B,GAAIA,EAAQ,CACV,GAAIA,EAAO7C,MAAQD,EAAIC,KAAO6C,EAAO5C,QAAUF,EAAIE,OAAS4C,EAAO3C,YAAcH,EAAIG,UACnF,OAGFwC,EAAO3C,EAAM8C,QAEbrB,KAKN3J,EAAOD,QAAU,SAAU0H,EAAMC,IAC/BA,EAAUA,GAAW,IAGRiD,WAA0C,kBAAtBjD,EAAQiD,YACvCjD,EAAQiD,gBA5ND,IATIjE,IAMTA,EAAO8C,QAAQrJ,QAAU2G,UAAYA,SAASmE,MAAQ9K,OAAO+K,OAGxDxE,IAgOT,IAAIyE,EAAkB3D,EADtBC,EAAOA,GAAQ,GAC0BC,GACzC,OAAO,SAAgB0D,GAGrB,GAFAA,EAAUA,GAAW,GAE2B,mBAA5CnK,OAAOkB,UAAUkJ,SAAS3K,KAAK0K,GAAnC,CAIA,IAAK,IAAI7K,EAAI,EAAGA,EAAI4K,EAAgBhI,OAAQ5C,IAAK,CAC/C,IACI0H,EAAQZ,EADK8D,EAAgB5K,IAEjC6G,EAAYa,GAAOK,aAKrB,IAFA,IAAIgD,EAAqB9D,EAAa4D,EAAS1D,GAEtC6D,EAAK,EAAGA,EAAKJ,EAAgBhI,OAAQoI,IAAM,CAClD,IAEIC,EAASnE,EAFK8D,EAAgBI,IAIK,IAAnCnE,EAAYoE,GAAQlD,aACtBlB,EAAYoE,GAAQjD,UAEpBnB,EAAYqE,OAAOD,EAAQ,IAI/BL,EAAkBG,M,iBCxQtBvL,EADkCsB,EAAQ,GAARA,EACxBqK,IAEFjH,KAAK,CAACzE,EAAOO,EAAI,8mTAA6nT,KAEtpTP,EAAOD,QAAUA,G,6BCEjBC,EAAOD,QAAU,SAAU4L,GACzB,IAAIlE,EAAO,GAuDX,OArDAA,EAAK4D,SAAW,WACd,OAAOvI,KAAK8I,KAAIA,SAAU/D,GACxB,IAAIvB,EAsDV,SAAgCuB,EAAM8D,GACpC,IAoBiBtD,EAEbwD,EACAC,EAvBAxF,EAAUuB,EAAK,IAAM,GAErBkE,EAAalE,EAAK,GAEtB,IAAKkE,EACH,OAAOzF,EAGT,GAAIqF,GAAgC,mBAATtB,KAAqB,CAC9C,IAAI2B,GAWW3D,EAXe0D,EAa5BF,EAASxB,KAAKC,SAASC,mBAAmBC,KAAKC,UAAUpC,MACzDyD,EAAO,+DAA+D5G,OAAO2G,GAC1E,OAAO3G,OAAO4G,EAAM,QAdrBG,EAAaF,EAAWG,QAAQN,KAAIA,SAAUO,GAChD,MAAO,iBAAiBjH,OAAO6G,EAAWK,YAAc,IAAIlH,OAAOiH,EAAQ,UAE7E,MAAO,CAAC7F,GAASpB,OAAO+G,GAAY/G,OAAO,CAAC8G,IAAgBvC,KAAK,MAGnE,MAAO,CAACnD,GAASmD,KAAK,MAjBxB,CAtD2C5B,EAAM8D,GAE3C,OAAI9D,EAAK,GACA,UAAU3C,OAAO2C,EAAK,GAAI,MAAM3C,OAAOoB,EAAS,KAGlDA,KACNmD,KAAK,KAKVhC,EAAKlH,EAAI,SAAUE,EAAS4L,EAAYC,GACf,iBAAZ7L,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAG7B,IAAI8L,EAAyB,GAE7B,GAAID,EACF,IAAK,IAAI/L,EAAI,EAAGA,EAAIuC,KAAKK,OAAQ5C,IAAK,CAEpC,IAAIuH,EAAKhF,KAAKvC,GAAG,GAEP,MAANuH,IACFyE,EAAuBzE,OAK7B,IAAK,IAAIyD,EAAK,EAAGA,EAAK9K,EAAQ0C,OAAQoI,IAAM,CAC1C,IAAI1D,EAAO,GAAG3C,OAAOzE,EAAQ8K,IAEzBe,GAAUC,EAAuB1E,EAAK,MAKtCwE,IACGxE,EAAK,GAGRA,EAAK,GAAK,GAAG3C,OAAOmH,EAAY,SAASnH,OAAO2C,EAAK,IAFrDA,EAAK,GAAKwE,GAMd5E,EAAKhD,KAAKoD,MAIPJ,I;;;;;;;;;;;;;;;IChDLlF,EAAgB,SAAS1B,EAAG2B,GAI5B,OAHAD,EAAgBtB,OAAOwB,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAU9B,EAAG2B,GAAK3B,EAAE6B,UAAYF,IACvE,SAAU3B,EAAG2B,GAAK,IAAK,IAAIH,KAAKG,EAAOA,EAAEJ,eAAeC,KAAIxB,EAAEwB,GAAKG,EAAEH,MACpDxB,EAAG2B,IAGrB,SAASI,EAAU/B,EAAG2B,GAEzB,SAASK,IAAOC,KAAKC,YAAclC,EADnC0B,EAAc1B,EAAG2B,GAEjB3B,EAAEsB,UAAkB,OAANK,EAAavB,OAAOY,OAAOW,IAAMK,EAAGV,UAAYK,EAAEL,UAAW,IAAIU,GAG5E,IAAIG,EAAW,WAQlB,OAPAA,EAAW/B,OAAOgC,QAAU,SAAkBxB,GAC1C,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIkB,UAAUC,OAAQ5C,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIY,UAAU3C,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KAAIZ,EAAEY,GAAKC,EAAED,IAE9E,OAAOZ,IAEK2B,MAAMN,KAAMI,YA2GzB,SAASG,IACZ,IAAK,IAAIf,EAAI,EAAG/B,EAAI,EAAG+C,EAAKJ,UAAUC,OAAQ5C,EAAI+C,EAAI/C,IAAK+B,GAAKY,UAAU3C,GAAG4C,OACxE,IAAI9B,EAAIsB,MAAML,GAAIiB,EAAI,EAA3B,IAA8BhD,EAAI,EAAGA,EAAI+C,EAAI/C,IACzC,IAAK,IAAIiD,EAAIN,UAAU3C,GAAIkD,EAAI,EAAGC,EAAKF,EAAEL,OAAQM,EAAIC,EAAID,IAAKF,IAC1DlC,EAAEkC,GAAKC,EAAEC,GACjB,OAAOpC,E,sBCnJX,WAQE,WAAYmL,EAAkBC,EAAWC,EAAUC,GAAnD,WAHQ,KAAAC,WAcA,KAAAC,YAAc,SAACC,GACrBA,EAAGC,iBACH,EAAKP,IAAIQ,kBAAkBF,EAAGG,WAC9B,EAAKT,IAAIU,iBAAiB,cAAe,EAAKC,aAAYA,GAC1D,EAAKV,MAAMK,IAGL,KAAAK,YAAc,SAACL,GACrBA,EAAGC,iBACH,EAAKK,OAASN,EACV,EAAKF,UACT,EAAKA,WACLS,sBAAsB,EAAKC,eAGrB,KAAAA,YAAc,WACpB,EAAKZ,KAAK,EAAKU,QACf,EAAKR,YAGC,KAAAW,UAAY,SAACT,GACnBA,EAAGC,iBACH,EAAKP,IAAIgB,sBAAsBV,EAAGG,WAClC,EAAKT,IAAIiB,oBAAoB,cAAe,EAAKN,aAAYA,GAEzD,EAAKR,KAAK,EAAKA,IAAIG,IAnCvBhK,KAAK0J,IAAMA,EACX1J,KAAK2J,MAAQA,EACb3J,KAAK4J,KAAOA,EACZ5J,KAAK6J,IAAMA,EAEXH,EAAIU,iBAAiB,cAAepK,KAAK+J,aAAYA,GACrDL,EAAIU,iBAAiB,YAAapK,KAAKyK,WAAUA,GACjDf,EAAIU,iBAAiB,gBAAiBpK,KAAKyK,WAAUA,GAqCzD,OANE,YAAAG,QAAA,WACE5K,KAAK0J,IAAIiB,oBAAoB,cAAe3K,KAAK+J,aAAYA,GAC7D/J,KAAK0J,IAAIiB,oBAAoB,YAAa3K,KAAKyK,WAAUA,GACzDzK,KAAK0J,IAAIiB,oBAAoB,gBAAiB3K,KAAKyK,WAAUA,GAC7DzK,KAAK0J,IAAIiB,oBAAoB,cAAe3K,KAAKqK,aAAYA,IAEjE,EArDA,GCAO,SAASQ,KAET,SAASC,EAAM5L,EAAW6L,EAAWC,GAC1C,YAAO,IADwBD,MAAA,YAAWC,MAAA,GACnCC,KAAKC,IAAID,KAAKE,IAAIjM,EAAG8L,GAAQD,GAG/B,SAASK,EAAMlN,GACpB,MAAoB,iBAANA,EAGT,SAASmN,EAAMnN,GACpB,MAAoB,iBAANA,IAAmBoN,MAAMpN,GAGlC,SAASqN,EAAKrN,GACnB,MAAoB,mBAANA,EAGT,SAASsN,EAAMtN,GACpB,MAAoB,iBAANA,GAAuB,MAALA,EAG3B,SAASuN,EAAUvN,GACxB,OAAOA,aAAawN,QAGf,SAASC,EAAYzN,GAC1B,OAAOsN,EAAMtN,IAAMqN,EAAKrN,EAAE0N,OAGrB,SAASC,EAAS3M,EAAWgM,EAAaY,GAC/C,YAD+CA,MAAA,GACtC,MAAL5M,EAAW,OAAO4M,EACtB,GAAI5M,GAAK,EAAG,OAAO+L,KAAKE,IAAIjM,EAAGgM,GAE/B,KAAOhM,EAAI,GACTA,GAAKgM,EAGP,OAAOhM,EAAI,EAGN,SAAS6M,EACdC,EACAC,GAEA,GAAID,EAAID,UAAW,OAAOC,EAAID,UAAUE,GAExC,IAAK,IAAIxO,EAAI,EAAGC,EAAIsO,EAAI3L,OAAQ5C,EAAIC,EAAGD,IACrC,GAAIwO,EAAUD,EAAIvO,GAAIA,EAAGuO,GAAM,OAAOvO,EAGxC,OAAQ,EAGH,SAASyO,EACdxC,EACAyC,GAEA,IAAIC,EAAS1C,EAEb,MADmB,iBAARA,IAAkB0C,EAAMpI,SAASC,cAAcyF,IACnD0C,IAAQb,EAAKY,GAAYA,IAAaA,GAGxC,SAASE,EACdC,EACAC,EACAC,YAFAF,MAAA,aACAC,MAAA,QAGA,IAAMxO,EAAIiG,SAAS6B,cAAc0G,GAGjC,OAFAxO,EAAE0O,UAAYH,EACVE,GAAWzO,EAAE2O,UAAUC,IAAIH,GACxBzO,EAGF,SAAS6O,EACdlD,GAEA,IAAMmD,EAAQnD,EAAIoD,WAAUA,GAC5BD,EAAMjH,MAAMmH,SAAW,WACvBF,EAAMjH,MAAMoH,QAAU,IACtBH,EAAMvF,gBAAgB,UAEtBoC,EAAIzB,WAAW5B,YAAYwG,GAE3B,IAAMI,EAAQJ,EAAMK,YACdC,EAASN,EAAMO,aAIrB,OAFA1D,EAAIzB,WAAWd,YAAY0F,GAEpB,CAAEI,MAAK,EAAEE,OAAM,GAGjB,SAASE,EACdb,EACAD,kBAAA,OAEA,IAAM7C,EAAM1F,SAAS6B,cAAc0G,GAEnC,OADIC,GAAW9C,EAAIgD,UAAUC,IAAIH,GAC1B9C,EAGT,IAAM4D,EAAY,IAAIC,UACf,SAASC,EACdC,EACAC,GAEA,YAAO,IAFPA,MAAA,iBAEOJ,EAAUK,gBAAgBF,EAAKC,GAAM9F,WAGvC,SAASgG,EAASH,EAAajB,GACpC,IAAM9C,EAAM8D,EAASC,GAQrB,OAPIjB,IACE9C,EAAIgD,UACNhD,EAAIgD,UAAUC,IAAIH,GAElB9C,EAAIxD,aAAa,QAASsG,IAGvB9C,EAGF,SAASmE,EAASC,EAAoB9K,EAASyK,GAEpD,YAF2CzK,MAAA,YAASyK,MAAA,MACpDK,EAAIC,OAAOD,IACLzN,QAAU,EAAG,OAAOyN,EAE1B,IAAK,IAAIrQ,EAAI,EAAGC,EAAIsF,EAAM8K,EAAEzN,OAAQ5C,EAAIC,EAAGD,IACzCqQ,EAAIL,EAAMK,EAGZ,OAAOA,EAGF,SAASE,EAAWC,GACzB,OAAKA,GAAWA,EAAU,EAAU,QAEpCA,EAAUhD,KAAKiD,MAAMD,IACP,GAAW,KAAKJ,EAASI,GACnCA,EAAU,KACFhD,KAAKkD,MAAMF,EAAU,IAAG,IAAIJ,EAASI,EAAU,IAGjDhD,KAAKkD,MAAMF,EAAU,MAAK,IAAIJ,EACtC5C,KAAKkD,MAAOF,EAAU,KAAQ,KAC/B,IAAIJ,EAASI,EAAU,IAGnB,ICpJFlN,EDoJQqN,EAAK,CAChBC,OAAQhR,OAAOiR,UAAUC,UAAUC,QAAQ,SAAW,EACtDC,MAAO,uBAAuBC,KAAKJ,UAAUK,UAC7CC,KAAM,eAAeF,KAAKJ,UAAUC,YAGzBM,EAAiB,SAAIzJ,GAGhC,OAFCA,EAAYrF,iBACLqF,EAAYrF,GACbqF,GAGI0J,EAAc,WACzB,MAAO,CAAC9K,SAAS+K,KAAKC,YAAahL,SAAS+K,KAAKE,eAGtCC,EAAgB,SAC3BzB,EACA0B,GAEA,IACE,OAAOzH,KAAK0H,MAAM3B,GAClB,MAAOpJ,GACP,OAAO8K,GAAS1B,IAIP4B,EAAoB,SAC/BjK,EACA+J,kBAAA,IAEA,IACE,OAAOzH,KAAKC,UAAUvC,GACtB,MAAOf,GACP,OAAO8K,IAIEG,EAAS,SACpBxL,EACAuF,GAEA,gBAHAvF,MAAA,IAGKuF,GAELlL,OAAO6H,KAAKqD,GAAQpD,SAAQA,SAACjH,G,QACvBwM,EAAMnC,EAAOrK,KACXb,OAAO6H,KAAKlC,GAAQ0K,QAAQxP,GAAO,IACrC8E,EAAS,OAAKA,KAAM,MAAG9E,GAAM,GAAE,KAEjCsQ,EAAOxL,EAAO9E,GAAMqK,EAAOrK,KAE3B8E,EAAS,OAAKA,KAAM,MAAG9E,GAAMqK,EAAOrK,GAAI,OAIrC8E,GAbaA,GAgBTyL,EAAO,SAClBC,EACAC,GAEA,IAAMC,EAAM,IAAIC,eAChBD,EAAIE,mBAAqB,WACD,GAAlBF,EAAIG,aACFH,EAAII,QAAU,KAAOJ,EAAII,OAAS,IACpCL,EAAG,KAAMC,EAAIK,cAEbN,EAAG,MAITC,EAAIM,QAAU,SAACC,GAAc,OAAAR,EAAGQ,IAChCP,EAAIQ,KAAK,MAAOV,MAChBE,EAAIS,Q,EE1NN,YAGE,WAAYC,EAAkBpO,GAA9B,MACE,cAAO,K,OAEHoO,IAAWhF,EAAMgF,KACnB,EAAKA,OAASA,EAEVpO,GACFA,EAAOiE,SAAQA,SAACoK,GACd,IAAMC,EAAS,KAAOD,EAClB9E,EAAM,EAAa+E,KACrBF,EAAOjN,GAAGkN,EAAS,EAAaC,GAAQrR,KAAK,Q,EAMzD,OAnB0C,OAmB1C,EAnBA,CAA0C,EAAA6C,eDJ1C,SAAKf,GACH,EAAAwP,aAAA,cACA,EAAAC,QAAA,UACA,EAAAC,cAAA,eACA,EAAAC,cAAA,eACA,EAAAC,iBAAA,kBACA,EAAAC,gBAAA,iBACA,EAAAC,gBAAA,iBACA,EAAAC,YAAA,aACA,EAAAC,cAAA,eACA,EAAAC,gBAAA,iBACA,EAAAC,KAAA,OACA,EAAAC,MAAA,QACA,EAAAC,MAAA,QACA,EAAAC,SAAA,WACA,EAAAC,QAAA,UACA,EAAAC,QAAA,UACA,EAAAC,QAAA,UACA,EAAAC,QAAA,UACA,EAAAC,MAAA,QACA,EAAAC,mBAAA,mBACA,EAAAC,mBAAA,mBACA,EAAAC,cAAA,eACA,EAAAC,aAAA,cACA,EAAAC,oBAAA,oBACA,EAAAC,gBAAA,iBACA,EAAAC,kBAAA,kBACA,EAAAC,mBAAA,mBACA,EAAAC,cAAA,eACA,EAAAC,iBAAA,kBACA,EAAAC,aAAA,cACA,EAAAC,aAAA,cA/BF,CAAKtR,MAAM,KAkCI,I,EAAA,I,EErBf,YAIE,WACEqP,EACA,G,IAAA,kBACE,IAAA1G,eAAM,EAAN,QACA1H,EAAA,EAAAA,OACA,IAAAsQ,0BAAiB,GAAjB,EACA9F,EAAA,EAAAA,UANJ1O,EASE,YAAMsS,EAAQpO,IAAO,K,OAiCf,EAAAuQ,eAAiB,WACvB,EAAKC,cAOP,EAAAA,WAAa,WACX,EAAKC,MAAQ,EAAK/I,IAAIgJ,yBAxCtB,EAAKhJ,IAAM0B,EAAM1B,GAAO2D,EAAW,GAAI3D,GAAOA,EAE1C8C,GAAW,EAAKmG,SAASnG,GAEzB4D,GAAUkC,GACZ,EAAKA,iB,EA4GX,OAhIuC,OAwBrC,sBAAI,mBAAI,C,IAAR,WACE,OAAItS,KAAKyS,QACTzS,KAAKyS,MAAQzS,KAAK0J,IAAIgJ,yBADC1S,KAAKyS,O,gCAK9B,sBAAI,mBAAI,C,IAAR,WACE,OAAOzS,KAAK0J,IAAIkJ,W,IAGlB,SAASC,GACP7S,KAAK0J,IAAIkJ,UAAYC,G,gCAGvB,sBAAI,mBAAI,C,IAAR,WACE,OAAO7S,KAAK0J,IAAI+C,W,IAGlB,SAASH,GACPtM,KAAK0J,IAAI+C,UAAYH,G,gCAOvB,YAAAgG,eAAA,SAAelC,kBAASpQ,KAAKoQ,QAC3BA,EAAOjN,GAAG,EAAO+O,cAAelS,KAAKuS,iBAOvC,YAAA7M,SAAA,SAASE,GAAT,WACMwF,EAAMxF,GACR5F,KAAK0J,IAAI9D,MAAMmB,QAAUnB,EAEzBzH,OAAO6H,KAAKJ,GAAOK,SAAQA,SAACxF,GAC1B,EAAKiJ,IAAI9D,MAAMnF,GAAYmF,EAAMnF,OAKvC,YAAA4F,YAAA,SAAYtI,GACViC,KAAK0J,IAAIrD,YAAYyM,EAAUC,YAAYhV,GAAKA,EAAE2L,IAAM3L,IAG1D,YAAAoI,OAAA,SAAOpI,EAAqBiV,GAC1BhT,KAAK0J,IAAItC,aACP0L,EAAUC,YAAYhV,GAAKA,EAAE2L,IAAM3L,EACnCiC,KAAK0J,IAAIuJ,SAASD,KAItB,YAAA7L,YAAA,SAAYpJ,GACViC,KAAK0J,IAAIvC,YAAY2L,EAAUC,YAAYhV,GAAKA,EAAE2L,IAAM3L,IAG1D,YAAA4U,SAAA,SAASO,GAAT,WACEA,EAAIC,MAAM,KAAKlN,SAAQA,SAACnI,GACtB,EAAK4L,IAAIgD,UAAUC,IAAI7O,OAI3B,YAAAsV,cAAA,SAAcF,GACZ,OAAOlT,KAAK0J,IAAIgD,UAAU2G,SAASH,IAGrC,YAAAI,YAAA,SAAYJ,EAAaK,GACvBvT,KAAK0J,IAAIgD,UAAU8G,OAAON,EAAKK,IAGjC,YAAAE,YAAA,SAAYP,GACVlT,KAAK0J,IAAIgD,UAAU7F,OAAOqM,IAG5B,YAAAQ,SAAA,SAAS3V,GACPA,EAAEsI,YAAYrG,KAAK0J,MAGrB,YAAAiK,WAAA,SAAW5V,GACTA,EAAEoJ,YAAYnH,KAAK0J,MAGrB,YAAAkK,iBAAA,WACE5T,KAAK0J,IAAIzB,WAAWd,YAAYnH,KAAK0J,MAGvC,YAAAmK,OAAA,WACE7T,KAAK0J,IAAImK,WAGX,YAAAC,QAAA,WACE9T,KAAK0J,IAAImK,WAGX,YAAAE,SAAA,WACE/T,KAAK0J,IAAIxD,aAAa,WAAY,MAG7B,EAAA6M,YAAP,SAAmB3N,GACjB,OAAOA,aAAe0N,GAE1B,EAhIA,CAAuC,GCb1BkB,EAA6B,CACxCC,sBAAuB,sBACvBC,mBAAoB,8CACpBC,kBAAmB,6CACnBC,iBAAkB,sBCJPC,EAAS,UACTC,EAASD,EAAS,IAGlBE,EAASF,EAAS,UAGlBG,EAAOH,EAAS,QAyBhBI,EAAUH,EAAS,UACnBI,EAAeD,EAAU,QAGzBE,EAAOL,EAAS,OCL7B,aAKE,WAAYvP,GAAZ,WAHQ,KAAA6P,WAqBA,KAAAC,KAAO,WACb,EAAKD,SAAW,EAAKA,QACrB,EAAK7M,UAWP,KAAA+M,aAAe,SAAC9K,GACdA,EAAGC,iBACH,EAAKwF,IAAI,EAAKmF,QAAS,EAAKC,KAAM7K,IAhClChK,KAAK0J,IAAM2D,EDrBe0H,0BCsB1B,IAAMtX,EAAIgO,EAAU1G,EAAKiQ,MAAQjQ,EAAKiQ,KAAO3I,EAAQtH,EAAKiQ,MAC1DvX,EAAEiP,UAAUC,IDtBgBsI,4BCuB5BjV,KAAK0J,IAAIrD,YAAY5I,GACrBuC,KAAK0J,IAAIrD,YACPoF,EAAU1G,EAAKmQ,OAASnQ,EAAKmQ,MAAQ7I,EAAQtH,EAAKmQ,QAGpDlV,KAAK4U,UAAY7P,EAAK6P,QACtB5U,KAAK+H,SAEDwD,EAAKxG,EAAKoQ,WACZnV,KAAKyP,GAAK1K,EAAKoQ,QACfnV,KAAK0J,IAAIU,iBAAiB,QAASpK,KAAK8U,cAAaA,IAqB3D,OAZE,YAAA/M,OAAA,WACM/H,KAAK4U,QACP5U,KAAK0J,IAAIgD,UAAUC,ID3CasI,kCC6ChCjV,KAAK0J,IAAIgD,UAAU7F,OD7CaoO,mCCqDtC,EAxCA,G,EA0CA,YAKE,WAAY7E,GAAZ,MACE,YAAMA,EAAQ,CACZpO,OAAQ,CACN,EAAO8P,oBACP,EAAOF,cACP,EAAOD,oBAETnF,UDtEmB4I,uBCuEnB,KAZI,EAAAC,UAqCR,EAAAP,aAAe,SAAC9K,GACdA,EAAGC,iBACHD,EAAGsL,kBACH,EAAKD,UACL,EAAKE,QA3BL,IAAMC,EAAO,EAAKpF,OAAOxL,QAAQ6Q,Y,OACjC,EAAKC,OAASF,EAAKE,OACnB,EAAKlC,OAASgC,EAAKhC,OAEnB,EAAKK,SACL,EAAKwB,QAAU,EAAKK,OACpBF,EAAKG,MAAM1P,SAAQA,SAAClB,GAClB,EAAKsB,YAAY,IAAI,EAAStB,GAAM2E,QAGtC,EAAKA,IAAIU,iBAAiB,QAAS,EAAK0K,c,EAkE5C,OA3FyC,OA4BvC,YAAAS,KAAA,WACEvV,KAAKoQ,OAAOwF,SAASC,KAAKN,OAC1BvV,KAAK6T,UAGP,YAAAiC,KAAA,WACE9V,KAAKoQ,OAAOwF,SAASC,KAAKC,OAC1B9V,KAAK8T,WAUP,YAAAiC,QAAA,SAAQP,EAAuBxC,GAC7B,IAAMjO,EAAO,IAAI,EAASyQ,GAK1B,OAJAxV,KAAK0J,IAAItC,aACPrC,EAAK2E,IACL1J,KAAK0J,IAAIuJ,SAASpH,EAASmH,EAAKhT,KAAK0J,IAAIuJ,SAAS5S,UAE7C0E,GAGT,YAAAiR,oBAAA,SAAoBhM,GAKlB,GAJKhK,KAAKqV,QAAWrV,KAAKwT,SACxBxJ,EAAGC,iBACHD,EAAGsL,mBAEAtV,KAAK0V,OAEV,GAAI1V,KAAKqV,QAAUrV,KAAKwT,OACtBxT,KAAKqV,UACLrV,KAAKuV,WACA,CACLvV,KAAK8V,OACC,gBAAE7I,EAAA,EAAAA,MAAOE,EAAA,EAAAA,OACT,mBAAE8I,EAAA,EAAAA,KAAMC,EAAA,EAAAA,IACR,MAACC,EAAA,KAAGC,EAAA,KAEN1Y,EAAIsM,EAAGqM,MAAQJ,EACftX,EAAIqL,EAAGsM,MAAQJ,EACflM,EAAGqM,MAAQpJ,EAAQkJ,IAAGzY,EAAIyY,EAAIlJ,GAC9BjD,EAAGsM,MAAQnJ,EAASiJ,IAAGzX,EAAIyX,EAAIjJ,GAEnCnN,KAAK0F,SAAS,CACZuQ,KAAMvY,EAAI,KACVwY,IAAKvX,EAAI,OAEXqB,KAAKqV,YAIT,YAAAkB,eAAA,WACEvW,KAAKuV,OACLvV,KAAKqV,WAGP,YAAAmB,mBAAA,WACExW,KAAKuV,QAET,EA3FA,CAAyC,G,ECpEzC,WAIE,WAAYnF,GAAZ,WAWQ,KAAA0E,aAAe,SAAC9K,GACtBA,EAAGC,iBACHD,EAAGsL,kBACH,EAAKlF,OAAO3N,KAAK,EAAOkP,qBAbxB3R,KAAKoQ,OAASA,EACdpQ,KAAK0J,IAAM2D,EFFU+H,qBEGrBpV,KAAK0J,IAAIU,iBAAiB,QAASpK,KAAK8U,cACxC9U,KAAKuV,OAoBT,OAjBE,sBAAI,uBAAQ,C,IAAZ,WACE,OAAQvV,KAAK0J,IAAImK,Q,gCASnB,YAAAiC,KAAA,WACE9V,KAAK0J,IAAImK,WAGX,YAAA0B,KAAA,WACEvV,KAAK0J,IAAImK,WAEb,EA5BA,G,ECFA,WAGE,WAAYrH,GACVxM,KAAK0J,IAAM2D,EHgEIgH,eG/DX7H,GAAWxM,KAAK0J,IAAIgD,UAAUC,IAAIH,GAM1C,OAHE,YAAAiK,KAAA,SAAKC,GACH1W,KAAK0J,IAAI9D,MAAM+Q,UAAY,UAAU7L,EAAM4L,GAAE,KAEjD,EAXA,G,GCAA,WAGE,WAAYlK,GACVxM,KAAK0J,IAAM2D,EJiEIgH,eIhEX7H,GAAWxM,KAAK0J,IAAIgD,UAAUC,IAAIH,GAM1C,OAHE,YAAAiK,KAAA,SAAKC,GACH1W,KAAK0J,IAAI9D,MAAM+Q,UAAY,cAAcD,EAAC,OAE9C,EAXA,G,GCoBA,YAWE,WAAYtG,EAAiBwG,GAA7B,MACE,YAAMxG,EAAQ,CAAE5D,ULfC8H,mBKekB,K,OAEnC,EAAKkB,KAAOpF,EAAOxL,QAAQiS,UAC3B,EAAKC,YAAc,EAAKtB,KAAKuB,OAAO1W,UAAY,EAAKmV,KAAKwB,QAEtD,EAAKF,YACP,EAAKG,aAAe,EAAKzB,KAAKvI,MAAQ,EACtC,EAAKiK,eAAiB,EAAK1B,KAAK2B,IAAM,EAAK3B,KAAK4B,IAChD,EAAKC,WAAa,EAAK7B,KAAK8B,UAAY,EAAK9B,KAAK+B,QAGpD,EAAKX,YAAcA,EACnB,EAAKY,KAAOnK,EL1BUoK,sBK2BtB,EAAKC,IAAMrK,EL1BUoK,qBK4BjB,EAAKX,YACP,EAAKY,IAAI9R,MAAMqH,MAAQ,EAAKuI,KAAKvI,MAAQ,KACzC,EAAKyK,IAAI9R,MAAMuH,OAAS,EAAKqI,KAAKrI,OAAS,KAC3C,EAAK9G,YAAY,EAAKqR,MAExB,EAAKrR,YAAY,EAAKmR,M,EAoC1B,OApEuC,OAmC7B,YAAAG,SAAR,SAAiB1J,GACf,GAAIjO,KAAKwV,KAAKwB,QAAS,OAAOhX,KAAKwV,KAAKwB,QAAQ/I,GAEhD,IAAMxQ,EAAgE,EAA5DwN,KAAKC,IAAI+C,EAAUjO,KAAKwV,KAAK+B,OAASvX,KAAKqX,WAAY,GAC3D7H,EAAMxP,KAAKwV,KAAKuB,OAAQtZ,EAAIuC,KAAKkX,eAAkB,GAEzD,OAAK1H,EAKE,CAAEA,IAAG,EAAEkH,EAHHjZ,EAAIuC,KAAKwV,KAAK2B,IAAOnX,KAAKwV,KAAKvI,MAGzB2K,KAFHna,EAAIuC,KAAKkX,eAAkBlX,KAAKwV,KAAK4B,KAAOpX,KAAKwV,KAAKrI,gBAKtE,YAAApF,OAAA,SAAOkO,EAAchI,GAGnB,IAAI4J,EACJ,GAHA7X,KAAKwX,KAAK5E,UAAY5E,EAAWC,GAG7BjO,KAAK8W,UAAW,CAClBe,EAAO7X,KAAKiX,aACZ,IAAMvX,EAAIM,KAAK2X,SAAS1J,GACpBvO,GAAKA,EAAE8P,MACTxP,KAAK0X,IAAI9R,MAAMkS,gBAAkB,OAAOpY,EAAE8P,IAAG,IAC7CxP,KAAK0X,IAAI9R,MAAMmS,mBAAqB,IAAIrY,EAAEgX,EAAC,OAAOhX,EAAEkY,EAAC,WAGvDC,EAAO7X,KAAKgY,KAAK/K,MAAQ,EAG3BjN,KAAK0F,SAAS,CACZuQ,KAASnL,EAAMmL,EAAM4B,EAAM7X,KAAK4W,YAAYoB,KAAK/K,MAAQ4K,GAAK,QAGpE,EApEA,CAAuC,G,GCNvC,YAaE,WAAYzH,GAAZ,MACE,YAAMA,EAAQ,CACZpO,OAAQ,CAAC,EAAO8O,YAAa,EAAOM,SAAU,EAAOX,eACrD6B,gBAAeA,EACf9F,UNVkB8H,sBMWlB,KATI,EAAA2D,oBACA,EAAAC,eAAiB,EACjB,EAAAC,YAwCA,EAAAC,iBAAmB,SAACpO,GAC1B,EAAKoG,OAAOiI,QACZ,EAAKF,YACL,EAAKG,YAAYtO,IAGX,EAAAsO,YAAc,SAACtO,GACrB,IAAM0M,EAAI1M,EAAGqM,MAAQ,EAAK2B,KAAK/B,KAC/B,EAAKsC,IAAI9B,KAAK3L,EAAM4L,EAAG,EAAG,EAAKsB,KAAK/K,QACpC,EAAKuL,UAAU/B,KAAKC,EAAI,EAAKsB,KAAK/K,OAClC,EAAKiL,eAAiBlO,EAAGqM,MACzB,EAAKoC,gBAAgB/B,IAGf,EAAAgC,eAAiB,SAAC1O,GACxB,EAAKmO,YACL,EAAK/H,OAAOuI,KAAK,EAAKC,gBAAgB5O,EAAGqM,QACzC,EAAKjG,OAAOyI,QAGN,EAAAC,iBAAmB,SAAC9O,GAC1BA,EAAGC,iBACH,EAAKiO,eAAiBlO,EAAGqM,MACrB,EAAK4B,mBACT,EAAKA,oBACL1N,sBAAsB,EAAKwO,0BAM7B,EAAAvG,WAAa,WACX,EAAKC,MAAQ,EAAK/I,IAAIgJ,wBACtB,EAAKsG,mBA6BP,EAAAD,uBAAyB,WACvB,IAAM9C,EAAO,EAAKiC,eAAiB,EAAKF,KAAK/B,KAC7C,EAAKgD,eAAehD,GACpB,EAAKwC,gBAAgBxC,GACrB,EAAKgC,qBAjGL,EAAKiB,WAAa7L,ENZU+D,gCMc5B,IAAM+H,EAAS,IAAI,ENVK/H,wB,OMWxB,EAAKgI,OAAS,IAAI,ENdMhI,wBMexB,EAAKiI,SAAW,IAAI,ENdMjI,0BMe1B,EAAKoH,UAAY,IAAI,ENdMpH,2BMe3B,EAAKmH,IAAM,IAAI,GNbSnH,wBMcxB,EAAKyF,UAAY,IAAI,GAAUzG,EAAQ,GAEvC,EAAKkJ,KAAO,IAAI,EACdH,EAAOzP,IACP,EAAK0O,iBACL,EAAKE,YACL,EAAKI,gBAGPS,EAAOzP,IAAIU,iBAAiB,YAAa,EAAK0O,kBAAiBA,GAE/D,EAAKI,WAAW7S,YAAY,EAAK+S,OAAO1P,KACxC,EAAKwP,WAAW7S,YAAY,EAAKgT,SAAS3P,KAC1C,EAAKwP,WAAW7S,YAAY,EAAKmS,UAAU9O,KAC3C,EAAKwP,WAAW7S,YAAY8S,EAAOzP,KACnC,EAAKrD,YAAY,EAAK6S,YACtB,EAAK7S,YAAY,EAAKkS,IAAI7O,KAC1B,EAAKrD,YAAY,EAAKwQ,W,EAqG1B,OAjJyC,OA+C/B,YAAA+B,gBAAR,SAAwBlC,GACtB,OAASA,EAAI1W,KAAKgY,KAAK/B,MAAQjW,KAAKgY,KAAK/K,MAASjN,KAAKoQ,OAAOmJ,UAuChE,YAAAP,gBAAA,WACE,IAAIhZ,KAAKoQ,OAAOwF,SAAS4D,OAAzB,CACA,IAAMC,EAAazZ,KAAKoQ,OAAOsJ,YAAc1Z,KAAKoQ,OAAOmJ,SACzDvZ,KAAKuY,IAAI9B,KAAKzW,KAAKgY,KAAK/K,MAAQwM,GAChCzZ,KAAKwY,UAAU/B,KAAKgD,KAGtB,YAAAE,aAAA,sBACE,IAAI3Z,KAAKoQ,OAAOwF,SAAS4D,OAAzB,CAGA,IAFexZ,KAAKoQ,OAAOwJ,SAASvZ,OAEvB,OAAOL,KAAKoZ,OAAO3C,KAAK,GAErC,IAAMoD,EAAU7Z,KAAKoQ,OAAOsJ,YACxBD,EAAa,EAEjBzZ,KAAKoQ,OAAO0J,YAAWA,SAACnQ,EAAOE,GAC7B,GAAIF,GAASkQ,GAAWhQ,GAAOgQ,EAE7B,OADAJ,EAAa5P,EAAMlL,EAAKyR,OAAOmJ,eAKnCvZ,KAAKoZ,OAAO3C,KAAKgD,KAUnB,YAAAR,eAAA,SAAehD,GACbjW,KAAKqZ,SAAS5C,KAAKR,EAAOjW,KAAKgY,KAAK/K,QAGtC,YAAAwL,gBAAA,SAAgBxC,GACdjW,KAAK6W,UAAU9O,OAAOkO,EAAMjW,KAAK4Y,gBAAgB5Y,KAAKkY,kBAGxD,YAAA6B,eAAA,WACE/Z,KAAKgZ,kBACLhZ,KAAK2Z,gBAGP,YAAAK,aAAA,WACMha,KAAKmY,UACTnY,KAAKgZ,mBAGP,YAAAiB,WAAA,WACEja,KAAK2Z,gBAGP,YAAA/O,QAAA,WACE5K,KAAKsZ,KAAK1O,WAEd,EAjJA,CAAyC,GCEnCsP,GAAqB,CACzBC,KAAM,CACJ,SAAO,KACL,EAAY,WAAG,KACf,EAf0B,mBAeN,OACpB,EAAS,SAAG,KACZ,EAAK,KAAG,KACR,EAAM,MAAG,KACT,EAAK,KAAG,KACR,EAAO,OAAG,OACV,EAAO,OAAG,KACV,EAAM,MAAG,KACT,EAAS,SAAG,KACZ,EAAM,MAAG,K,IAGbC,QAAA,SAAQD,EAAcnR,GACpBhJ,KAAKma,KAAKA,GAAQ,OAAKna,KAAKma,KAAKA,IAAUnR,GAC3ChJ,KAAKqa,YAEPA,SAAA,sBACElc,OAAO6H,KAAKhG,KAAKma,MAAMlU,SAAQA,SAACxF,GAC9B9B,EAAKwb,KAAK1Z,EAAE0S,MAAM,KAAK,IAAMxU,EAAKwb,KAAK1Z,OAG3C9B,EAAA,SAAEK,EAAamb,GACb,IAAMG,EAAQta,KAAKma,KAAKA,IAASna,KAAKma,KAAKA,EAAKhH,MAAM,KAAK,IAC3D,OAAQmH,GAASA,EAAMtb,IAASA,IAIpCkb,GAASG,WAEM,U,wJC1CA,IACbxB,KAAA,SAAK3F,GACH,OAAOtF,EAAS,KAAMsF,IAExBmF,MAAA,SAAMnF,GACJ,OAAOtF,EAAS,KAAOsF,IAEzBqH,gBAAA,SAAgBrH,GACd,OAAOtF,EAAS,KAAiBsF,IAEnCsH,eAAA,SAAetH,GACb,OAAOtF,EAAS,KAAgBsF,IAElCuH,OAAA,SAAOvH,GACL,OAAOtF,EAAS,KAAQsF,IAE1BwH,MAAA,SAAMxH,GACJ,OAAOtF,EAAS,KAAOsF,IAEzByH,SAAA,SAASzH,GACP,OAAOtF,EAAS,KAAUsF,IAE5B0H,GAAA,SAAG1H,GACD,OAAOtF,EAAS,KAAIsF,KCdxB,eAIE,WAAY9C,EAAkByK,kBAAA,I,IAAc,wDAA5C,MACE,YAAMzK,EAAQ,CACZpO,OAAM,EACNwK,UAAWiI,EAAU,IAAME,KAC3B,K,OAPe,EAAAmG,IAAMzN,EAAWqH,GACpC,EAAA1B,IAAM,EAaE,EAAA+H,UAAY,SAAC/Q,GACnBA,EAAGC,iBACH,EAAKkL,QAAQnL,IAPb,EAAKgR,cAAcH,GACnB,EAAKnR,IAAIU,iBAAiB,QAAS,EAAK2Q,WACxC,EAAK1U,YAAY,EAAKyU,K,EAqB1B,OAjC2C,OAsBzC,YAAAG,QAAA,WACEjb,KAAK8a,IAAIpO,UAAUC,ITRU+H,8BSW/B,YAAAwG,SAAA,WACElb,KAAK8a,IAAIpO,UAAUC,ITXW+H,+BSchC,YAAAsG,cAAA,SAAcnI,GACZ7S,KAAK8a,IAAIlI,UAAYC,GAEzB,EAjCA,CAA2C,G,MAmC3C,eAGE,WAAY2C,EAAgBpF,GAA5B,MACE,YAAMA,EAAQoF,EAAK3C,OAAK,K,OACpB2C,EAAKR,MACP,EAAK3O,YAAY+E,EAAMoK,EAAKR,MAAQ3I,EAAQmJ,EAAKR,MAAQQ,EAAKR,MAE5DQ,EAAK2F,MAAM3F,EAAK2F,KAAK,EAAM/K,GAC3BoF,EAAKxC,MAAK,EAAKA,IAAMwC,EAAKxC,K,EAMlC,OAfgC,OAY9B,YAAAmC,QAAA,SAAQnL,GACFhK,KAAK8U,cAAc9U,KAAK8U,aAAa9K,IAE7C,EAfA,CAAgC,I,GC9C9B,SAAYkL,GAAZ,WASQ,KAAAkG,kBAAoB,SAACpR,GAC3BA,EAAGC,iBACHD,EAAGsL,kBACH,EAAK+F,aAAarR,IAXlBhK,KAAKsb,MAAQjO,EV2CiBkO,0BU1C9Bvb,KAAKwb,WAAanP,EAAQ6I,GAC1BlV,KAAKyb,WAAapO,EAAW,GAAI,QACjCrN,KAAKsb,MAAMjV,YAAYrG,KAAKwb,YAC5Bxb,KAAKsb,MAAMjV,YAAYrG,KAAKyb,YAC5Bzb,KAAKsb,MAAMlR,iBAAiB,QAASpK,KAAKob,mBAAkBA,I,GCchE,YAUE,WACEhL,EACAoF,EACAkG,GAHF,MAKE,YAAMlG,EAAKN,QAAM,K,OAXV,EAAAxL,IAAM2D,IA+BPnP,EAAAyd,mBAAqB,SAACle,GAAc,gBAACuM,GAC3CA,EAAGC,iBACHD,EAAGsL,kBACC,EAAK5W,QAAUjB,IACf8N,EAAK,EAAKiK,KAAKoG,UACjB,EAAKpG,KAAKoG,SAAS,EAAKpG,KAAK5Q,QAAQnH,GAAI,EAAKoe,OAAO5c,KAAK,EAAMxB,IAEhE,EAAKoe,OAAOpe,MA1Bd,EAAK2S,OAASA,EACd,EAAKoF,KAAOA,EACZ,EAAKkG,aAAeA,EAEpB,EAAKJ,MAAM5O,UAAUC,IXOW4O,4BWLhC,EAAK3W,QAAU4Q,EAAK5Q,QAAQkE,KAAIA,SAAC5K,EAAGT,GAClC,IAAMqe,EAAMzO,EXCgBkO,0BWG5B,OAHAO,EAAIpP,UAAUC,IXHeoP,2BWI7BD,EAAIrP,UAAYvO,EAAEgX,MAClB4G,EAAI1R,iBAAiB,QAAS,EAAKuR,mBAAmBle,OAC/Cqe,KAET,EAAKlX,QAAQqB,SAAQA,SAAC/H,GAAM,SAAKwL,IAAIrD,YAAYnI,MAEjD,EAAKQ,MAAQ8W,EAAKZ,SAAW,EAC7B,EAAKiH,OAAO,EAAKnd,O,EAiCrB,OAjEoC,OA8ClC,YAAAmd,OAAA,SAAO1W,GACL,IAAM6W,EAAMhc,KAAK4E,QAAQO,GACzB,GAAK6W,EAAL,CACIhc,KAAKic,YACPjc,KAAKic,WAAWvP,UAAU7F,OX5BUqV,kCW+BtC,IAAML,EAAS7b,KAAKwV,KAAK5Q,QAAQO,GACjCnF,KAAKyb,WAAWhP,UAAYoP,EAAOM,eAAiBN,EAAO3G,MAC3D8G,EAAItP,UAAUC,IXjCwBuP,kCWkCtClc,KAAKtB,MAAQyG,EACbnF,KAAKic,WAAaD,EAElBhc,KAAKoQ,OAAO3N,KAAK,EAAO0P,iBAAkB6J,KAG5C,YAAAX,aAAA,WACM9P,EAAKvL,KAAK0b,eAAe1b,KAAK0b,aAAa1b,OAEnD,EAjEA,CAAoC,I,GClBpC,YAIE,WAAYwV,GAAZ,MACE,YAAMA,EAAKN,QAAM,K,OAOX,EAAAkH,OAAS,WACf,EAAK1d,OAAS,EAAKA,MACf,EAAKA,MACP,EAAK+c,WAAW/O,UAAUC,IZiCH0P,yBY/BvB,EAAKZ,WAAW/O,UAAU7F,OZ+BHwV,0BY1CzB,EAAK7G,KAAOA,EACZ,EAAKiG,WAAW/O,UAAUC,IZwCR2H,kBYvClB,EAAK5V,OAAS8W,EAAKZ,QACnB,EAAKwH,S,EAmBT,OA5BoC,OAqBlC,YAAAf,aAAA,SAAarR,GACPuB,EAAKvL,KAAKwV,KAAKoG,UACjB5b,KAAKwV,KAAKoG,UAAU5b,KAAKtB,MAAOsB,KAAKoc,OAAQpS,GAE7ChK,KAAKoc,UAGX,EA5BA,CAAoC,I,GCGpC,YAME,WAAYhM,GAAZ,MACE,YAAMA,EAAQ,CACZpO,OAAQ,CAAC,EAAOwO,QAAS,EAAO2B,kBAChC3F,Ub6BuBuP,uBa5BvB,KANa,EAAAO,YAAmD,GA6B5D,EAAAC,wBAA0B,SAAC9e,GAAc,kBAC1C,EAAK+e,WAAU,EAAKA,SAAW,EAAK9S,IAAIgJ,yBAE7C,EAAK+J,SAAS5I,UACd,EAAK6I,YAAYjf,GAAGoW,UAEf,EAAKyI,YAAY7e,KACpB,EAAK6e,YAAY7e,GAAKmP,EAAmB,EAAK8P,YAAYjf,KAG5D,EAAKkf,MAAM,EAAKL,YAAY7e,GAAGwP,MAAO,EAAKqP,YAAY7e,GAAG0P,UAGpD,EAAAyP,iBAAmB,SAAC5S,GAC1BA,EAAGC,iBACHD,EAAGsL,kBACH,EAAKuH,aArCL,IAAMlH,EAAQvF,EAAOxL,QAAQ+V,SAAS7R,KAAIA,SAACtJ,EAAG/B,GAC5C,OAAK+B,EAAiBoF,SAAYpF,EAAiBoF,QAAQvE,OAClD,IAAI,GACT+P,EACA5Q,EACA,EAAK+c,wBAAwB9e,IAGxB,IAAI,GAAO+B,M,OAItB,EAAKid,SAAWpP,EbgBckO,0Baf9B5F,EAAM1P,SAAQA,SAAClB,GACb,EAAK0X,SAASpW,YAAYtB,EAAKuW,UAEjC,EAAKoB,YAAc/G,EAAM7M,KAAIA,SAAC/D,GAAS,SAAK+X,cAAc/X,MAC1D,EAAKsB,YAAY,EAAKoW,UACtB,EAAKC,YAAYzW,SAAQA,SAAC8W,GAAS,OAAAA,GAAQ,EAAK1W,YAAY0W,M,EA6FhE,OA3HyC,OAoD/B,YAAAJ,MAAR,SAAcxG,EAAYC,GACxBpW,KAAK0F,SAAS,CACZuH,MAAOkJ,EAAIA,EAAI,KAAO,GACtBhJ,OAAQiJ,EAAIA,EAAI,KAAO,MAInB,YAAA4G,QAAR,SAAgB1Q,GACd,IAAMwP,EAAMzO,EbrBkBkO,0BayB9B,OAHAO,EAAIpP,UAAUC,IbpBgBsQ,+BaqB9BnB,EAAIrP,UAAYH,EAChBwP,EAAI1R,iBAAiB,QAASpK,KAAK4c,kBAAiBA,GAC7Cd,GAGD,YAAAgB,cAAR,SAAsBjB,GACpB,KAAMA,aAAkB,IAAS,OAAO,KAExC,IAAMC,EAAMzO,Eb9BkBkO,0Ba+BxB2B,EAAOld,KAAKgd,QAAQnB,EAAOrG,KAAKN,OAKtC,OAJA4G,EAAIzV,YAAY6W,GAChBpB,EAAIzV,YAAYwV,EAAOnS,KAEvBoS,EAAIjI,UACGiI,GAGT,YAAA/F,QAAA,SAAQP,EAA+BxC,GAGrC,IAAIjO,EAFJiO,EAAMnH,EAASmH,EAAKhT,KAAKyc,SAASxJ,SAAS5S,QAOzC0E,EAHAlF,MAAMsd,QAAS3H,EAAoB5Q,UAClC4Q,EAAoB5Q,QAAQvE,OAEtB,IAAI,GACTL,KAAKoQ,OACLoF,EACAxV,KAAKuc,wBAAwBvJ,IAGxB,IAAI,GAAOwC,GAGpB,IAAM4H,EAAapd,KAAK8c,cAAc/X,GAItC,OAHA/E,KAAK0c,YAAY/T,OAAOqK,EAAK,EAAGoK,GAChCpd,KAAKyc,SAASrV,aAAarC,EAAKuW,MAAOtb,KAAKyc,SAASxJ,SAASD,IAC9DhT,KAAKqG,YAAY+W,GACVrY,GAGT,YAAA8X,UAAA,WACE7c,KAAK0c,YAAYzW,SAAQA,SAAC8W,GACpBA,IAAMA,EAAKlJ,cAEjB7T,KAAKyc,SAAS5I,UAEV7T,KAAKwc,UACPxc,KAAK2c,MAAM3c,KAAKwc,SAASvP,MAAOjN,KAAKwc,SAASrP,SAIlD,YAAAkQ,kBAAA,WACOrd,KAAKyc,UAAazc,KAAKwc,WAC5Bxc,KAAKwc,SAAW5P,EAAmB5M,KAAKyc,YAG1C,YAAAa,UAAA,WACOtd,KAAKwc,WAAUxc,KAAKwc,SAAWxc,KAAK0J,IAAIgJ,yBAC7C1S,KAAK2c,MAAM3c,KAAKwc,SAASvP,MAAOjN,KAAKwc,SAASrP,SAElD,EA3HA,CAAyC,G,GCLzC,YAIE,WAAYiD,GAAZ,MACE,YACEA,EACAA,EAAOzR,EPNW,YOOlB,EAAOgT,mBACP,EAAOC,cACP,EAAOE,sBACR,K,OAED,EAAKkB,IAAM,EACX,EAAKL,SduBmBgC,oBctBxB,EAAK4I,KAAO,IAAI,GAAYnN,GAC5B,EAAK/J,YAAYmX,GAAM7C,YACvB,EAAKtU,YAAY,EAAKkX,M,EA0B1B,OA3CqC,OAoB3B,YAAAhI,KAAR,sBACEvV,KAAKyT,YdiB0BgK,2BchB/Bzd,KAAKoQ,OAAOwF,SAASC,KAAKN,OAC1BmI,aAAa1d,KAAK2d,gBAClB3d,KAAK2d,eAAiBC,YAAWA,WAAM,OAAAjf,EAAK4e,KAAKV,cAAa,MAGhE,YAAA1H,QAAA,WACEnV,KAAK2S,SdU0B8K,2BcT/Bzd,KAAKoQ,OAAOwF,SAASC,KAAKC,QAG5B,YAAAE,oBAAA,WACEhW,KAAKuV,QAGP,YAAAiB,mBAAA,WACExW,KAAKuV,QAGP,YAAAgB,eAAA,WACEvW,KAAKuV,QAET,EA3CA,CAAqC,I,GCDrC,YACE,WAAYnF,GAAZ,MACE,YAAMA,EAAQA,EAAOzR,ERCL,QQDc,EAAOsS,KAAM,EAAOC,QAAM,K,OAExD,EAAK8B,IAAM,EACX,EAAKiI,UACL,EAAK5U,YAAYmX,GAAM3E,KfsDFgF,mBerDrB,EAAKxX,YAAYmX,GAAMnF,MfsDDwF,oB,EexC1B,OArBsC,OAUpC,YAAA1I,QAAA,WACEnV,KAAKoQ,OAAOoD,UAGd,YAAAsK,OAAA,WACE9d,KAAKgb,cAAchb,KAAKoQ,OAAOzR,ERXd,WQcnB,YAAAof,QAAA,WACE/d,KAAKgb,cAAchb,KAAKoQ,OAAOzR,ERhBf,UQkBpB,EArBA,CAAsC,I,GCDtC,YAKE,WAAYyR,GAAZ,MACE,YAAMA,EAAQ,CACZpO,OAAQ,CACN,EAAO6O,gBACP,EAAOC,YACP,EAAOL,eAETjE,UhBmBmBmI,uBgBlBnB,K,OAZa,EAAAkF,QAAUxM,EAAW,GAAI,QACzB,EAAA2Q,UAAY3Q,EAAW,GAAI,QAC5C,EAAA2F,IAAM,EAYJ,EAAKiL,gBACL,EAAKC,kBACL,EAAK7X,YAAY,EAAKwT,SACtB,EAAKxT,YAAY,EAAK2X,W,EAuB1B,OAzCkC,OAqBxB,YAAAC,cAAR,WACMje,KAAKoQ,OAAOwF,UAAY5V,KAAKoQ,OAAOwF,SAAS4D,SACjDxZ,KAAK6Z,QAAQjH,UAAY5E,EAAWhO,KAAKoQ,OAAOsJ,eAG1C,YAAAwE,gBAAR,WACEle,KAAKge,UAAUpL,UAAY5E,EAAWhO,KAAKoQ,OAAOmJ,WAGpD,YAAAS,aAAA,WACEha,KAAKie,iBAGP,YAAAE,iBAAA,WACEne,KAAKke,mBAGP,YAAAnE,eAAA,WACE/Z,KAAKie,iBAET,EAzCA,CAAkC,GCclC,eACE,WAAY7N,GAAZ,MACE,YAAMA,IAAO,K,OAEb,EAAK/J,YAAYmX,GAAM/C,OjB6CAoD,qBiB5CvB,EAAKxX,YAAYmX,GAAM9C,MjB6CDmD,oBiB5CtB,EAAK9V,S,EAqBT,OA3BmB,OAST,YAAAA,OAAR,WACM/H,KAAKoQ,OAAOsK,OACd1a,KAAK2S,SjBWwByL,+BiBV7Bpe,KAAKgb,cAAchb,KAAKoQ,OAAOzR,EVnBf,aUqBhBqB,KAAKyT,YjBQwB2K,+BiBP7Bpe,KAAKgb,cAAchb,KAAKoQ,OAAOzR,EVvBjB,WU2BlB,YAAAwW,QAAA,WACEnV,KAAKoQ,OAAOiO,gBAGd,YAAAC,eAAA,WACMte,KAAKoQ,OAAOsK,OAAS1a,KAAKoT,cjBFCgL,gCiBG/Bpe,KAAK+H,UAET,EA3BA,CAAmB,IA6BnB,eAIE,WAAYqI,GAAZ,MACE,YAAMA,EAAQ,CAAE5D,UjBfgB4R,kCiBekB,KAmB5C,EAAAhG,iBAAmB,SAACpO,GAC1B,EAAKoG,OAAOwF,SAAS2I,cACrB,EAAKjG,YAAYtO,IAGX,EAAAsO,YAAc,SAACtO,GACrB,EAAKoG,OAAOqK,QAAUzQ,EAAGqM,MAAQ,EAAK2B,KAAK/B,MAAQ,EAAK+B,KAAK/K,OAGvD,EAAAyL,eAAiB,WACvB,EAAKtI,OAAOwF,SAAS4I,eA3BrB,EAAKC,IAAM,IAAI,EjBhBYL,2BiBiB3B,EAAK7F,IAAM,IAAI,GjBhBY6F,2BiBkB3B,IAAMlF,EAAa7L,EjBhBgB+Q,mC,OiBiBnClF,EAAW7S,YAAY,EAAKoY,IAAI/U,KAEhC,EAAKrD,YAAY6S,GACjB,EAAK7S,YAAY,EAAKkS,IAAI7O,KAE1B,IAAI,EACF,EAAKA,IACL,EAAK0O,iBACL,EAAKE,YACL,EAAKI,gB,EA0BX,OA9CuB,OAqCrB,YAAA4F,eAAA,WACE,IAAMI,EAAM1e,KAAKoQ,OAAOqK,OACxBza,KAAKye,IAAIhI,KAAKiI,GACd1e,KAAKuY,IAAI9B,KAAKzW,KAAKgY,KAAK/K,MAAQyR,IAGlC,YAAApB,UAAA,WACEtd,KAAKse,kBAET,EA9CA,CAAuB,G,GAgDvB,YAKE,WAAYlO,GAAZ,MACE,YAAMA,EAAQ,CACZpO,OAAQ,CAAC,EAAO+O,cAAe,EAAOP,SACtChE,UjBnEqBmI,yBiBoErB,K,OANJ,EAAA3B,IAAM,EAQJ,EAAKgC,KAAO,IAAI,GAAK5E,GACrB,EAAKuO,SAAW,IAAI,GAASvO,GAE7B,EAAK/J,YAAY,EAAK2O,MACtB,EAAK3O,YAAY,EAAKsY,U,EAW1B,OA1BwC,OAkBtC,YAAAL,eAAA,WACEte,KAAKgV,KAAKsJ,iBACVte,KAAK2e,SAASL,kBAGhB,YAAAhB,UAAA,WACEtd,KAAK2e,SAASrB,aAElB,EA1BA,CAAwC,G,GCzExC,YAUE,WAAYlN,GAAZ,MACE,YAAMA,EAAQ,CACZpO,OAAQ,CACN,EAAOiP,KACP,EAAOC,MACP,EAAOc,kBACP,EAAOC,mBACP,EAAOJ,cAETrF,UlBnCc8H,kBkBoCd,KAZI,EAAAsK,UAAY,EAiDZ,EAAAC,gBAAkB,SAAC7U,GACrBA,GAAIA,EAAGC,iBACX,IAAM3E,EAAQ,EAAK8K,OAAO9K,OAEtBA,EAAMwZ,OAAOze,QAAWiF,EAAMyZ,QAAW,EAAKH,WAChD,EAAKrJ,QAxCHnF,EAAO2O,QAAQ3O,EAAOuC,SAAS4B,GAEnC,EAAKyK,QAAU,IAAI,GAAQ5O,GAC3B,EAAK6O,OAAS5R,ElBtCS+H,uBkBuCvB,EAAK8J,KAAO7R,ElBrCU8R,6BkBuCR,GACZ,IAAI,GAAS/O,GACb,IAAI,GAAWA,GACf,IAAI,GAAKA,GACT,EAAK4O,SACF5O,EAAOxL,QAAQwa,MAAMtW,KAAIA,SAACnK,GAAM,WAAI,GAAWA,EAAGyR,OAIpDiP,MAAKA,SAAC3e,EAAGhB,GAAM,OAAAgB,EAAEsS,IAAMtT,EAAEsT,OACzB/M,SAAQA,SAACtH,GAAM,SAAKugB,KAAK7Y,YAAY1H,EAAE+K,QAE1C,EAAKuV,OAAO5Y,YAAY,IAAI,GAAY+J,GAAQ1G,KAChD,EAAKuV,OAAO5Y,YAAY,EAAK6Y,MAE7B,IAAMI,EAAajS,ElBvDS8R,4B,OkBwD5B,EAAKtJ,KAAO,IAAI,EAAKzF,GACrB,EAAKqF,YAAc,IAAI,EAAYrF,GAEnC,EAAK/J,YAAYiZ,GACjB,EAAKjZ,YAAY,EAAK4Y,QACtB,EAAK5Y,YAAY,EAAKoP,aACtB,EAAKpP,YAAY,EAAKwP,KAAKnM,K,EA8F/B,OAhJsC,OAqDpC,sBAAI,qBAAM,C,IAAV,WACE,OAAO1J,KAAKoT,clBpESgC,sB,gCkBgFvB,YAAAmJ,YAAA,WACEve,KAAK4e,aAGP,YAAAJ,YAAA,WACExe,KAAK4e,YACD5e,KAAK4e,UAAY,IAAG5e,KAAK4e,UAAY,IAG3C,YAAAW,cAAA,WACEvf,KAAK8V,OACL4H,aAAa1d,KAAKwf,eAClBxf,KAAKwf,cAAgB5B,WAAW5d,KAAK6e,gBAAiB,MAGxD,YAAA/I,KAAA,WACO9V,KAAKwZ,SACVxZ,KAAKyT,YlBjGgB2B,qBkBkGrBpV,KAAKoQ,OAAO3N,KAAK,EAAOgO,iBAG1B,YAAA8E,KAAA,WACMvV,KAAKwZ,SACTxZ,KAAK2S,SlBvGgByC,qBkBwGrBpV,KAAKoQ,OAAO3N,KAAK,EAAOiO,iBAG1B,YAAA+O,QAAA,SAAQP,EAA0BlM,GAChC,IAAMjO,EACJma,aAAgBxT,QAAUwT,EAAO,IAAI,GAAWA,EAAMlf,KAAKoQ,QAO7D,OALApQ,KAAKkf,KAAK9X,aACPrC,EAAa2E,IAAO3E,EAAa2E,IAAM3E,EACxC/E,KAAKkf,KAAKjM,SAASpH,EAASmH,EAAKhT,KAAKkf,KAAKjM,SAAS5S,UAG/C0E,GAGT,YAAA2a,eAAA,SACElK,EACAxC,GAEA,OAAOhT,KAAKgf,QAAQzB,KAAKxH,QAAQP,EAAMxC,IAGzC,YAAA2M,mBAAA,SACEnK,EACAxC,GAEA,OAAOhT,KAAKyV,YAAYM,QAAQP,EAAMxC,IAGxC,YAAA8K,OAAA,WACE9d,KAAKuf,gBACLvf,KAAKoQ,OAAOqD,YAAYc,IAG1B,YAAAwJ,QAAA,WACE/d,KAAK8V,OACL9V,KAAKoQ,OAAOuC,SAAS4B,IAGvB,YAAAqL,cAAA,SAAc5V,GACZA,EAAGC,iBACEjK,KAAKif,OAAO5L,SAASrJ,EAAGlG,SAC3B9D,KAAKoQ,OAAOoD,SAEdxT,KAAKuf,iBAGP,YAAAM,kBAAA,WACE7f,KAAKuf,iBAGP,YAAAO,mBAAA,WACE9f,KAAK6e,mBAET,EAhJA,CAAsC,GCnBtC,SAASvE,GACPlK,EACA1G,EACAqW,EACAC,GAEAtW,EAAIU,iBAAiB2V,YAAO/V,GAAmB,OAAAoG,EAAO3N,KAAKud,EAAIhW,MAGjE,SAASiW,GACP7P,EACA1G,EACAqW,EACAC,GAEA,IAAIlW,KACJJ,EAAIU,iBAAiB2V,YAAO/V,GACtBF,IACJA,KACAS,uBAAsBA,WACpB6F,EAAO3N,KAAKud,EAAIhW,GAChBF,YCpBN,I,GAAA,YAKE,WAAYsG,GAAZ,MACE,YAAMA,EAAQ,CAAC,EAAOiB,QAAS,EAAOC,QAAS,EAAOE,WAAS,KALhD,EAAA0O,aAAe,kBAExB,EAAAC,iBAAmB,EAcnB,EAAAC,cAAgB,WAClB,EAAKD,mBAAqB,EAAK/P,OAAOsJ,cACxC,EAAKnE,OACLmI,aAAa,EAAK2C,WAClB,EAAKjQ,OAAO/M,IAAI,EAAOyN,YAAa,EAAKsP,iBAuC7C,EAAAtK,KAAO,WACL,EAAK1F,OAAOuC,SAAS,EAAKuN,cAC1B,EAAK9P,OAAO3N,KAAK,EAAO2P,eAtDxB,IAAM1I,EAAM2C,EACV,+CACA,MpBVwBiI,mB,OoBa1BlE,EAAO/J,YAAYqD,GACnB,EAAK4W,Y,EAuDT,OArEqC,OAyB3B,YAAAC,aAAR,WACEvgB,KAAKmgB,iBAAmBngB,KAAKoQ,OAAOsJ,YACpC1Z,KAAKoQ,OAAO/M,IAAI,EAAOyN,YAAa9Q,KAAKogB,eACzCpgB,KAAKoQ,OAAOjN,GAAG,EAAO2N,YAAa9Q,KAAKogB,gBAGlC,YAAAI,QAAR,WACExgB,KAAKugB,eACLvgB,KAAKqgB,UAAYzC,WAAW5d,KAAK8V,KAAM,MAGzC,YAAA2K,UAAA,WACEzgB,KAAKuV,QAGP,YAAA+K,UAAA,WACOtgB,KAAKoQ,OAAOsJ,aACjB1Z,KAAKwgB,WAGP,YAAAE,UAAA,WACE,IAAM7G,EAAU7Z,KAAKoQ,OAAOsJ,YAC5B,GAAKG,EAAL,CAEA,IAAI/D,KACJ9V,KAAKoQ,OAAO0J,YAAWA,SAACnQ,EAAOE,GAC7B,GAAIF,GAASkQ,GAAWhQ,EAAMgQ,EAE5B,OADA/D,MAAO,KAKPA,GAAM9V,KAAKwgB,YAQjB,YAAAjL,KAAA,WACEvV,KAAKoQ,OAAOqD,YAAYzT,KAAKkgB,cAC7BlgB,KAAKoQ,OAAO3N,KAAK,EAAO4P,eAE5B,EArEA,CAAqC,G,GCErC,WAIE,WAAYmD,GACVxV,KAAK0V,OAASiL,EAAQC,WAAapL,EAAKqL,QAAQnL,OAChD1V,KAAKhB,IAAMwW,EAAKqL,QAAQ7hB,IAgC5B,OA7BE,sBAAW,cAAS,C,IAApB,WACE,IACE,IAAM0P,EAAO,aAGb,OAFAoS,aAAaC,QAAQrS,EAAMA,GAC3BoS,aAAaE,WAAWtS,MAExB,MAAOrK,GACP,OAAM,I,gCAIV,YAAA/F,IAAA,SAAgBU,EAAcmQ,GAC5B,IAAKnP,KAAK0V,OAAQ,OAAOvG,EACzB,IAAMnG,EAAO8X,aAAaG,QAAQjhB,KAAKhB,KACvC,GAAY,MAARgK,EAAc,OAAOmG,EACzB,IAAM/J,EAAM8J,EAAclG,EAAM,MAChC,OAAKhK,EACEwM,EAAMpG,IAAoB,MAAZA,EAAIpG,GAAeoG,EAAIpG,GAAOmQ,EADlC/J,GAAO+J,GAI1B,YAAA+R,IAAA,SAAI9b,GACF,GAAKpF,KAAK0V,OACV,OAAKtQ,OACAoG,EAAMpG,IACX0b,aAAaC,QACX/gB,KAAKhB,IACLqQ,EAAkBC,EAAOtP,KAAK1B,IAAI,KAAM,IAAK8G,MAJ9B0b,aAAaE,WAAWhhB,KAAKhB,MAOlD,EAtCA,GCKA,eAGE,WAAYoR,EAAiB+Q,GAA7B,MACE,YAAM/Q,EAAQA,EAAOzR,EfDD,ceCa,K,OACjC,EAAKwiB,SAAWA,EAEhB,EAAKxO,StB0CmBgC,oBsBzCxB,EAAKtO,YAAYmX,GAAM5C,M,EAc3B,OAtB0B,OAWxB,YAAAzF,QAAA,WACEnV,KAAKmhB,SAAS3N,UAGhB,YAAA4N,OAAA,WACEphB,KAAK2S,StBkC0B0O,4BsB/BjC,YAAAC,WAAA,WACEthB,KAAKyT,YtB8B0B4N,4BsB5BnC,EAtBA,CAA0B,I,GAqC1B,WAQE,WAAYjR,GAAZ,WAJQ,KAAAmR,KAAoB,GAgBpB,KAAAC,oBAAsC,SAACzc,EAAMgD,GAC/C,EAAKwZ,KAAKE,QACZ,EAAKF,KAAKzL,QACV,EAAK4L,kBAGH3c,EAAK0c,OACP,EAAKE,YAAY5c,EAAK0c,OACtB,EAAKvC,KAAKkC,SACV,EAAKG,KAAOxc,EACZ,EAAK+Q,SAEL,EAAKP,OACL,EAAK2J,KAAKoC,cAGZvZ,KAGM,KAAA6Z,iBAAmB,SAAC5X,GAC1B,IAAM6X,EAAI,EAAmB7X,EAAGlG,OAAege,YAAc,IACzDD,GACFA,EAAK5b,SAAQA,SAAC8b,GACZ,EAAKC,WAAWD,EAAIE,eAAera,WAAWsa,iBAlClDliB,KAAKoQ,OAASA,EACR,yBAAE+Q,EAAA,EAAAA,SAAUvM,EAAA,EAAAA,QAAShP,EAAA,EAAAA,MACvBub,GAAYA,EAAS9gB,SACvBL,KAAK0J,IAAM2D,EtBFMiH,mBsBGjBlE,EAAO/J,YAAYrG,KAAK0J,KAExB1J,KAAK+H,OAAOoZ,EAAUvM,GAClBhP,GAAO5F,KAAKmiB,SAASvc,IAuJ/B,OAvHU,YAAA+b,YAAR,SAAoBF,kBAAQzhB,KAAKuhB,KAAKE,OACpCzhB,KAAK4hB,iBAAiB,CAAE9d,OAAQ2d,IAChCA,EAAMrX,iBAAiB,YAAapK,KAAK4hB,mBAGnC,YAAAF,eAAR,WACE1hB,KAAKuhB,KAAKE,MAAM9W,oBAAoB,YAAa3K,KAAK4hB,kBACtD5hB,KAAKgiB,WAAW,KAGV,YAAAI,IAAR,WACE,IAAMC,EAASriB,KAAKoQ,OAAO9K,MAAMgd,WACjC,GAAKD,GAAWA,EAAOhiB,OAAvB,CAEAL,KAAK2V,MAAMhU,KAAK,CACduT,MAAOlV,KAAKoQ,OAAOzR,EfhGJ,SeiGfwG,MAAO,IAET,IAAK,IAAI1H,EAAI,EAAGC,EAAI2kB,EAAOhiB,OAAQ5C,EAAIC,EAAGD,IAAK,CAC7C,IAAMgkB,EAAQY,EAAO5kB,GACrBgkB,EAAM7iB,KAAO,SACboB,KAAK2V,MAAMhU,KAAK,CAAE8f,MAAK,EAAEtc,MAAO1H,EAAI,EAAGyX,MAAOuM,EAAMvM,MAAOY,MAAKA,IAG7D9V,KAAK6b,SACR7b,KAAK6b,OAAS7b,KAAKoQ,OAAOwF,SAAS8J,eAAe,CAChDxK,MAAOlV,KAAKoQ,OAAOzR,Ef5GH,Ye6GhBiG,QAAS5E,KAAK2V,MACdiG,SAAU5b,KAAKwhB,uBAIdxhB,KAAKkf,OACRlf,KAAKkf,KAAO,IAAI,GAAYlf,KAAKoQ,OAAQpQ,MACzCA,KAAKoQ,OAAOwF,SAAS6J,QAAQzf,KAAKkf,KAAKxV,KAAM,IAG3C1J,KAAKuhB,KAAKpc,OACZnF,KAAKwT,WAIT,YAAAwO,WAAA,SAAWnP,GACT7S,KAAK0J,IAAI+C,UAAYoG,GAGvB,YAAAiD,KAAA,WACE9V,KAAK0J,IAAIgD,UAAUC,ItBpFO4V,0BsBqF1BviB,KAAKuhB,KAAKzL,SAGZ,YAAAP,KAAA,WACEvV,KAAK0J,IAAIgD,UAAU7F,OtBzFO0b,0BsB0F1BviB,KAAKuhB,KAAKzL,SAGZ,YAAA/N,OAAA,SAAOsa,EAAqCzN,GAA5C,WACE,YAD0CA,OAAW,GAChDyN,GAAWA,EAAOhiB,OAAvB,CACAL,KAAK2V,MAAQ,GACb,IAAM6M,EAA+B,GAE/BC,EAAKze,SAAS0e,yBAWpB,GAVAL,EAAOpc,SAAQA,SAAClB,GACd,IAAM0c,EAAQzd,SAAS6B,cAAc,SACrC4b,EAAMvb,aAAa,OAAQ,YAC3B/H,OAAO6H,KAAKjB,GAAMkB,SAAQA,SAACjH,GACzByiB,EAAMvb,aAAalH,EAAM+F,EAAa/F,OAExCyjB,EAAGpc,YAAYob,GACfe,EAAS7gB,KAAK8f,MAGZrT,EAAGQ,MAAQR,EAAGC,OAAQ,CACxB,IAAI,EAAQ,EACZmU,EAASvc,SAAQA,SAACwb,GAChB,IAAMkB,EAAMlB,EAAMmB,aAAa,OAC/BrT,EAAKoT,YAAME,EAAG7Z,GACRA,GACFyY,EAAMvb,aACJ,MACA4c,IAAIC,gBAAgB,IAAIC,KAAK,CAACha,GAAO,CAAE0E,KAAM,iBAGjD,GACa8U,EAASniB,QAAQ,EAAK+hB,YAKzCpiB,KAAKoQ,OAAO9K,MAAMe,YAAYoc,GAC9BziB,KAAKuhB,KAAO,CAAEpc,MAAOyP,EAAU,GAC1BxG,EAAGQ,MAASR,EAAGC,QAAQrO,KAAKoiB,QAGnC,YAAAD,SAAA,SAASvc,GAAT,WACEzH,OAAO6H,KAAKJ,GAAOK,SAAQA,SAACxF,GAC1B,EAAKiJ,IAAI9D,MAAMnF,GAAYmF,EAAMnF,OAIrC9B,EAAA,UAAA6U,OAAA,WACMxT,KAAKuhB,KAAKE,OAASzhB,KAAKuhB,KAAKzL,MAC/B9V,KAAK6b,OAAOA,OAAO,GACnB7b,KAAKkf,KAAKoC,aACVthB,KAAKuV,OACLvV,KAAK0hB,mBAEL1hB,KAAKuhB,KAAOvhB,KAAK2V,MAAM3V,KAAKuhB,KAAKpc,OAE5BnF,KAAKuhB,KAAKE,QACbzhB,KAAKuhB,KAAOvhB,KAAK2V,MAAM,IAGzB3V,KAAK2hB,cACL3hB,KAAK6b,OAAOA,OAAO7b,KAAKuhB,KAAKpc,OAC7BnF,KAAKkf,KAAKkC,SACVphB,KAAK8V,SAGX,EAvKA,GC1CA,eACE,WAAY1F,GAAZ,MACE,YACEA,EACAA,EAAOzR,EhBLc,cgBMrB,EAAOgS,iBACP,EAAOC,kBACR,K,OAED,EAAKsK,WACL,EAAK7U,YAAYmX,GAAMjD,gBvB+CEsD,uBuB9CzB,EAAKxX,YAAYmX,GAAMhD,evB+CCqD,sB,EuBjC5B,OAzB6B,OAc3B,YAAA1I,QAAA,WACEnV,KAAKoQ,OAAO6S,WAAWzP,UAGzB,YAAA0P,kBAAA,WACEljB,KAAKgb,cAAchb,KAAKoQ,OAAOzR,EhBnBH,qBgBsB9B,YAAAwkB,iBAAA,WACEnjB,KAAKgb,cAAchb,KAAKoQ,OAAOzR,EhBxBR,gBgB0B3B,EAzBA,CAA6B,I,GA2B7B,WAKE,WAAYyR,GAAZ,WAHS,KAAAtP,OAASd,KAAKojB,YAmBf,KAAAC,sBAAwB,SAACrZ,GAC/BA,EAAGC,iBACC,EAAKmG,OAAOwF,SAASlM,IAAI2J,SAASrJ,EAAGlG,SACzC,EAAK0P,UAGC,KAAA8P,cAAgB,WACtB,IAAI7hB,EAAM,GACN,EAAK8hB,UACP,EAAKnT,OAAOuC,SAAS6B,GACrB/S,EAAM,EAAOkP,mBAEb,EAAKP,OAAOqD,YAAYe,GACxB/S,EAAM,EAAOmP,iBAEf,EAAKR,OAAO3N,KAAKhB,IA9BjBzB,KAAKoQ,OAASA,EACdpQ,KAAKwjB,YAEJxf,SAAiBoG,iBACA,OAAhBpK,KAAKc,OACD,qBACGd,KAAKc,OAAM,mBAClBd,KAAKsjB,eAGHtjB,KAAKujB,UAAUnT,EAAOuC,SAAS6B,GACnCpE,EAAOjN,GAAG,EAAO4O,gBAAiB/R,KAAKqjB,uBACvCjT,EAAOwF,SAAS6J,QAAQ,IAAI,GAAerP,GAAQ1G,KAAM,GAmG7D,OA9EU,YAAA0Z,UAAR,WACE,GAAI7X,EAAKvH,SAASwW,gBAAiB,MAAO,GAE1C,IAAI1Z,EAAS,GAUb,MATA,CAAC,SAAU,MAAO,MAAMmF,SAAQA,SAAC1G,IAE7BgM,EAAMvH,SAAoBzE,EAAC,oBAC3BgM,EAAMvH,SAAoBzE,EAAC,wBAE3BuB,EAASvB,MAINuB,GAGT,sBAAI,gCAAiB,C,IAArB,WACE,OACE2iB,YAAYpkB,UAAUqkB,mBACrBD,YAAYpkB,UAAkBskB,yBAC9BF,YAAYpkB,UAAkBukB,sBAC9BH,YAAYpkB,UAAkBwkB,qB,gCAInC,sBAAI,6BAAc,C,IAAlB,WACE,OACEC,aAAazkB,UAAUmb,gBACtBsJ,aAAazkB,UAAkB0kB,sBAC/BD,aAAazkB,UAAkB2kB,kBAC/BF,aAAazkB,UAAkB4kB,qBAC/BH,aAAazkB,UAAkB6kB,kB,gCAIpC,sBAAI,gCAAiB,C,IAArB,WACE,OACElgB,SAASmgB,mBACRngB,SAAiBogB,sBACjBpgB,SAAiBqgB,qBACjBrgB,SAAiBsgB,yB,gCAItB,sBAAI,uBAAQ,C,IAAZ,WACE,OAAOtkB,KAAKmkB,oBAAsBnkB,KAAK8D,Q,gCAGzC,YAAA0f,UAAA,SAAU9Z,EAAmB6a,GAC3BvkB,KAAK8D,QACF4F,GAAO0E,EAAGK,MAAQ8V,EAAQ7a,KAC1B0E,EAAGK,MAAQzO,KAAKoQ,OAAO9K,MAAQtF,KAAKoQ,OAAO1G,KAC1C1J,KAAKujB,UAAUvjB,KAAKwkB,SAG1B,YAAAA,MAAA,WACMpW,EAAGK,MACJzO,KAAK8D,OAAe2gB,wBAErBzkB,KAAK0jB,kBAAkB9lB,KAAKoC,KAAK8D,OAAQ,CAAE4gB,aAAc,UAI7D,YAAAC,KAAA,WACMvW,EAAGK,MACJzO,KAAK8D,OAAeigB,uBAErB/jB,KAAKwa,eAAe5c,KAAKoG,WAI7BrF,EAAA,UAAA6U,OAAA,WACMxT,KAAKujB,SACPvjB,KAAK2kB,OAEL3kB,KAAKwkB,SAGX,EArHA,G,GCvBA,WAKE,WAAYpU,GAAZ,WAFS,KAAAwU,SAAW,CAAC,QAAS,WAAY,UAmBlC,KAAAC,eAAiB,SAAC7a,GACxB,KAAIA,EAAG8a,QAAU9a,EAAG+a,SAAW/a,EAAGgb,SAAWhb,EAAGib,UAAhD,CACA,IAAMC,EAAUlhB,SAASmhB,cAEzB,GAAID,EAAS,CACX,IAAM3Y,EAAM2Y,EAAQE,QAAQC,cACtBT,EAAWM,EAAQtC,aAAa,mBACtC,GAAI,EAAKgC,SAASpW,QAAQjC,IAAQ,GAAKqY,GAAyB,KAAbA,EACjD,OAIJ,IAAMU,EAAOtb,EAAGub,QAAUvb,EAAGub,QAAUvb,EAAGwb,MAE1C,GAAKna,EAAMia,GAAX,CAEA,IAAIG,KACA,EAAKzO,QAAQsO,KACf,EAAKtO,QAAQsO,GAAM,EAAKlV,QACxBqV,KACA,EAAKrV,OAAOwF,SAAS2J,iBAGnBkG,IACFzb,EAAGC,iBACHD,EAAGsL,sBAzCLtV,KAAKoQ,OAASA,EACd,IAAMoF,EAAOpF,EAAOxL,QAAQ8gB,SAE5B1lB,KAAKgX,QAAUnI,EAAe,CAC5B8W,GAAI,SAACpmB,GAAY,OAAAA,EAAEqmB,UAAUpQ,EAAKiF,SAClCoL,GAAI,SAACtmB,GAAY,OAAAA,EAAEumB,UAAUtQ,EAAKiF,SAClCsL,GAAI,SAACxmB,GAAY,OAAAA,EAAEymB,QAAQxQ,EAAKgC,OAChCyO,GAAI,SAAC1mB,GAAY,OAAAA,EAAE2mB,OAAO1Q,EAAKgC,OAC/B2O,GAAI,SAAC5mB,GAAY,OAAAA,EAAEiU,YAGjBgC,EAAKE,QACP1V,KAAK0V,OAAOF,EAAK4Q,QAkDvB,OAjBE,YAAAC,SAAA,SAASf,EAAcrkB,GACrBjB,KAAKgX,QAAQsO,GAAQrkB,GAGvB,YAAAqlB,WAAA,SAAWhB,UACFtlB,KAAKgX,QAAQsO,IAGtB,YAAA5P,OAAA,SAAO0Q,uBACOA,EAASpiB,SAAWhE,KAAKoQ,OAAO1G,KACxCU,iBAAiB,UAAWpK,KAAK6kB,iBAGvC,YAAA0B,QAAA,SAAQH,uBACMA,EAASpiB,SAAWhE,KAAKoQ,OAAO1G,KACxCiB,oBAAoB,UAAW3K,KAAK6kB,iBAE5C,EApEA,GCMqB,GAArB,YAqBE,WAAYrP,GAAZ,MACE,cAAO,K,OAJD,EAAAgR,WAAa,EACbjoB,EAAAkoB,SAKN,EAAK7hB,QC4HM,SACbwL,EACAoF,GAmBA,OAjBAA,EAAOA,EAAO,KAAKA,GAAS,IAEvBmF,SAAWnF,EAAKmF,UAAY,GACjCnF,EAAKkR,OAASlR,EAAKkR,QAAU,GAC7BlR,EAAKmR,QAAUnR,EAAKmR,SAAW,GAE/BnR,EAhCF,SAAwBA,GAStB,OARAA,EAAKqL,QAAU,EACV,CACDnL,QAAOA,EACP1W,IAAK,WAEJwW,EAAKqL,SAGHrL,EATT,CAgCwBA,GACtBpF,EAAOyQ,QAAU,IAAI,GAAQrL,GAhB/B,SAAsBA,GAEpB,OADAA,EAAK4J,MAAQ5J,EAAK4J,OAAS,GACpB5J,EAFT,CAuBEA,EA5BF,SAAwBA,GAEtB,OADAA,EAAKoR,SAAW,EAAK,CAAEhS,SAAU,GAAQY,EAAKoR,UACvCpR,EAFT,CA2BEA,EA5DF,SAA4BA,GAkB1B,OAjBAA,EAAKC,YAAcD,EAAKC,aAAe,GACvCD,EAAKC,YAAYE,MAAQH,EAAKC,YAAYE,OAAS,QAE/CH,EAAKkR,OAAOG,SACdrR,EAAKC,YAAYE,MAAMhU,KAAK,CAC1BuT,MAAO,oBAIXM,EAAKC,YAAc,EACd,CACDC,QAAOA,EACPlC,QAAOA,GAENgC,EAAKC,aAGHD,EAlBT,CA2DEA,EA5EF,SAA0BA,GAcxB,OAbAA,EAAKqB,UAAY,EACZ,CACDS,UAAW,EACXC,OAAQ,GACRJ,IAAK,EACLC,IAAK,EACLnK,MAAO,IACPE,OAAQ,GACR4J,OAAQ,IAEPvB,EAAKqB,WAGHrB,EAdT,CA2EEA,EA5FF,SAAyBA,GAQvB,OADAA,EAAKkQ,SAAW,OAAKlQ,EAAKkQ,UAND,CACvBhQ,QAAOA,EACP8B,KAAM,GACNiD,OAAQ,GACR2L,QAAOA,IAGF5Q,EART,CA2FEA,EAvIF,SACEA,EACApF,GAEA,QAAIoF,EAAKkR,OAAOI,aAAwB,OAAOtR,EAE/C,IAAMuR,EAAoB,CACxBC,MAAO,CACL,CAAE9R,MAAO,OAAQxW,MAAO,GAAKjB,EAAG,GAChC,CAAEyX,MAAO,QAASxW,MAAO,IAAMjB,EAAG,GAClC,CAAEyX,MAAO,GAASvW,EnBzCF,SmByCY6W,EAAK2E,MAAOzb,MAAO,EAAGjB,EAAG,GACrD,CAAEyX,MAAO,QAASxW,MAAO,KAAMjB,EAAG,GAClC,CAAEyX,MAAO,OAAQxW,MAAO,IAAKjB,EAAG,GAChC,CAAEyX,MAAO,QAASxW,MAAO,KAAMjB,EAAG,GAClC,CAAEyX,MAAO,KAAMxW,MAAO,EAAGjB,EAAG,KAI1BqpB,EACJtb,EAAMgK,EAAKkR,OAAOI,eAAiBtR,EAAKkR,OAAOI,aAAaE,MACxDxR,EAAKkR,OAAOI,aACZC,EAEA/H,EAAsB,CAC1B9J,MAAO,GAASvW,EnBtDC,QmBsDQ6W,EAAK2E,MAC9BvF,QAASxE,EAAOyQ,QAAQviB,IAAI,eAAgB,GAC5CsG,QAASkiB,EAAaE,MACtBpL,SAAA,SAASI,EAAmBnH,GAC1BzE,EAAO0W,aAAe9K,EAAItd,MAC1B0R,EAAOyQ,QAAQK,IAAI,CAAE4F,aAAc9K,EAAIve,IACvCoX,MAIA7B,EAAM3H,EAAMyb,EAAa/Z,UACzB+Z,EAAa/Z,SACbhB,EAAUyJ,EAAKmF,UAASA,SAAEjE,GAAM,OAACA,EAAiB9R,WAKtD,OAJIoO,EAAM,IAAGA,EAAM,GAEnBwC,EAAKmF,SAAShS,OAAOqK,EAAK,EAAGgM,GAEtBxJ,EAzCT,CAsIEA,EA/EF,SAAqBA,GAGnB,OAFAA,EAAK2E,KACH3E,EAAK2E,MAAQ7L,UAAU4L,UAAa5L,UAAkB2Y,aACjDzR,EAHT,CA+EqBA,GACcpF,QD1IhB8W,CAAe,EAAM1R,GAEpC,EAAK7C,SAAS0B,GACd,EAAKN,WAEL,EAAKzO,MAAQ4G,EAAS,EAAKtH,QAAQU,OAAMA,WAAO,OAAA+H,EAAW,GAAI,YAC/D,EAAK8Z,GAAKjb,EAAS,EAAKtH,QAAQuiB,GAAInjB,SAAS+K,MAE7C,EAAKqY,UACD,EAAKxiB,QAAQ2f,OAAO,EAAK8C,cAAc,EAAKziB,QAAQ2f,ONpB7C,SACbnU,EACAmU,GAGAjK,GAAMlK,EAAQmU,EAAO,iBAAkB,EAAO1T,iBAC9CyJ,GAAMlK,EAAQmU,EAAO,OAAQ,EAAOtT,MACpCqJ,GAAMlK,EAAQmU,EAAO,QAAS,EAAOrT,OACrCoJ,GAAMlK,EAAQmU,EAAO,QAAS,EAAOpT,OACrCmJ,GAAMlK,EAAQmU,EAAO,UAAW,EAAOjT,SACvCgJ,GAAMlK,EAAQmU,EAAO,UAAW,EAAO/S,SACvC8I,GAAMlK,EAAQmU,EAAO,UAAW,EAAOlT,SACvCiJ,GAAMlK,EAAQmU,EAAO,iBAAkB,EAAOvT,iBAC9CsJ,GAAMlK,EAAQmU,EAAO,QAAS,EAAO9S,OAErCwO,GAAc7P,EAAQmU,EAAO,aAAc,EAAOzT,aAClDmP,GAAc7P,EAAQmU,EAAO,eAAgB,EAAOxT,eACpDkP,GAAc7P,EAAQmU,EAAO,WAAY,EAAOnT,UAEhDhB,EAAOjN,GAAG,EAAO6N,iBAAgBA,WAC3BZ,EAAO9K,MAAMyZ,OACf3O,EAAO3N,KAAK,EAAOyO,OAEnBd,EAAO3N,KAAK,EAAOwO,MAErB1G,sBAAsB6F,EAAOoC,eAI/B8H,GAAMlK,EAAQA,EAAO1G,IAAK,QAAS,EAAOmI,cAC1CyI,GAAMlK,EAAQA,EAAO1G,IAAK,cAAe,EAAOoI,qBAChDwI,GAAMlK,EAAQA,EAAO1G,IAAK,WAAY,EAAOqI,iBAE7CkO,GAAc7P,EAAQA,EAAO1G,IAAK,YAAa,EAAOsI,mBACtDiO,GAAc7P,EAAQA,EAAO1G,IAAK,aAAc,EAAOuI,oBAGvDgO,GAAc7P,EAAQ/S,OAAQ,SAAU,EAAO6U,eAE/ClO,SAASoG,iBAAiB,kBAAUJ,IAEhCA,EAAGlG,SAAWsM,EAAO1G,KACpBM,EAAGlG,QACFyH,EAAMvB,EAAGlG,OAAeuP,WACvBrJ,EAAGlG,OAAeuP,SAASjD,EAAO1G,OAErC0G,EAAO3N,KAAK,EAAOmP,kBAIvB,IAAM0V,EAAY,SAAC,G,IACjBhiB,EAAA,EAAAA,MACA,EAAAiiB,UAGAnX,EAAOoX,cAAgBliB,EACvB8K,EAAO3N,KAAK,EAAOiP,mBAAoBpM,KAEzCnH,OAAO6H,KAAKgO,GAAI/N,SAAQA,SAACxF,GACvB,IAAMgnB,EAAKpqB,OAAOqqB,WAAW1T,EAAGvT,IAChC6mB,EAAUG,GACVA,EAAGrmB,YAAYkmB,MA7DJ,CMqBC,EAAM,EAAKhiB,OACvB,EAAKkhB,WAAa,EAAKlhB,MAAMmV,OAC7B,EAAKA,OAAS,EAAK+L,WACnB,EAAKlU,eAAe,GAEpB,EAAKsD,SAAW,IAAI,GAAS,GAC7B,EAAK8P,SAAW,IAAI,GAAS,GAC7B,EAAKiC,QAAU,IAAI,GAAQ,GAC3B,EAAK1E,WAAa,IAAI,GAAW,GACjC,EAAK2D,SAAW,IAAI,GAAS,GAE7B,EAAKhiB,QAAQ+hB,QAAQ1gB,SAAQA,SAAC1G,GAAM,OAAAA,EAAEqoB,QAAQ,M,EAgKlD,OA7MqC,OAgDnC,sBAAI,0BAAW,C,IAAf,WACE,OAAO5nB,KAAKsF,MAAMoU,a,IAGpB,SAAgB5L,GACT9N,KAAKuZ,WACVvZ,KAAKsF,MAAMoU,YAAc5O,EAAMgD,EAAG,EAAG9N,KAAKuZ,UAC1CvZ,KAAKyC,KAAK,EAAOqO,e,gCAGnB,sBAAI,qBAAM,C,IAAV,WACE,OAAO9Q,KAAKsF,MAAMmV,Q,IAGpB,SAAW3M,GACT9N,KAAKsF,MAAMmV,OAAS3P,EAAMgD,GAC1B9N,KAAK6gB,QAAQK,IAAI,CAAEzG,OAAQza,KAAKsF,MAAMmV,SAClCza,KAAK0a,OAAS5M,EAAI,IAAG9N,KAAK0a,W,gCAGhC,sBAAI,oBAAK,C,IAAT,WACE,OAAO1a,KAAKsF,MAAMoV,OAAyB,IAAhB1a,KAAKya,Q,IAGlC,SAAU3M,GACR9N,KAAKsF,MAAMoV,MAAQ5M,G,gCAGrB,sBAAI,2BAAY,C,IAAhB,WACE,OAAO9N,KAAKsF,MAAMwhB,c,IAGpB,SAAiBhZ,GACf9N,KAAKsF,MAAMwhB,aAAehZ,G,gCAG5B,sBAAI,uBAAQ,C,IAAZ,WACE,OAAO9N,KAAKsF,MAAMiU,UAAY,G,gCAGhC,sBAAI,uBAAQ,C,IAAZ,WACE,OAAOvZ,KAAKsF,MAAMsU,U,gCAGpB,sBAAI,qBAAM,C,IAAV,WACE,OAAO5Z,KAAKsF,MAAMyZ,Q,gCAGpB,sBAAI1a,EAAA,kBAAK,C,IAAT,WACE,OAAOrE,KAAKsF,MAAMuiB,O,gCAGpB,sBAAI,sBAAO,C,IAAX,WACE,OAAO7nB,KAAKymB,QAAUzmB,KAAK+e,SAAW/e,KAAK6nB,O,gCAG7C,sBAAI,sBAAO,C,IAAX,WACE,OAAO7nB,KAAKwnB,gBAAkBxT,EAAGI,kB,gCAG3B,YAAAgT,QAAR,WACEpnB,KAAKsF,MAAMmV,OAASza,KAAK6gB,QAAQviB,IAAI,SAAU,IAGjD,YAAA+oB,cAAA,SAAcve,GAAd,WACE3K,OAAO6H,KAAK8C,GAAK7C,SAAQA,SAACxF,GACxB,IAAMqN,EAAKhF,EAAYrI,GACb,QAANA,EACE2K,EAAM0C,GACR,EAAKxI,MAAMqd,IAAM7U,EACRjO,MAAMsd,QAAQrP,IACvBA,EAAE7H,SAAQA,SAACzG,GAAM,SAAK8F,MAAMwiB,YAAYtoB,KAAO,EAAK8F,MAAMqd,IAAMnjB,MAGjE,EAAK8F,MAAc7E,GAAKqN,MAK/B,YAAAia,MAAA,SAAMZ,GAAN,WACMA,IAAInnB,KAAKmnB,GAAKA,GAClBnnB,KAAKqG,YAAYrG,KAAKsF,OACtBtF,KAAKqG,YAAYrG,KAAK4V,UACtB5V,KAAKyC,KAAK,EAAO8N,cACjBvQ,KAAKmnB,GAAG9gB,YAAYrG,KAAK0J,KACzBa,uBAAsBA,WACpB,EAAK9H,KAAK,EAAO+N,SACjB,EAAKiW,aAIT,YAAA9N,KAAA,SAAK1K,GACHjO,KAAKsF,MAAMoU,YAAc5O,EAAMmD,EAAS,EAAGjO,KAAKuZ,WAGlD,YAAAV,KAAA,WACE,IAAMtZ,EAAIS,KAAKsF,MAAMuT,OACjBlN,EAAYpM,IAAIA,EAAEqM,MAAMf,IAG9B,YAAAwN,MAAA,WACErY,KAAKsF,MAAM+S,SAGb,YAAA7E,OAAA,WACMxT,KAAK+e,OACP/e,KAAK6Y,OAEL7Y,KAAKqY,SAIT,YAAAuN,UAAA,SAAU9X,kBAAA,IACR9N,KAAKya,QAAU3M,GAGjB,YAAAgY,UAAA,SAAUhY,kBAAA,IACR9N,KAAKya,QAAU3M,GAGjB,YAAAkY,QAAA,SAAQlY,kBAAA,IACN9N,KAAK0Z,aAAe5L,GAGtB,YAAAoY,OAAA,SAAOpY,kBAAA,IACL9N,KAAK0Z,aAAe5L,GAGtB,YAAAuQ,aAAA,WACMre,KAAK0a,OACP1a,KAAKya,OAASza,KAAKwmB,YAAc,EACjCxmB,KAAK0a,WAEL1a,KAAKwmB,WAAaxmB,KAAKya,OACvBza,KAAKya,OAAS,IAIlB,YAAA9b,EAAA,SAAEK,GACA,OAAO,GAASL,EAAEK,EAAKgB,KAAK4E,QAAQuV,OAGtC9V,EAAA,UAAAyV,WAAA,SAAW7Y,GACT,IAAK,IAA8BxD,EAAtBuC,KAAK4Z,SAASvZ,OAAgB,EAAG5C,GAAK,IAC7CwD,EAAGjB,KAAK4Z,SAASjQ,MAAMlM,GAAIuC,KAAK4Z,SAAS/P,IAAIpM,IADGA,OAOxD,YAAAuqB,IAAA,SAAIC,GACFA,EAAOL,QAAQ5nB,OAGjB,YAAAoa,QAAA,SAAQD,EAAcnR,GACpB,GAASoR,QAAQD,EAAMnR,IA1MT,EAAAjI,OAAS,EACT,EAAAmnB,MAAQ,EACR,EAAA1K,MAAQA,GACR,EAAA1b,aAAe,IAyMjC,EA7MA,CAAqC,GEdtB,gB,uCCFf,IACM8B,EADFukB,EAEK,WAUL,YAToB,IAATvkB,IAMTA,EAAO8C,QAAQrJ,QAAU2G,UAAYA,SAASmE,MAAQ9K,OAAO+K,OAGxDxE,GAIPC,EAAY,WACd,IAAID,EAAO,GACX,OAAO,SAAkBE,GACvB,QAA4B,IAAjBF,EAAKE,GAAyB,CACvC,IAAIC,EAAcC,SAASC,cAAcH,GAEzC,GAAIzG,OAAO6G,mBAAqBH,aAAuB1G,OAAO6G,kBAC5D,IAGEH,EAAcA,EAAYI,gBAAgBC,KAC1C,MAAOC,GAEPN,EAAc,KAIlBH,EAAKE,GAAUC,EAGjB,OAAOH,EAAKE,IApBA,GAwBZQ,EAAc,GAElB,SAASC,EAAqBC,GAG5B,IAFA,IAAIC,GAAU,EAELhH,EAAI,EAAGA,EAAI6G,EAAYjE,OAAQ5C,IACtC,GAAI6G,EAAY7G,GAAG+G,aAAeA,EAAY,CAC5CC,EAAShH,EACT,MAIJ,OAAOgH,EAGT,SAASC,EAAaC,EAAMC,GAI1B,IAHA,IAAIC,EAAa,GACbC,EAAc,GAETrH,EAAI,EAAGA,EAAIkH,EAAKtE,OAAQ5C,IAAK,CACpC,IAAIsH,EAAOJ,EAAKlH,GACZuH,EAAKJ,EAAQK,KAAOF,EAAK,GAAKH,EAAQK,KAAOF,EAAK,GAClDG,EAAQL,EAAWG,IAAO,EAC1BR,EAAa,GAAGpC,OAAO4C,EAAI,KAAK5C,OAAO8C,GAC3CL,EAAWG,GAAME,EAAQ,EACzB,IAAIC,EAAQZ,EAAqBC,GAC7BY,EAAM,CACRC,IAAKN,EAAK,GACVO,MAAOP,EAAK,GACZQ,UAAWR,EAAK,KAGH,IAAXI,GACFb,EAAYa,GAAOK,aACnBlB,EAAYa,GAAOM,QAAQL,IAE3Bd,EAAY3C,KAAK,CACf6C,WAAYA,EACZiB,QAASC,EAASN,EAAKR,GACvBY,WAAY,IAIhBV,EAAYnD,KAAK6C,GAGnB,OAAOM,EAGT,SAASa,EAAmBf,GAC1B,IAAIgB,EAAQ5B,SAAS6B,cAAc,SAC/BC,EAAalB,EAAQkB,YAAc,GAEvC,QAAgC,IAArBA,EAAWC,MAAuB,CAC3C,IAAIA,EAAmD,KAEnDA,IACFD,EAAWC,MAAQA,GAQvB,GAJA5H,OAAO6H,KAAKF,GAAYG,SAAQ,SAAUjH,GACxC4G,EAAMM,aAAalH,EAAK8G,EAAW9G,OAGP,mBAAnB4F,EAAQuB,OACjBvB,EAAQuB,OAAOP,OACV,CACL,IAAI9B,EAASD,EAAUe,EAAQuB,QAAU,QAEzC,IAAKrC,EACH,MAAM,IAAIsC,MAAM,2GAGlBtC,EAAOuC,YAAYT,GAGrB,OAAOA,EAcT,IACMU,EADFC,GACED,EAAY,GACT,SAAiBnB,EAAOqB,GAE7B,OADAF,EAAUnB,GAASqB,EACZF,EAAUG,OAAOC,SAASC,KAAK,QAI1C,SAASC,EAAoBhB,EAAOT,EAAO0B,EAAQzB,GACjD,IAAIC,EAAMwB,EAAS,GAAKzB,EAAIE,MAAQ,UAAUlD,OAAOgD,EAAIE,MAAO,MAAMlD,OAAOgD,EAAIC,IAAK,KAAOD,EAAIC,IAIjG,GAAIO,EAAMkB,WACRlB,EAAMkB,WAAWC,QAAUR,EAAYpB,EAAOE,OACzC,CACL,IAAI2B,EAAUhD,SAASiD,eAAe5B,GAClC6B,EAAatB,EAAMsB,WAEnBA,EAAW/B,IACbS,EAAMuB,YAAYD,EAAW/B,IAG3B+B,EAAW7G,OACbuF,EAAMwB,aAAaJ,EAASE,EAAW/B,IAEvCS,EAAMS,YAAYW,IAKxB,SAASK,EAAWzB,EAAOhB,EAASQ,GAClC,IAAIC,EAAMD,EAAIC,IACVC,EAAQF,EAAIE,MACZC,EAAYH,EAAIG,UAepB,GAbID,EACFM,EAAMM,aAAa,QAASZ,GAE5BM,EAAM0B,gBAAgB,SAGpB/B,GAAagC,OACflC,GAAO,uDAAuDjD,OAAOmF,KAAKC,SAASC,mBAAmBC,KAAKC,UAAUpC,MAAe,QAMlIK,EAAMkB,WACRlB,EAAMkB,WAAWC,QAAU1B,MACtB,CACL,KAAOO,EAAMgC,YACXhC,EAAMuB,YAAYvB,EAAMgC,YAG1BhC,EAAMS,YAAYrC,SAASiD,eAAe5B,KAI9C,IAAIwC,EAAY,KACZC,EAAmB,EAEvB,SAASpC,EAASN,EAAKR,GACrB,IAAIgB,EACAmC,EACAlB,EAEJ,GAAIjC,EAAQiD,UAAW,CACrB,IAAIG,EAAaF,IACjBlC,EAAQiC,IAAcA,EAAYlC,EAAmBf,IACrDmD,EAASnB,EAAoB3H,KAAK,KAAM2G,EAAOoC,GAAY,GAC3DnB,EAASD,EAAoB3H,KAAK,KAAM2G,EAAOoC,GAAY,QAE3DpC,EAAQD,EAAmBf,GAC3BmD,EAASV,EAAWpI,KAAK,KAAM2G,EAAOhB,GAEtCiC,EAAS,YAxFb,SAA4BjB,GAE1B,GAAyB,OAArBA,EAAMqC,WACR,OAAO,EAGTrC,EAAMqC,WAAWd,YAAYvB,GAmFzBwiB,CAAmBxiB,IAKvB,OADAmC,EAAO3C,GACA,SAAqB8C,GAC1B,GAAIA,EAAQ,CACV,GAAIA,EAAO7C,MAAQD,EAAIC,KAAO6C,EAAO5C,QAAUF,EAAIE,OAAS4C,EAAO3C,YAAcH,EAAIG,UACnF,OAGFwC,EAAO3C,EAAM8C,QAEbrB,KAKN3J,EAAOD,QAAU,SAAU0H,EAAMC,IAC/BA,EAAUA,GAAW,IAGRiD,WAA0C,kBAAtBjD,EAAQiD,YACvCjD,EAAQiD,UAAYsgB,KAItB,IAAI9f,EAAkB3D,EADtBC,EAAOA,GAAQ,GAC0BC,GACzC,OAAO,SAAgB0D,GAGrB,GAFAA,EAAUA,GAAW,GAE2B,mBAA5CnK,OAAOkB,UAAUkJ,SAAS3K,KAAK0K,GAAnC,CAIA,IAAK,IAAI7K,EAAI,EAAGA,EAAI4K,EAAgBhI,OAAQ5C,IAAK,CAC/C,IACI0H,EAAQZ,EADK8D,EAAgB5K,IAEjC6G,EAAYa,GAAOK,aAKrB,IAFA,IAAIgD,EAAqB9D,EAAa4D,EAAS1D,GAEtC6D,EAAK,EAAGA,EAAKJ,EAAgBhI,OAAQoI,IAAM,CAClD,IAEIC,EAASnE,EAFK8D,EAAgBI,IAIK,IAAnCnE,EAAYoE,GAAQlD,aACtBlB,EAAYoE,GAAQjD,UAEpBnB,EAAYqE,OAAOD,EAAQ,IAI/BL,EAAkBG,M,6BClQtBtL,EAAOD,QAAU,SAAU4L,GACzB,IAAIlE,EAAO,GAuDX,OArDAA,EAAK4D,SAAW,WACd,OAAOvI,KAAK8I,KAAI,SAAU/D,GACxB,IAAIvB,EAsDV,SAAgCuB,EAAM8D,GACpC,IAAIrF,EAAUuB,EAAK,IAAM,GAErBkE,EAAalE,EAAK,GAEtB,IAAKkE,EACH,OAAOzF,EAGT,GAAIqF,GAAgC,mBAATtB,KAAqB,CAC9C,IAAI2B,GAWW3D,EAXe0D,EAa5BF,EAASxB,KAAKC,SAASC,mBAAmBC,KAAKC,UAAUpC,MACzDyD,EAAO,+DAA+D5G,OAAO2G,GAC1E,OAAO3G,OAAO4G,EAAM,QAdrBG,EAAaF,EAAWG,QAAQN,KAAI,SAAUO,GAChD,MAAO,iBAAiBjH,OAAO6G,EAAWK,YAAc,IAAIlH,OAAOiH,EAAQ,UAE7E,MAAO,CAAC7F,GAASpB,OAAO+G,GAAY/G,OAAO,CAAC8G,IAAgBvC,KAAK,MAOrE,IAAmBpB,EAEbwD,EACAC,EAPJ,MAAO,CAACxF,GAASmD,KAAK,MAvEJ0hB,CAAuBtjB,EAAM8D,GAE3C,OAAI9D,EAAK,GACA,UAAU3C,OAAO2C,EAAK,GAAI,MAAM3C,OAAOoB,EAAS,KAGlDA,KACNmD,KAAK,KAKVhC,EAAKlH,EAAI,SAAUE,EAAS4L,EAAYC,GACf,iBAAZ7L,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAG7B,IAAI8L,EAAyB,GAE7B,GAAID,EACF,IAAK,IAAI/L,EAAI,EAAGA,EAAIuC,KAAKK,OAAQ5C,IAAK,CAEpC,IAAIuH,EAAKhF,KAAKvC,GAAG,GAEP,MAANuH,IACFyE,EAAuBzE,IAAM,GAKnC,IAAK,IAAIyD,EAAK,EAAGA,EAAK9K,EAAQ0C,OAAQoI,IAAM,CAC1C,IAAI1D,EAAO,GAAG3C,OAAOzE,EAAQ8K,IAEzBe,GAAUC,EAAuB1E,EAAK,MAKtCwE,IACGxE,EAAK,GAGRA,EAAK,GAAK,GAAG3C,OAAOmH,EAAY,SAASnH,OAAO2C,EAAK,IAFrDA,EAAK,GAAKwE,GAMd5E,EAAKhD,KAAKoD,MAIPJ,I,0BChET,IAAIpB,EAAM,EAAQ,GACFC,EAAU,EAAQ,IAIC,iBAFvBA,EAAUA,EAAQ3E,WAAa2E,EAAQC,QAAUD,KAG/CA,EAAU,CAAC,CAACtG,EAAOO,EAAI+F,EAAS,MAG9C,IAAIoB,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBlB,GAFSH,EAAIC,EAASoB,GAEXpB,EAAQG,OAASH,EAAQG,OAAS,IAIjDzG,EAAOD,QAAUyG,G,iBClBjBzG,EADkC,EAAQ,EAChC2L,EAA4B,IAE9BjH,KAAK,CAACzE,EAAOO,EAAI,qmEAAwmE,KAEjoEP,EAAOD,QAAUA,G,gECNF,GACbqrB,cAAe,cACfC,aAAc,cCAT,SAASC,EACdvnB,EACAwnB,QAAA,IAAAA,MAAA,KAEA,IAAI3e,GAAU,EACV4e,GAAQ,EAEZ,OAAO,W,IAAA,WAAU,kDACf,IAAI5e,EAAJ,CACA,GAAI4e,EAEF,OADAA,GAAQ,EACDznB,EAAGX,MAAMN,KAAM+C,GAExB+G,GAAU,EACV8T,YAAW,WACT3c,EAAGX,MAAM,EAAMyC,GACf+G,GAAU,IACT2e,KAIA,SAASE,EAAWvY,GACzB,IAAMwY,EAAK,IAAQV,MAAM7a,WAAW,oBAEpC,OADAub,EAAGhW,UAAYxC,EAAOzR,EAAE,MACjBiqB,EAGF,SAASC,EAAalG,GAC3BtlB,OAAO6S,KAAKyS,EAAK,UAAUmG,QC1B7B,I,EAAA,WAOE,WAAYC,EAAcpG,EAAcjI,GAAxC,gBAAwC,IAAAA,OAAA,GAJhC,KAAAsO,WAAY,EAEZ,KAAAC,SAAW,EAqDX,KAAA9T,QAAU,W,MAChB,EAAK0D,OACL,IAAM+P,EAA2B,QAAzB,EAAG,EAAKG,MAAMG,mBAAW,eAAEN,GAC/BA,IACEA,EAAGO,SACL,EAAK9Q,QACLwQ,EAAaD,EAAGO,SAGdP,EAAGzT,SAASyT,EAAGzT,QAAQyT,KAIvB,KAAAQ,UAAY,WACd,IAAS,EAAKL,MAAMG,YAAY3E,OAClC,EAAK8E,aAID,KAAAvL,OAAS,WACf,EAAKiL,MAAMO,cACX,EAAKhL,kBAGC,KAAAP,QAAU,WAChB,EAAKgL,MAAMQ,gBAGL,KAAAvP,aAAewO,GAAS,WACzB,EAAK9e,IAAI8f,UAAS,EAAKP,SAAW,EAAKvf,IAAIgQ,gBAG1C,KAAA4E,eAAiB,WACnB,EAAKmL,QACP,EAAKV,MAAMW,eAEX,EAAKX,MAAMY,kBAIP,KAAAC,UAAY,WAClB,IAAMC,EAAQ,EAAKngB,IAAIgQ,YAAc,EAAKuP,SACtChe,KAAK6e,IAAID,GAAS,IAAG,EAAKngB,IAAIgQ,YAAc,EAAKuP,WAG/C,KAAAc,aAAe,WACrB,EAAKrgB,IAAIod,aAAe,GAGlB,KAAAkD,QAAU,WACZ,EAAKjB,MAAMkB,eACb,EAAKC,UAEL,EAAKxgB,IAAIygB,QAIL,KAAAD,QAAU,WAChB,EAAKtf,UACL,EAAKme,MAAMqB,YA7GXpqB,KAAK+oB,MAAQA,EACb/oB,KAAK0a,MAAQA,EACb1a,KAAK0J,IAAM,IAAQwe,MAAM7a,WAAW,GAAI,SAExCrN,KAAK0J,IAAIU,iBAAiB,QAASpK,KAAKmV,SACxCnV,KAAK0J,IAAIU,iBAAiB,OAAQpK,KAAK8d,QACvC9d,KAAK0J,IAAIU,iBAAiB,QAASpK,KAAK+d,SACxC/d,KAAK0J,IAAIU,iBAAiB,UAAWpK,KAAKopB,WAC1CppB,KAAK0J,IAAIU,iBAAiB,eAAgBpK,KAAKse,gBAC/Cte,KAAK0J,IAAIU,iBAAiB,aAAcpK,KAAK+pB,cAC7C/pB,KAAK0J,IAAIU,iBAAiB,aAAcpK,KAAKga,cAC7Cha,KAAK0J,IAAIU,iBAAiB,UAAWpK,KAAK4pB,WAC1C5pB,KAAK0J,IAAIU,iBAAiB,QAASpK,KAAKgqB,SACxChqB,KAAK0J,IAAIU,iBAAiB,QAASpK,KAAKkqB,SAExClqB,KAAK0J,IAAIkM,UAAW,EACpB5V,KAAK0J,IAAI2gB,UAAW,EACpBrqB,KAAK0J,IAAI4gB,MAAO,EAChBtqB,KAAK0J,IAAIod,aAAe,EACxB9mB,KAAK0J,IAAIxD,aAAa,cAAe,IACrClG,KAAK0J,IAAIgR,MAAQA,EACjB1a,KAAKuV,OACDoN,IACF3iB,KAAK0J,IAAIiZ,IAAMA,EACf3iB,KAAK0J,IAAIygB,QAGPpB,EAAMvT,KAAK+U,cACbxB,EAAMvT,KAAK+U,aAAavqB,KAAK0J,KAG/B1J,KAAK+oB,MAAMyB,YAAYxqB,KAAK0J,KAiKhC,OA9JE,sBAAI,sBAAO,C,IAAX,WACE,OAAO1J,KAAK0J,IAAIoV,OAAOze,SAAWL,KAAK0J,IAAIqV,SAAW/e,KAAK0J,IAAIme,O,gCAGjE,sBAAI,uBAAQ,C,IAAZ,WACE,OAAO7nB,KAAK0J,IAAI6P,UAAY,G,gCAG9B,sBAAI,0BAAW,C,IAAf,WACE,OAAOvZ,KAAK0J,IAAIgQ,aAAe,G,gCAGjC,sBAAI,sBAAO,C,IAAX,WACE,OAAO1Z,KAAK0J,IAAIgR,OAAS1a,KAAK0J,IAAI+Q,QAAU,G,gCAiEtC,YAAA4O,UAAR,sBACQxQ,EAAO7Y,KAAK0J,IAAImP,OAClB,IAAQqP,MAAMvc,YAAYkN,IAC5BA,EAAKjN,OAAM,WACT,EAAKlC,IAAIgR,OAAQ,EACjB,EAAKhR,IAAImP,OAAOjN,OAAM,WACpB,EAAKlC,IAAI2O,QACT,EAAK0F,gBAIX/d,KAAK0J,IAAIgR,MAAQ1a,KAAK0a,OAGxB,YAAA7B,KAAA,SAAK8J,GACH,GAAK3iB,KAAK+oB,MAAM0B,QAAhB,CAGA,GAFAzqB,KAAK8V,OAED6M,EACF3iB,KAAK0J,IAAIiZ,IAAMA,OACV,GAAI3iB,KAAKyqB,QAAS,OACpBzqB,KAAK0J,IAAIiZ,MAET3iB,KAAK0J,IAAIzB,WAAWoL,SAASrT,KAAK0J,MACrC1J,KAAK+oB,MAAMyB,YAAYxqB,KAAK0J,MAI3B1J,KAAK0J,IAAIoV,OAAOze,SAChBL,KAAK0J,IAAIme,OACV7nB,KAAK0J,IAAImG,YAAc,IACtB7P,KAAKgpB,WAENhpB,KAAK0J,IAAIygB,OACTnqB,KAAKgpB,WAAY,EACjBhpB,KAAK+d,WACI/d,KAAK0J,IAAIqV,QAClB/e,KAAKqpB,eAIT,YAAAqB,KAAA,WACE1qB,KAAK0a,OAAQ,EACb1a,KAAK0J,IAAIgR,OAAQ,GAGnB,YAAAiQ,OAAA,WACE3qB,KAAK0a,OAAQ,EACb1a,KAAK0J,IAAIgR,OAAQ,GAGnB,YAAA2D,aAAA,WACMre,KAAKypB,QACPzpB,KAAK2qB,SAEL3qB,KAAK0qB,QAIT,YAAArS,MAAA,WACErY,KAAK0J,IAAI2O,SAGX,YAAAvC,KAAA,WACE9V,KAAK0J,IAAImK,QAAS,GAGpB,YAAA0B,KAAA,WACEvV,KAAK0J,IAAImK,QAAS,GAGpB,YAAAjJ,QAAA,WACE5K,KAAKqY,QACLrY,KAAK0J,IAAI2gB,UAAW,EACpBrqB,KAAKuV,OACLvV,KAAK0J,IAAIpC,gBAAgB,OACrBtH,KAAK0J,IAAIzB,YACXjI,KAAK0J,IAAIzB,WAAWd,YAAYnH,KAAK0J,MAG3C,EAxMA,G,ECKA,WAwBE,WAAYkhB,GAAZ,WAdQ,KAAAC,WAAa,EAEb,KAAAC,SAAuB,GAGvB,KAAAC,cAAgB,EAIhB,KAAAC,sBAAwB,EACxB,KAAAtQ,OAAQ,EAEhB,KAAA+P,SAAU,EA2BF,KAAAQ,aAAezC,GAAS,WAC9B,IAAI,EAAKiC,QAAT,CACA,IAAK,EAAKS,SAAS7qB,OAEjB,OADA,EAAK+P,OAAO/M,IAAI,IAAQtC,OAAO+P,YAAa,EAAKma,cAC1C,EAAKphB,MAGd,IAAMgQ,EAAU,EAAKzJ,OAAOsJ,YACtByR,EAA2B,GAC3BC,EAAuB,GAE7B,EAAKF,SAASjlB,SAAQ,SAAC2iB,GAElBA,EAAGyC,UAAYzC,EAAGyC,UAAY,EAAKN,eACpCnC,EAAG0C,QAAUzR,EAEbsR,EAASxpB,KAAKinB,GAEdwC,EAAKzpB,KAAKinB,MAId,EAAKsC,SAAWE,EAEZD,EAAS9qB,QAAQ,EAAKwY,KAAKsS,OAwBzB,KAAAI,WAAa,WACnB,EAAKC,eACL,EAAKC,gBAAkBC,aAAY,WACjC,GAAI,EAAKb,YAAc,EAAG,CACxB,IAAMlmB,EAAO,EAAKmmB,SAAShiB,KAAI,SAAC4N,GAAM,OAAAA,EAAEkS,MAExC,OADAjkB,EAAKgnB,QAAQ,EAAKzC,YAAYN,IAC1B,EAAKpT,KAAKoW,cAAgB,EAAKpW,KAAKoW,aAAajnB,GAC5C,EAAKknB,OAGP,EAAKC,iBAGd,EAAKjB,aACL,EAAKkB,iBACJ,MAGG,KAAAP,aAAe,WACrBQ,cAAc,EAAKP,kBAGb,KAAAQ,KAAO,WACb,EAAKC,SACD,EAAKzB,UACT,EAAK0B,UAAYT,aAAY,WAC3B,EAAKX,kBACJ,OAGG,KAAAmB,OAAS,WACfF,cAAc,EAAKG,YAGb,KAAAC,YAAc,WACpB,EAAKhc,OAAOiI,SAgHN,KAAA6K,kBAAoB,WAC1B,EAAKxZ,IAAIgD,UAAUC,IAAI,wBAGjB,KAAAwW,iBAAmB,WACzB,EAAKzZ,IAAIgD,UAAU7F,OAAO,wBAGpB,KAAAwlB,cAAgB,WACtB,EAAKxT,KAAK,EAAKqS,UACf,EAAKA,SAAW,IArOhBlrB,KAAK4qB,IAAMA,EACX5qB,KAAKwV,KAAOoV,EAAIpV,KAChBxV,KAAK0J,IAAM,IAAQwe,MAAM7a,WAAW,oBACpCrN,KAAKkrB,SAAWN,EAAIpV,KAAKuT,MAyT7B,OAtTE,sBAAI,uBAAQ,C,IAAZ,WACE,OAAO/oB,KAAK6qB,Y,gCAGN,YAAAyB,cAAR,WACEtsB,KAAKgrB,sBAAwBhrB,KAAKoQ,OAAOsJ,YACzC1Z,KAAKoQ,OAAOjN,GAAG,IAAQpC,OAAOkQ,KAAMjR,KAAKosB,aACzCpsB,KAAKoQ,OAAOjN,GAAG,IAAQpC,OAAO+P,YAAa9Q,KAAKosB,aAChDpsB,KAAKoQ,OAAOiI,SAGN,YAAAkU,cAAR,WACEvsB,KAAKoQ,OAAO/M,IAAI,IAAQtC,OAAOkQ,KAAMjR,KAAKosB,aAC1CpsB,KAAKoQ,OAAO/M,IAAI,IAAQtC,OAAO+P,YAAa9Q,KAAKosB,aACjDpsB,KAAKoQ,OAAOsJ,YAAc1Z,KAAKgrB,sBAC/BhrB,KAAKoQ,OAAOyI,QA8BN,YAAAiT,eAAR,WAME,GALA9rB,KAAK6qB,WAAa7qB,KAAK8qB,SAAS0B,QAAO,SAAC9rB,EAAG5C,GAEzC,OADA4C,GAAK5C,EAAE8qB,GAAGrP,UAAY,IAErB,GAECvZ,KAAKkpB,YAAa,CACpB,IAAM3E,EAAQvkB,KAAKkpB,YAAY3E,MAE3BA,EAAMhL,SACRvZ,KAAK6qB,YAActG,EAAMhL,SAAWgL,EAAM7K,YAE1C1Z,KAAK6qB,YAAc7qB,KAAKkpB,YAAYN,GAAGrP,SAGzCvZ,KAAK6qB,WAAa5f,KAAKwhB,KAAKzsB,KAAK6qB,YAGnC7qB,KAAK+rB,gBAyCP,YAAAF,KAAA,WACM7rB,KAAKkpB,aACPlpB,KAAKkpB,YAAY3E,MAAM3Z,UAEzB5K,KAAK6J,OAGP,YAAAiM,KAAA,WACE9V,KAAK0J,IAAImK,QAAS,GAGpB,YAAA0B,KAAA,WACEvV,KAAK0J,IAAImK,QAAS,GAGpB,YAAAhK,IAAA,WACO7J,KAAKyqB,UACVzqB,KAAKyqB,SAAU,EACfzqB,KAAKkpB,YAAc,KACnBlpB,KAAKoQ,OAAO6S,WAAWO,YACvBxjB,KAAK0sB,gBACL1sB,KAAKwrB,eACLxrB,KAAKuV,OACLvV,KAAKusB,gBACLvsB,KAAK2sB,gBAEL3sB,KAAK4qB,IAAInoB,KAAK,EAAO8lB,gBAGvB,YAAAoE,cAAA,WACM3sB,KAAK8qB,SAASzqB,SAChBL,KAAK8qB,SAAS7kB,SAAQ,SAAC,GAAc,OAAZ,EAAAse,MAAkB3Z,aAC3C5K,KAAK8qB,SAAW,KAIpB,YAAAiB,aAAA,SAAaptB,QAAA,IAAAA,MAAIqB,KAAK6qB,YACpB7qB,KAAK4sB,aAAaha,UAAYjU,EAAE4J,YAGlC,YAAAskB,cAAA,WACE7sB,KAAK4sB,aAAahnB,MAAMoH,QAAU,KAGpC,YAAA0f,cAAA,WACE1sB,KAAK4sB,aAAahnB,MAAMoH,QAAU,KAGpC,YAAAwd,YAAA,SAAY9gB,GACV1J,KAAK8sB,eAAezmB,YAAYqD,IAGlC,YAAAugB,aAAA,WACE,GAAIjqB,KAAKwV,KAAKwU,QACZ,OAAOhqB,KAAKwV,KAAKwU,QAAQhqB,KAAKkpB,YAAYN,GAAI5oB,KAAK6qB,aAIvD,YAAAvB,YAAA,WACEtpB,KAAK0J,IAAIgD,UAAUC,IAAI,4BACvB3M,KAAKurB,cAGP,YAAAhC,aAAA,WACEvpB,KAAK0J,IAAIgD,UAAU7F,OAAO,4BAC1B7G,KAAKwrB,gBAGP,YAAA9B,aAAA,WACE1pB,KAAK0a,OAAQ,EACb1a,KAAK8qB,SAAS7kB,SAAQ,SAACxI,GAAM,OAAAA,EAAE8mB,MAAMmG,UACrC1qB,KAAK0J,IAAIgD,UAAUC,IAAI,2BAGzB,YAAAgd,eAAA,WACE3pB,KAAK0a,OAAQ,EACb1a,KAAK8qB,SAAS7kB,SAAQ,SAACxI,GAAM,OAAAA,EAAE8mB,MAAMoG,YACrC3qB,KAAK0J,IAAIgD,UAAU7F,OAAO,2BAG5B,YAAAgS,KAAA,SAAKlD,GAAL,WACOA,GAAUA,EAAMtV,SACrBL,KAAKyqB,SAAU,EAEfzqB,KAAK8qB,SAAWnV,EAAM7M,KAAI,SAAC8f,GAAO,OAChCA,GAAE,EACFrE,MAAO,IAAI,EAAM,EAAMqE,EAAGjG,IAAK,EAAKjI,WAGtC1a,KAAKssB,gBACLtsB,KAAK8V,OACL9V,KAAKoqB,WAELpqB,KAAK8rB,iBACD9rB,KAAK6qB,YAAY7qB,KAAK6sB,kBAG5B,YAAAzC,SAAA,WACE,IAAKpqB,KAAK8qB,SAASzqB,OAAQ,OAAOL,KAAK6J,MAEvC,IAAM9E,EAAO/E,KAAK8qB,SAASiC,QAC3B/sB,KAAKkpB,YAAcnkB,EACnBA,EAAKwf,MAAM1L,OAEX7Y,KAAKoQ,OAAO6S,WAAWO,UAAUxjB,KAAK0J,IAAK3E,EAAKwf,MAAM7a,KAEtD1J,KAAK4qB,IAAInoB,KAAK,EAAO6lB,gBAgBvB,YAAAV,QAAA,SAAQxX,GAAR,WACEpQ,KAAKoQ,OAASA,EAEdpQ,KAAK0J,IAAIU,iBAAiB,SAAS,SAACJ,GAClCA,EAAGC,iBACHD,EAAGgjB,8BAGLhtB,KAAK0J,IAAIU,iBAAiB,eAAe,SAACJ,GACxCA,EAAGC,iBACHD,EAAGgjB,8BAGLhtB,KAAK8sB,eAAiB,IAAQ5E,MAAM7a,WAAW,2BAE/C,IAAM4f,EAAYjtB,KAAKktB,YAAW,WAChC,IAAMpf,EAAI,EAAKob,YAAY3E,MACvBzW,EAAE2c,QACJ3c,EAAEuK,QAEFvK,EAAE+K,SAEH,yBACHoU,EAAU5mB,YAAY,IAAQmX,MAAM3E,KAAK,4BACzCoU,EAAU5mB,YAAY,IAAQmX,MAAMnF,MAAM,6BAE1C,IAAMoC,EAASza,KAAKktB,YAClB,WAAM,SAAKhE,YAAY3E,MAAMlG,iBAC7B,2BAEF5D,EAAOpU,YAAY,IAAQmX,MAAM/C,OAAO,8BACxCA,EAAOpU,YAAY,IAAQmX,MAAM9C,MAAM,6BAEvC,IAAMyS,EAAOntB,KAAKktB,YAChB,WAAM,SAAK9c,OAAO6S,WAAWzP,WAC7B,yBAEF2Z,EAAK9mB,YAAY,IAAQmX,MAAMjD,gBAAgB,0BAC/C4S,EAAK9mB,YAAY,IAAQmX,MAAMhD,eAAe,2BAE9Cxa,KAAK4sB,aAAe,IAAQ1E,MAAM7a,WAAW,uBAEzCrN,KAAKwV,KAAK4X,SACZptB,KAAK0J,IAAIrD,YAAYsiB,EAAWvY,IAGlCpQ,KAAK0J,IAAIrD,YAAYrG,KAAK8sB,gBAC1B9sB,KAAK0J,IAAIrD,YAAY4mB,GACrBjtB,KAAK0J,IAAIrD,YAAYoU,GACrBza,KAAK0J,IAAIrD,YAAY8mB,GACrBntB,KAAK0J,IAAIrD,YAAYrG,KAAK4sB,cAE1Bxc,EAAOjN,GAAG,IAAQpC,OAAOkQ,KAAMjR,KAAKisB,MACpC7b,EAAOjN,GAAG,IAAQpC,OAAOmQ,MAAOlR,KAAKksB,QACrC9b,EAAOjN,GAAG,IAAQpC,OAAOoQ,MAAOnR,KAAKksB,QACrC9b,EAAOjN,GAAG,IAAQpC,OAAOqR,aAAcpS,KAAKksB,QAC5C9b,EAAOjN,GAAG,IAAQpC,OAAOsR,aAAcrS,KAAKisB,MAC5C7b,EAAOjN,GAAG,IAAQpC,OAAO4P,iBAAkB3Q,KAAKkjB,mBAChD9S,EAAOjN,GAAG,IAAQpC,OAAO6P,gBAAiB5Q,KAAKmjB,kBAC/C/S,EAAOjN,GAAG,IAAQpC,OAAOoQ,MAAOnR,KAAKqsB,eACjCjc,EAAOqa,SAASzqB,KAAKisB,OAEzB7b,EAAOjN,GAAG,IAAQpC,OAAO+P,YAAa9Q,KAAKirB,cAC3CjrB,KAAKirB,gBAGC,YAAAiC,WAAR,SAAmB/X,EAAqBjC,GAAxC,WACQxJ,EAAM,IAAQwe,MAAM7a,WAAW,yBAerC,OAdI6F,GAAKxJ,EAAIgD,UAAUC,IAAIuG,GAC3BxJ,EAAIU,iBACF,SACA,SAACJ,GACCA,EAAGC,iBACHD,EAAGsL,kBACC,EAAK4T,aAAa/T,OAExB,GAEFzL,EAAIU,iBAAiB,YAAY,SAACJ,GAChCA,EAAGC,iBACHD,EAAGgjB,8BAEEtjB,GAEX,EArVA,G,ECJA,WAQE,WAAYkhB,GAAZ,WAgBA,KAAArV,KAAO,WAUL,GATA,EAAK7L,IAAIgD,UAAU7F,OAAO,8BAEtB,EAAKwmB,WACP,EAAKA,UAAU3jB,IAAIzB,WAAWd,YAAY,EAAKkmB,UAAU3jB,KAG3D,EAAK2jB,UAAY,KACjB,EAAKnC,SAAW,EAAKA,SAASzkB,QAAO,SAACmiB,GAAO,OAAAA,EAAGvT,OAASuT,EAAG0E,SAExD,EAAKpC,SAAS7qB,OAAQ,CACxB,IAAMuoB,EAAK,EAAKsC,SAAS,GAErBxhB,OAAG,EACHkf,EAAG2E,QACL7jB,EAAM1F,SAAS6B,cAAc,QAChB8c,IAAMiG,EAAG2E,OAEtB7jB,EAD+B,iBAAfkf,EAAGplB,QACb,IAAQ0kB,MAAM7b,QAAQuc,EAAGplB,SAEzBolB,EAAGplB,QAGXkG,EAAIgD,UAAUC,IAAI,+BAClB,EAAKjD,IAAIrD,YAAYqD,GACrB,EAAK2jB,UAAY,CAAEzE,GAAE,EAAElf,IAAG,KAItB,KAAA8jB,cAAgB,WAClB,EAAK5C,IAAI7B,MAAM0B,SACnB,EAAK3U,QAGC,KAAA2X,WAAa,SAACzjB,G,MACpBA,EAAGC,iBACHD,EAAGgjB,2BACH,IAAMpE,EAAmB,QAAjB,EAAG,EAAKyE,iBAAS,eAAEzE,GACvBA,IACEA,EAAGO,QACLN,EAAaD,EAAGO,QAGdP,EAAGzT,SAASyT,EAAGzT,QAAQyT,KAIvB,KAAA8E,QAAU,SAAC1jB,GACjBA,EAAGC,iBACHD,EAAGgjB,2BACH,EAAKzX,QAjELvV,KAAK4qB,IAAMA,EACX5qB,KAAKkrB,SAAWN,EAAIpV,KAAKmY,SACzB3tB,KAAK0J,IAAM,IAAQwe,MAAM7a,WAAW,uBACpCrN,KAAK0J,IAAIU,iBAAiB,QAASpK,KAAKytB,YACxCztB,KAAK4tB,SAAW,IAAQ1F,MAAM7a,WAAW,6BACzCrN,KAAK4tB,SAASxjB,iBAAiB,QAASpK,KAAK0tB,SAAS,GACtD1tB,KAAK0J,IAAIrD,YAAYrG,KAAK4tB,UAwE9B,OArEE,YAAA9X,KAAA,WACO9V,KAAKqtB,YACVrtB,KAAK0J,IAAIgD,UAAUC,IAAI,8BACvB3M,KAAKqtB,UAAUzE,GAAGvT,WAwDpB,YAAAuS,QAAA,SAAQxX,GACFpQ,KAAK4qB,IAAIpV,KAAK4X,SAChBptB,KAAK0J,IAAIrD,YAAYsiB,EAAWvY,IAGlCA,EAAOjN,GAAG,IAAQpC,OAAOkQ,KAAMjR,KAAKuV,MACpCnF,EAAOjN,GAAG,IAAQpC,OAAOmQ,MAAOlR,KAAKwtB,eAErCxtB,KAAKuV,QAET,EAvFA,GCCqB,EAArB,YAQE,WAAYC,GAAZ,MACE,cAAO,K,OACP,EAAKA,KCkBF,SAAqBA,GAuB1B,OAtBAA,EAAK4X,QAA0B,MAAhB5X,EAAK4X,SAAyB5X,EAAK4X,QAClD5X,EAAKuT,MAAQvT,EAAKuT,OAAS,GAC3BvT,EAAKmY,SAAWnY,EAAKmY,UAAY,GAEjCnY,EAAKuT,MAAQvT,EAAKuT,MACftiB,QAAO,SAAC/F,GAAM,OAAAA,EAAEiiB,OAChB7Z,KAAI,SAACpI,GAMJ,OALI,IAAQwnB,MAAM7c,MAAM3K,EAAE2qB,YAAc,IAAQnD,MAAM7c,MAAM3K,EAAE4qB,QAC5D5qB,EAAE4qB,OAASuC,IAEXntB,EAAE4qB,OAAS5qB,EAAE4qB,QAAU,EAElB5qB,KAEX8U,EAAKmY,SAAWnY,EAAKmY,SAClBlnB,QAAO,SAAC/F,GAAM,OAAAA,EAAE6sB,QAAU7sB,EAAE8C,WAC5BsF,KAAI,SAACpI,GAGJ,OAFAA,EAAE4sB,MAAQ5sB,EAAE4sB,OAAS,EACrB5sB,EAAE2U,OAAS3U,EAAE2U,QAAU,EAChB3U,KAGJ8U,EDzCOsY,CAAYtY,GACxB,EAAK9L,IAAM,IAAQwe,MAAM7a,WAAW,cACpC,EAAK0b,MAAQ,IAAI,EAAM,GACvB,EAAK4E,SAAW,IAAI,EAAS,G,EAajC,OA1BiC,iBAgB/B,YAAA/F,QAAA,SAAQxX,GACNA,EAAOgK,QAAQ,QAAS,CAAE2T,GAAI,OAE9B/tB,KAAK+oB,MAAMnB,QAAQxX,GACnBpQ,KAAK2tB,SAAS/F,QAAQxX,GAEtBpQ,KAAK0J,IAAIrD,YAAYrG,KAAK+oB,MAAMrf,KAChC1J,KAAK0J,IAAIrD,YAAYrG,KAAK2tB,SAASjkB,KACnC0G,EAAO/J,YAAYrG,KAAK0J,MAvBV,EAAA3I,OAAS,EAyB3B,EA1BA,CAAiC,IAAQe,c,MEH1B,e","file":"rplayer-ads/dist/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"RPlayerAds\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RPlayerAds\"] = factory();\n\telse\n\t\troot[\"RPlayerAds\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"RPlayer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RPlayer\"] = factory();\n\telse\n\t\troot[\"RPlayer\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M1 1c-.6 0-1 .4-1 1v11c0 .6.4 1 1 1h4.6l2.7 2.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3l2.7-2.7H17c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1H1zm4.52 10.15c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41C8.47 4.96 7.46 3.76 5.5 3.76c-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69zm7.57 0c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41c-.28-1.15-1.29-2.35-3.25-2.35-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69z\\\" fill-rule=\\\"evenodd\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M10 3h3.6l-4 4L11 8.4l4-4V8h2V1h-7zM7 9.6l-4 4V10H1v7h7v-2H4.4l4-4z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M1 12h3.6l-4 4L2 17.4l4-4V17h2v-7H1zM16 .6l-4 4V1h-2v7h7V6h-3.6l4-4z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M12.4 12.5l2.1-2.1 2.1 2.1 1.4-1.4L15.9 9 18 6.9l-1.4-1.4-2.1 2.1-2.1-2.1L11 6.9 13.1 9 11 11.1zM3.786 6.008H.714C.286 6.008 0 6.31 0 6.76v4.512c0 .452.286.752.714.752h3.072l4.071 3.858c.5.3 1.143 0 1.143-.602V2.752c0-.601-.643-.977-1.143-.601L3.786 6.008z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M6 1H3c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1zM12 1c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1h-3z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.562 8.1L3.87.225C3.052-.337 2 .225 2 1.125v15.75c0 .9 1.052 1.462 1.87.9L15.563 9.9c.584-.45.584-1.35 0-1.8z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M16.135 7.784a2 2 0 0 1-1.23-2.969c.322-.536.225-.998-.094-1.316l-.31-.31c-.318-.318-.78-.415-1.316-.094a2 2 0 0 1-2.969-1.23C10.065 1.258 9.669 1 9.219 1h-.438c-.45 0-.845.258-.997.865a2 2 0 0 1-2.969 1.23c-.536-.322-.999-.225-1.317.093l-.31.31c-.318.318-.415.781-.093 1.317a2 2 0 0 1-1.23 2.969C1.26 7.935 1 8.33 1 8.781v.438c0 .45.258.845.865.997a2 2 0 0 1 1.23 2.969c-.322.536-.225.998.094 1.316l.31.31c.319.319.782.415 1.316.094a2 2 0 0 1 2.969 1.23c.151.607.547.865.997.865h.438c.45 0 .845-.258.997-.865a2 2 0 0 1 2.969-1.23c.535.321.997.225 1.316-.094l.31-.31c.318-.318.415-.781.094-1.316a2 2 0 0 1 1.23-2.969c.607-.151.865-.547.865-.997v-.438c0-.451-.26-.846-.865-.997zM9 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.6 3.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4C15.4 5.9 16 7.4 16 9c0 1.6-.6 3.1-1.8 4.3-.4.4-.4 1 0 1.4.2.2.5.3.7.3.3 0 .5-.1.7-.3C17.1 13.2 18 11.2 18 9s-.9-4.2-2.4-5.7z\\\"></path><path d=\\\"M11.282 5.282a.909.909 0 0 0 0 1.316c.735.735.995 1.458.995 2.402 0 .936-.425 1.917-.995 2.487a.909.909 0 0 0 0 1.316c.145.145.636.262 1.018.156a.725.725 0 0 0 .298-.156C13.773 11.733 14.13 10.16 14.13 9c0-.17-.002-.34-.011-.51-.053-.992-.319-2.005-1.522-3.208a.909.909 0 0 0-1.316 0zM3.786 6.008H.714C.286 6.008 0 6.31 0 6.76v4.512c0 .452.286.752.714.752h3.072l4.071 3.858c.5.3 1.143 0 1.143-.602V2.752c0-.601-.643-.977-1.143-.601L3.786 6.008z\\\"></path></svg>\"","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js!./index.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":root{--rplayer-primary:#448aff;--rplayer-switch:#67cd67}.rplayer{position:relative;display:flex;align-items:center;justify-content:center;height:100%;font-family:-apple-system,BlinkMacSystemFont,Microsoft JhengHei,Microsoft YaHei;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#fff;font-size:14px;-webkit-tap-highlight-color:transparent;outline:none}.rplayer [hidden]{display:none}.rplayer video{-ms-flex:1;max-width:100%}.rplayer svg{width:18px;height:18px;fill:#fff}.rplayer-paused .rplayer_i_pause,.rplayer_i_exit_fs,.rplayer_i_play{display:none}.rplayer-paused .rplayer_i_play{display:block}.rplayer-full,.rplayer-full video{width:100%}.rplayer-full .rplayer_i_exit_fs{display:block}.rplayer-full .rplayer_i_enter_fs{display:none}.rplayer-loading .rplayer_loading{display:block}.rplayer_switch{width:36px;padding:2px;border-radius:12px;background:hsla(0,0%,100%,.3);transition:background-color .3s cubic-bezier(.4,0,.2,1);cursor:pointer}.rplayer_switch:after{content:\\\"\\\";display:block;width:20px;height:20px;border-radius:50%;background:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);transition:transform .15s cubic-bezier(.4,0,.2,1)}.rplayer_switch-active{background:#67cd67;background:var(--rplayer-switch)}.rplayer_switch-active:after{transform:translateX(16px)}.rplayer_loading{display:none;z-index:2}.rplayer_loading div{position:absolute;left:50%;top:50%;width:70px;height:70px;border:6px solid transparent;border-top-color:#fff;border-radius:50%;-webkit-animation:rplayer-loading 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:rplayer-loading 1.2s cubic-bezier(.5,0,.5,1) infinite}.rplayer_loading div:first-child{background:rgba(0,0,0,.15);-webkit-animation-delay:-.45s;animation-delay:-.45s}.rplayer_loading div:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.rplayer_loading div:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}.rplayer_ctrl-hide{cursor:none}.rplayer_ctrl-hide .rplayer_ctrl_bottom,.rplayer_ctrl-hide .rplayer_ctrl_bottom_mask{opacity:0}.rplayer_ctrl_mask{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.rplayer_ctrl_bottom{padding:7px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer_ctrl_bottom,.rplayer_ctrl_bottom_mask{position:absolute;left:0;right:0;bottom:0;transition:opacity .2s ease}.rplayer_ctrl_bottom_mask{top:55%;min-height:55px;background:linear-gradient(transparent,rgba(0,0,0,.5));pointer-events:none}.rplayer_ctrl_bottom_trays{display:flex;align-items:center}.rplayer_ctrl_bottom_trays>*{margin-left:3px}.rplayer_ctrl_bottom_trays>:first-child{margin-left:0}.rplayer_ctrl_menu{position:absolute;top:0;left:0;padding:3px 0;font-size:12px;border-radius:3px;background:rgba(0,0,0,.7);z-index:2}.rplayer_ctrl_menu_item{display:flex;align-items:center;padding:5px 8px;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer_ctrl_menu_item_i{width:12px!important;height:12px!important;margin-right:5px}.rplayer_ctrl_menu_item>:nth-child(2){margin-right:auto}.rplayer_ctrl_menu_item:hover{background:hsla(0,0%,100%,.2)}.rplayer_ctrl_menu_item:after{content:\\\"\\\";opacity:0;display:block;height:5px;width:10px;border-color:transparent transparent #fff #fff;border-style:solid;border-width:1px;margin-left:10px;margin-top:-3px;transform:rotate(-45deg)}.rplayer_ctrl_menu_item-checked:after{opacity:1}.rplayer_bar{position:absolute;left:0;right:0;top:0;bottom:0;transform-origin:0 0}.rplayer_dot{position:absolute;left:-6px;pointer-events:none}.rplayer_dot:after{content:\\\"\\\";display:block;width:12px;height:12px;border-radius:50%;background:#448aff;background:var(--rplayer-primary);transform:scale(0);transition:transform .15s ease}.rplayer_progress{position:absolute;left:7px;right:7px;bottom:50px;cursor:pointer}.rplayer_progress_dot{top:-4px}.rplayer_progress_bar_wrapper{position:absolute;left:0;right:0;height:4px;background:hsla(0,0%,100%,.3)}.rplayer_progress_played{background:#448aff;background:var(--rplayer-primary);transform:scaleX(0);will-change:transform}.rplayer_progress_buf,.rplayer_progress_hover{background:hsla(0,0%,100%,.5)}.rplayer_progress_hover{opacity:0}.rplayer_progress_pad{top:-8px;height:16px;touch-action:none}.rplayer_progress:hover .rplayer_progress_hover{opacity:1}.rplayer_progress:active .rplayer_progress_hover{opacity:0}.rplayer_progress:active .rplayer_thumb,.rplayer_progress:hover .rplayer_thumb{opacity:1;transform:translate(-50%) scale(1)}.rplayer_progress:active .rplayer_progress_bar_wrapper,.rplayer_progress:hover .rplayer_progress_bar_wrapper{transform:scaleY(1.3)}.rplayer_progress:active .rplayer_progress_dot:after,.rplayer_progress:hover .rplayer_progress_dot:after{transform:scale(1)}.rplayer_thumb{position:absolute;left:0;bottom:10px;font-size:12px;opacity:0;transform:translate(-50%,15px) scale(.8);transition:transform .2s ease .1s,opacity .2s ease .1s;text-align:center;pointer-events:none;z-index:1}.rplayer_thumb_time{margin-top:10px;text-shadow:0 0 2px rgba(0,0,0,.3)}.rplayer_thumb_img{border-radius:2px;border:1px solid #fff;box-shadow:0 0 10px rgba(0,0,0,.1);background-color:hsla(0,0%,100%,.5);background-repeat:no-repeat}.rplayer_tray_volume{display:flex;align-items:center}@media only screen and (max-width:768px){.rplayer_tray_volume{display:none}}.rplayer_tray_volume .rplayer_i_muted{display:none}.rplayer_tray_volume_i-muted .rplayer_i_muted{display:block}.rplayer_tray_volume_i-muted .rplayer_i_volume{display:none}.rplayer_tray_volume_progress{position:relative;width:60px;margin-left:3px;margin-right:6px;padding:4px 0;cursor:pointer}.rplayer_tray_volume_progress:hover .rplayer_tray_volume_dot:after{transform:scale(1)}.rplayer_tray_volume_bar{background:hsla(0,0%,100%,.8)}.rplayer_tray_volume_bar_wrapper{position:relative;height:4px;border-radius:3px;background:hsla(0,0%,100%,.3);overflow:hidden}.rplayer_tray_volume_dot{top:0}.rplayer_tray_volume_dot:after{background:hsla(0,0%,100%,.8)}.rplayer_tray_time{font-size:13px;margin-left:8px;margin-right:auto;margin-top:-1px;text-shadow:0 0 2px rgba(0,0,0,.3);white-space:nowrap;letter-spacing:1px}.rplayer_tray_time :first-child:after{content:\\\"/\\\";display:inline-block;font-size:12px;margin:0 5px;transform:translateY(-.5px)}.rplayer_tray_set svg{transition:transform .2s ease}.rplayer_tray_set-active{background:#448aff!important;background:var(--rplayer-primary)!important}.rplayer_tray_set-active svg{transform:rotate(90deg)}.rplayer_tray_set-active .rplayer_tooltip_text{opacity:0!important}.rplayer_tray_set-active .rplayer_sets_menu{opacity:1;transform:translateY(0);pointer-events:auto}.rplayer_tray_set-active .rplayer_tray_set_mask{display:block}.rplayer_tray_cap svg{opacity:.5}.rplayer_tray_cap-active svg{opacity:1}.rplayer_caption{position:absolute;left:50%;bottom:60px;max-width:90%;padding:2px 5px;font-size:22px;color:#fff;background:rgba(8,8,8,.75);opacity:0;transform:translateX(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;cursor:default;word-break:break-all;z-index:1}.rplayer_caption-active{opacity:1}.rplayer .rplayer_tray{padding:7px;border-radius:3px;transition:background .3s ease;font-size:0;cursor:pointer}.rplayer .rplayer_tray:hover{background:#448aff;background:var(--rplayer-primary)}.rplayer_tooltip{position:relative;display:inline-block}.rplayer_tooltip:hover .rplayer_tooltip_text{opacity:1;transform:translate(-50%)}.rplayer_tooltip:hover .rplayer_tooltip_text-left,.rplayer_tooltip:hover .rplayer_tooltip_text-right{transform:translate(0)}.rplayer_tooltip_text{position:absolute;left:50%;bottom:100%;font-size:12px;margin-bottom:15px;padding:5px 10px;border-radius:3px;white-space:nowrap;background:rgba(0,0,0,.7);transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;pointer-events:none;opacity:0;transition:transform .2s ease .1s,opacity .2s ease .1s}.rplayer_tooltip_text-left{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.rplayer_tooltip_text-right{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.rplayer_sets_menu{position:absolute;bottom:100%;right:0;border-radius:3px;margin-bottom:15px;font-size:14px;background:rgba(0,0,0,.7);white-space:nowrap;opacity:0;transform:translateY(10px);z-index:2;pointer-events:none;transition:opacity .2s ease,transform .2s ease,height .2s cubic-bezier(.4,0,.2,1),width .2s cubic-bezier(.4,0,.2,1);overflow:hidden;will-change:width,height}.rplayer_sets_menu_page .rplayer_sets_menu_page_back{justify-content:flex-start;border-bottom:1px solid hsla(0,0%,100%,.2)}.rplayer_sets_menu_page .rplayer_sets_menu_page_back:before{content:\\\"\\\";display:block;width:0;height:0;margin-right:21px;border:4px solid transparent;border-right-color:#fff}.rplayer_sets_menu_item{display:flex;align-items:center;justify-content:space-between;padding:8px 20px}.rplayer_sets_menu_item:hover{background:hsla(0,0%,100%,.2)}.rplayer_sets_menu_item :first-child{padding-right:50px;margin-right:auto}.rplayer_sets_menu_select:after{content:\\\"\\\";display:block;width:0;height:0;margin-left:10px;border:4px solid transparent;border-left-color:#fff}.rplayer_sets_select_opt{position:relative;justify-content:flex-start}.rplayer_sets_select_opt:before{content:\\\"\\\";display:block;opacity:0;height:5px;width:12px;border-color:transparent transparent #fff #fff;border-style:solid;border-width:1px;margin-right:15px;margin-top:-5px;transform:rotate(-45deg)}.rplayer_sets_select_opt-active:before{opacity:1}@-webkit-keyframes rplayer-loading{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes rplayer-loading{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","type Fn = (ev: PointerEvent) => any;\n\nexport default class Drag {\n  private readonly dom: HTMLElement;\n  private readonly start: Fn;\n  private readonly move: Fn;\n  private readonly end: Fn;\n  private pending = false;\n  private lastEv: PointerEvent;\n\n  constructor(dom: HTMLElement, start: Fn, move: Fn, end?: Fn) {\n    this.dom = dom;\n    this.start = start;\n    this.move = move;\n    this.end = end;\n\n    dom.addEventListener('pointerdown', this.downHandler, true);\n    dom.addEventListener('pointerup', this.upHandler, true);\n    dom.addEventListener('pointercancel', this.upHandler, true);\n  }\n\n  private downHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.dom.setPointerCapture(ev.pointerId);\n    this.dom.addEventListener('pointermove', this.moveHandler, true);\n    this.start(ev);\n  };\n\n  private moveHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.lastEv = ev;\n    if (this.pending) return;\n    this.pending = true;\n    requestAnimationFrame(this.handlerMove);\n  };\n\n  private handlerMove = (): void => {\n    this.move(this.lastEv);\n    this.pending = false;\n  };\n\n  private upHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.dom.releasePointerCapture(ev.pointerId);\n    this.dom.removeEventListener('pointermove', this.moveHandler, true);\n\n    if (this.end) this.end(ev);\n  };\n\n  destroy(): void {\n    this.dom.removeEventListener('pointerdown', this.downHandler, true);\n    this.dom.removeEventListener('pointerup', this.upHandler, true);\n    this.dom.removeEventListener('pointercancel', this.upHandler, true);\n    this.dom.removeEventListener('pointermove', this.moveHandler, true);\n  }\n}\n","export { default as Drag } from './drag';\n\nexport function noop(): void {}\n\nexport function clamp(n: number, lower = 0, upper = 1): number {\n  return Math.max(Math.min(n, upper), lower);\n}\n\nexport function isStr(o: any): o is string {\n  return typeof o === 'string';\n}\n\nexport function isNum(o: any): o is number {\n  return typeof o === 'number' && !isNaN(o);\n}\n\nexport function isFn(o: any): o is Function {\n  return typeof o === 'function';\n}\n\nexport function isObj(o: any): o is Record<string, any> {\n  return typeof o === 'object' && o != null;\n}\n\nexport function isElement(o: any): o is Element {\n  return o instanceof Element;\n}\n\nexport function isCatchable(o: any): o is { catch: Function } {\n  return isObj(o) && isFn(o.catch);\n}\n\nexport function clampNeg(n: number, max: number, defaults = max): number {\n  if (n == null) return defaults;\n  if (n >= 0) return Math.min(n, max);\n\n  while (n < 0) {\n    n += max;\n  }\n\n  return n + 1;\n}\n\nexport function findIndex<T>(\n  arr: T[],\n  predicate: (value: T, index: number, obj: T[]) => unknown\n): number {\n  if (arr.findIndex) return arr.findIndex(predicate);\n\n  for (let i = 0, l = arr.length; i < l; i++) {\n    if (predicate(arr[i], i, arr)) return i;\n  }\n\n  return -1;\n}\n\nexport function getDomOr<T extends HTMLElement>(\n  dom: HTMLElement | string,\n  orReturn?: (() => T) | T\n): T {\n  let ret: T = dom as T;\n  if (typeof dom === 'string') ret = document.querySelector(dom);\n  return ret || (isFn(orReturn) ? orReturn() : orReturn);\n}\n\nexport function htmlDom(\n  html = '',\n  tag = 'span',\n  className?: string\n): HTMLElement {\n  const d = document.createElement(tag);\n  d.innerHTML = html;\n  if (className) d.classList.add(className);\n  return d;\n}\n\nexport function measureElementSize(\n  dom: HTMLElement\n): { width: number; height: number } {\n  const clone = dom.cloneNode(true) as HTMLElement;\n  clone.style.position = 'absolute';\n  clone.style.opacity = '0';\n  clone.removeAttribute('hidden');\n\n  dom.parentNode.appendChild(clone);\n\n  const width = clone.scrollWidth;\n  const height = clone.scrollHeight;\n\n  dom.parentNode.removeChild(clone);\n\n  return { width, height };\n}\n\nexport function newElement<T extends HTMLElement>(\n  className?: string,\n  tag: keyof HTMLElementTagNameMap = 'div'\n): T {\n  const dom = document.createElement(tag) as T;\n  if (className) dom.classList.add(className);\n  return dom;\n}\n\nconst domParser = new DOMParser();\nexport function strToDom(\n  str: string,\n  type: SupportedType = 'image/svg+xml'\n): HTMLElement {\n  return domParser.parseFromString(str, type).firstChild as HTMLElement;\n}\n\nexport function svgToDom(str: string, className?: string): HTMLElement {\n  const dom = strToDom(str);\n  if (className) {\n    if (dom.classList) {\n      dom.classList.add(className);\n    } else {\n      dom.setAttribute('class', className);\n    }\n  }\n  return dom;\n}\n\nexport function padStart(v: string | number, len = 2, str = '0'): string {\n  v = String(v);\n  if (v.length >= 2) return v;\n\n  for (let i = 0, l = len - v.length; i < l; i++) {\n    v = str + v;\n  }\n\n  return v;\n}\n\nexport function formatTime(seconds: number): string {\n  if (!seconds || seconds < 0) return '0:00';\n\n  seconds = Math.round(seconds);\n  if (seconds < 60) return `0:${padStart(seconds)}`;\n  if (seconds < 3600) {\n    return `${Math.floor(seconds / 60)}:${padStart(seconds % 60)}`;\n  }\n\n  return `${Math.floor(seconds / 3600)}:${padStart(\n    Math.floor((seconds % 3600) / 60)\n  )}:${padStart(seconds % 60)}`;\n}\n\nexport const ua = {\n  isEdge: window.navigator.userAgent.indexOf('Edge') > -1,\n  isIos: /(iPad|iPhone|iPod)/gi.test(navigator.platform),\n  isIE: /MSIE|Trident/.test(navigator.userAgent),\n};\n\nexport const makeDictionary = <T>(obj: T): T => {\n  (obj as any).__ = undefined;\n  delete (obj as any).__;\n  return obj;\n};\n\nexport const getClientWH = (): [number, number] => {\n  return [document.body.clientWidth, document.body.clientHeight];\n};\n\nexport const safeJsonParse = <T extends Record<string, any>>(\n  str: string,\n  orRet?: T\n): T | string => {\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    return orRet || str;\n  }\n};\n\nexport const safeJsonStringify = (\n  obj: Record<string, any>,\n  orRet = ''\n): string => {\n  try {\n    return JSON.stringify(obj);\n  } catch (e) {\n    return orRet;\n  }\n};\n\nexport const extend = (\n  target: Record<string, any> = {},\n  source: Record<string, any>\n): Record<string, any> => {\n  if (!source) return target;\n\n  Object.keys(source).forEach((key) => {\n    if (isObj(source[key])) {\n      if (Object.keys(target).indexOf(key) < 0) {\n        target = { ...target, [key]: {} };\n      }\n      extend(target[key], source[key]);\n    } else {\n      target = { ...target, [key]: source[key] };\n    }\n  });\n\n  return target;\n};\n\nexport const ajax = (\n  url: string,\n  cb: (err: any, data?: string) => any\n): void => {\n  const xhr = new XMLHttpRequest();\n  xhr.onreadystatechange = function (): void {\n    if (xhr.readyState == 4) {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        cb(null, xhr.responseText);\n      } else {\n        cb({});\n      }\n    }\n  };\n  xhr.onerror = (err): void => cb(err);\n  xhr.open('GET', url, true);\n  xhr.send();\n};\n","enum Events {\n  BEFORE_MOUNT = 'BeforeMount',\n  MOUNTED = 'Mounted',\n  CONTROLS_SHOW = 'ControlsShow',\n  CONTROLS_HIDE = 'ControlsHide',\n  ENTER_FULLSCREEN = 'EnterFullscreen',\n  EXIT_FULLSCREEN = 'ExitFullscreen',\n  DURATION_CHANGE = 'DurationChange',\n  TIME_UPDATE = 'TimeUpdate',\n  VOLUME_CHANGE = 'VolumeChange',\n  LOADED_METADATA = 'LoadedMetadata',\n  PLAY = 'Play',\n  PAUSE = 'Pause',\n  ENDED = 'Ended',\n  PROGRESS = 'Progress',\n  CANPLAY = 'Canplay',\n  WAITING = 'Waiting',\n  PLAYING = 'Playing',\n  STALLED = 'Stalled',\n  ERROR = 'Error',\n  BREAK_POINT_CHANGE = 'BreakPointChange',\n  CLICK_CONTROL_MASK = 'ClickControlMask',\n  CLICK_OUTSIDE = 'ClickOutside',\n  PLAYER_CLICK = 'PlayerClick',\n  PLAYER_CONTEXT_MENU = 'PlayerContextMenu',\n  PLAYER_DBLCLICK = 'PlayerDblclick',\n  PLAYER_MOUSE_MOVE = 'PlayerMouseMove',\n  PLAYER_MOUSE_LEAVE = 'PlayerMouseLeave',\n  PLAYER_RESIZE = 'PlayerResize',\n  SETTING_SELECTED = 'SettingSelected',\n  LOADING_SHOW = 'LoadingShow',\n  LOADING_HIDE = 'LoadingHide',\n}\n\nexport default Events;\n","import { EventEmitter } from 'eventemitter3';\nimport RPlayer from './rplayer';\nimport { isFn, isStr } from './utils';\n\nexport default class EventHandler extends EventEmitter {\n  protected readonly player: RPlayer;\n\n  constructor(player?: RPlayer, events?: string[]) {\n    super();\n\n    if (player && !isStr(player)) {\n      this.player = player;\n\n      if (events) {\n        events.forEach((evName) => {\n          const fnName = 'on' + evName;\n          if (isFn((this as any)[fnName])) {\n            player.on(evName, (this as any)[fnName].bind(this));\n          }\n        });\n      }\n    }\n  }\n}\n","import EventHandler from './event-handler';\nimport Events from './events';\nimport RPlayer from './rplayer';\nimport { isStr, newElement } from './utils';\n\nexport interface ComponentOptions {\n  player?: RPlayer;\n  dom?: keyof HTMLElementTagNameMap | HTMLElement;\n  events?: string[];\n  autoUpdateRect?: boolean;\n  className?: string;\n}\n\nexport default class Component extends EventHandler {\n  protected _rect: DOMRect;\n  readonly dom: HTMLElement;\n\n  constructor(\n    player?: RPlayer,\n    {\n      dom = 'div',\n      events,\n      autoUpdateRect = false,\n      className,\n    }: ComponentOptions = {}\n  ) {\n    super(player, events);\n\n    this.dom = isStr(dom) ? newElement('', dom) : dom;\n\n    if (className) this.addClass(className);\n\n    if (player && autoUpdateRect) {\n      this.autoUpdateRect();\n    }\n  }\n\n  get rect(): DOMRect {\n    if (this._rect) return this._rect;\n    this._rect = this.dom.getBoundingClientRect();\n    return this._rect;\n  }\n\n  get text(): string {\n    return this.dom.innerText;\n  }\n\n  set text(text: string) {\n    this.dom.innerText = text;\n  }\n\n  get html(): string {\n    return this.dom.innerHTML;\n  }\n\n  set html(html: string) {\n    this.dom.innerHTML = html;\n  }\n\n  private _resizeHandler = (): void => {\n    this.updateRect();\n  };\n\n  autoUpdateRect(player = this.player): void {\n    player.on(Events.PLAYER_RESIZE, this._resizeHandler);\n  }\n\n  updateRect = (): void => {\n    this._rect = this.dom.getBoundingClientRect();\n  };\n\n  addStyle(style: Partial<CSSStyleDeclaration> | string): void {\n    if (isStr(style)) {\n      this.dom.style.cssText = style;\n    } else {\n      Object.keys(style).forEach((k) => {\n        this.dom.style[k as any] = style[k as any];\n      });\n    }\n  }\n\n  appendChild(d: Node | Component): void {\n    this.dom.appendChild(Component.isComponent(d) ? d.dom : d);\n  }\n\n  insert(d: Node | Component, pos?: number): void {\n    this.dom.insertBefore(\n      Component.isComponent(d) ? d.dom : d,\n      this.dom.children[pos]\n    );\n  }\n\n  removeChild(d: Node | Component): void {\n    this.dom.removeChild(Component.isComponent(d) ? d.dom : d);\n  }\n\n  addClass(cls: string): void {\n    cls.split(' ').forEach((c) => {\n      this.dom.classList.add(c);\n    });\n  }\n\n  containsClass(cls: string): boolean {\n    return this.dom.classList.contains(cls);\n  }\n\n  toggleClass(cls: string, force?: boolean): void {\n    this.dom.classList.toggle(cls, force);\n  }\n\n  removeClass(cls: string): void {\n    this.dom.classList.remove(cls);\n  }\n\n  appendTo(d: Node | Component): void {\n    d.appendChild(this.dom);\n  }\n\n  removeFrom(d: Node | Component): void {\n    d.removeChild(this.dom);\n  }\n\n  removeFromParent(): void {\n    this.dom.parentNode.removeChild(this.dom);\n  }\n\n  hidden(): void {\n    this.dom.hidden = true;\n  }\n\n  visible(): void {\n    this.dom.hidden = false;\n  }\n\n  canFocus(): void {\n    this.dom.setAttribute('tabindex', '0');\n  }\n\n  static isComponent(obj: unknown): obj is Component {\n    return obj instanceof Component;\n  }\n}\n","export const BP: Record<string, string> = {\n  BREAKPOINT_WIDESCREEN: '(min-width: 1216px)',\n  BREAKPOINT_DESKTOP: '(max-width: 1215px) and (min-width: 1024px)',\n  BREAKPOINT_TABLET: '(max-width: 1023px) and (min-width: 769px)',\n  BREAKPOINT_PHONE: '(max-width: 768px)',\n};\n","export const PLAYER = 'rplayer';\nexport const PREFIX = PLAYER + '_';\nexport const ACTIVE = '-active';\n\nexport const PAUSED = PLAYER + '-paused';\nexport const LOADING = PLAYER + '-loading';\nexport const PLAYER_LOADING = PREFIX + 'loading';\nexport const FULL = PLAYER + '-full';\nexport const CTRL = PREFIX + 'ctrl';\nexport const CTRL_MASK = CTRL + '_mask';\nexport const CTRL_HIDE = CTRL + '-hide';\nexport const CTRL_BOTTOM = CTRL + '_bottom';\nexport const CTRL_BOTTOM_MASK = CTRL_BOTTOM + '_mask';\nexport const CTRL_TRAYS = CTRL_BOTTOM + '_trays';\n\nexport const CTRL_MENU = CTRL + '_menu';\nexport const CTRL_MENU_ITEM = CTRL_MENU + '_item';\nexport const CTRL_MENU_ITEM_I = CTRL_MENU_ITEM + '_i';\nexport const CTRL_MENU_ITEM_CHECKED = CTRL_MENU_ITEM + '-checked';\n\nexport const THUMB = PREFIX + 'thumb';\nexport const THUMB_TIME = THUMB + '_time';\nexport const THUMB_IMG = THUMB + '_img';\n\nexport const PROGRESS = PREFIX + 'progress';\nexport const PROGRESS_WRAPPER = PROGRESS + '_bar_wrapper';\nexport const PROGRESS_BUF = PROGRESS + '_buf';\nexport const PROGRESS_HOVER = PROGRESS + '_hover';\nexport const PROGRESS_PLAYED = PROGRESS + '_played';\nexport const PROGRESS_PAD = PROGRESS + '_pad';\nexport const PROGRESS_DOT = PROGRESS + '_dot';\n\nexport const TOOLTIP = PREFIX + 'tooltip';\nexport const TOOLTIP_TEXT = TOOLTIP + '_text';\nexport const TOOLTIP_TEXT_LEFT = TOOLTIP_TEXT + '_left';\nexport const TOOLTIP_TEXT_RIGHT = TOOLTIP_TEXT + '_right';\nexport const TRAY = PREFIX + 'tray';\nexport const TRAY_TIME = TRAY + '_time';\nexport const TRAY_VOLUME = TRAY + '_volume';\nexport const TRAY_VOLUME_PROGRESS = TRAY_VOLUME + '_progress';\nexport const TRAY_VOLUME_BAR = TRAY_VOLUME + '_bar';\nexport const TRAY_VOLUME_DOT = TRAY_VOLUME + '_dot';\nexport const TRAY_VOLUME_I_MUTED = TRAY_VOLUME + '_i-muted';\nexport const TRAY_VOLUME_BAR_WRAPPER = TRAY_VOLUME + '_bar_wrapper';\n\nexport const TRAY_SETTING = TRAY + '_set';\nexport const TRAY_SETTING_ACTIVE = TRAY_SETTING + ACTIVE;\n\nexport const SETTINGS = PREFIX + 'sets';\nexport const SETTINGS_SELECT_OPT = SETTINGS + '_select_opt';\nexport const SETTINGS_SELECT_OPT_ACTIVE = SETTINGS_SELECT_OPT + ACTIVE;\nexport const SETTINGS_MENU = SETTINGS + '_menu';\nexport const SETTINGS_MENU_ITEM = SETTINGS_MENU + '_item';\nexport const SETTINGS_MENU_PAGE = SETTINGS_MENU + '_page';\nexport const SETTINGS_MENU_BACK = SETTINGS_MENU_PAGE + '_back';\nexport const SETTINGS_MENU_SELECT = SETTINGS_MENU + '_select';\n\nexport const SWITCH = PREFIX + 'switch';\nexport const SWITCH_ACTIVE = SWITCH + ACTIVE;\n\nexport const CAPTION = PREFIX + 'caption';\nexport const CAPTION_ACTIVE = CAPTION + ACTIVE;\nexport const CAPTION_TRAY = TRAY + '_cap';\nexport const CAPTION_TRAY_ACTIVE = CAPTION_TRAY + ACTIVE;\nexport const ICON = PREFIX + 'i';\nexport const ICON_ENTER_FS = ICON + '_enter_fs';\nexport const ICON_EXIT_FS = ICON + '_exit_fs';\nexport const ICON_PLAY = ICON + '_play';\nexport const ICON_PAUSE = ICON + '_pause';\nexport const ICON_VOLUME = ICON + '_volume';\nexport const ICON_MUTED = ICON + '_muted';\nexport const BAR = PLAYER + '_bar';\nexport const DOT = PLAYER + '_dot';\n","import Component from '../component';\nimport {\n  CTRL_MENU,\n  CTRL_MENU_ITEM,\n  CTRL_MENU_ITEM_CHECKED,\n  CTRL_MENU_ITEM_I,\n} from '../config/classname';\nimport Events from '../events';\nimport RPlayer from '../rplayer';\nimport {\n  getClientWH,\n  htmlDom,\n  isElement,\n  isFn,\n  newElement,\n  clampNeg,\n} from '../utils';\n\nexport interface ContextMenuItem {\n  icon?: string | Element;\n  label?: string | Element;\n  checked?: boolean;\n  onClick?: (checked: boolean, update: () => void, ev: MouseEvent) => any;\n}\n\nexport interface ContextMenuOpts {\n  toggle?: boolean;\n  enable?: boolean;\n  items?: ContextMenuItem[];\n}\n\nexport class MenuItem {\n  readonly dom: HTMLElement;\n  private checked = false;\n  private readonly cb: ContextMenuItem['onClick'];\n\n  constructor(item: ContextMenuItem) {\n    this.dom = newElement(CTRL_MENU_ITEM);\n    const i = isElement(item.icon) ? item.icon : htmlDom(item.icon);\n    i.classList.add(CTRL_MENU_ITEM_I);\n    this.dom.appendChild(i);\n    this.dom.appendChild(\n      isElement(item.label) ? item.label : htmlDom(item.label)\n    );\n\n    this.checked = !!item.checked;\n    this.update();\n\n    if (isFn(item.onClick)) {\n      this.cb = item.onClick;\n      this.dom.addEventListener('click', this.clickHandler, true);\n    }\n  }\n\n  private next = (): void => {\n    this.checked = !this.checked;\n    this.update();\n  };\n\n  update(): void {\n    if (this.checked) {\n      this.dom.classList.add(CTRL_MENU_ITEM_CHECKED);\n    } else {\n      this.dom.classList.remove(CTRL_MENU_ITEM_CHECKED);\n    }\n  }\n\n  clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    this.cb(!this.checked, this.next, ev);\n  };\n}\n\nexport default class ContextMenu extends Component {\n  private showed = false;\n  private enable: boolean;\n  private toggle: boolean;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [\n        Events.PLAYER_CONTEXT_MENU,\n        Events.CLICK_OUTSIDE,\n        Events.CLICK_CONTROL_MASK,\n      ],\n      className: CTRL_MENU,\n    });\n\n    const opts = this.player.options.contextMenu;\n    this.enable = opts.enable;\n    this.toggle = opts.toggle;\n\n    this.hidden();\n    this.showed = !this.enable;\n    opts.items.forEach((item) => {\n      this.appendChild(new MenuItem(item).dom);\n    });\n\n    this.dom.addEventListener('click', this.clickHandler);\n  }\n\n  hide(): void {\n    this.player.controls.mask.hide();\n    this.hidden();\n  }\n\n  show(): void {\n    this.player.controls.mask.show();\n    this.visible();\n  }\n\n  clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.showed = false;\n    this.hide();\n  };\n\n  addItem(opts: ContextMenuItem, pos?: number): MenuItem {\n    const item = new MenuItem(opts);\n    this.dom.insertBefore(\n      item.dom,\n      this.dom.children[clampNeg(pos, this.dom.children.length)]\n    );\n    return item;\n  }\n\n  onPlayerContextMenu(ev: MouseEvent): void {\n    if (!this.showed || !this.toggle) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    if (!this.enable) return;\n\n    if (this.showed && this.toggle) {\n      this.showed = false;\n      this.hide();\n    } else {\n      this.show();\n      const { width, height } = this.rect;\n      const { left, top } = this.player.rect;\n      const [w, h] = getClientWH();\n\n      let l = ev.pageX - left;\n      let t = ev.pageY - top;\n      if (ev.pageX + width > w) l = w - width;\n      if (ev.pageY + height > h) t = h - height;\n\n      this.addStyle({\n        left: l + 'px',\n        top: t + 'px',\n      });\n      this.showed = true;\n    }\n  }\n\n  onClickOutside(): void {\n    this.hide();\n    this.showed = false;\n  }\n\n  onClickControlMask(): void {\n    this.hide();\n  }\n}\n","import { CTRL_MASK } from '../config/classname';\nimport Events from '../events';\nimport RPlayer from '../rplayer';\nimport { newElement } from '../utils';\n\nexport default class Mask {\n  private readonly player: RPlayer;\n  readonly dom: HTMLElement;\n\n  constructor(player: RPlayer) {\n    this.player = player;\n    this.dom = newElement(CTRL_MASK);\n    this.dom.addEventListener('click', this.clickHandler);\n    this.hide();\n  }\n\n  get isActive(): boolean {\n    return !this.dom.hidden;\n  }\n\n  private clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.player.emit(Events.CLICK_CONTROL_MASK);\n  };\n\n  show(): void {\n    this.dom.hidden = false;\n  }\n\n  hide(): void {\n    this.dom.hidden = true;\n  }\n}\n","import { BAR } from '../config/classname';\nimport { clamp, newElement } from '../utils';\n\nexport default class Bar {\n  readonly dom: HTMLElement;\n\n  constructor(className?: string) {\n    this.dom = newElement(BAR);\n    if (className) this.dom.classList.add(className);\n  }\n\n  setX(x: number): void {\n    this.dom.style.transform = `scaleX(${clamp(x)})`;\n  }\n}\n","import { DOT } from '../config/classname';\nimport { newElement } from '../utils';\n\nexport default class Dot {\n  readonly dom: HTMLElement;\n\n  constructor(className?: string) {\n    this.dom = newElement(DOT);\n    if (className) this.dom.classList.add(className);\n  }\n\n  setX(x: number): void {\n    this.dom.style.transform = `translateX(${x}px)`;\n  }\n}\n","import Component from '../component';\nimport { THUMB, THUMB_IMG, THUMB_TIME } from '../config/classname';\nimport RPlayer from '../rplayer';\nimport { clamp, formatTime, newElement } from '../utils';\nimport ProgressBar from './progress-bar';\n\nexport interface ThumbnailImgBg {\n  x: number;\n  y: number;\n  url: string;\n}\n\nexport interface ThumbnailOpts {\n  startTime?: number;\n  gapSec?: number;\n  col?: number;\n  row?: number;\n  width?: number;\n  height?: number;\n  images?: string[];\n  handler?: (seconds: number) => ThumbnailImgBg;\n}\n\nexport default class Thumbnail extends Component {\n  private readonly progressBar: ProgressBar;\n  private readonly time: HTMLElement;\n  private readonly img: HTMLElement;\n  private readonly opts: ThumbnailOpts;\n  private readonly enableImg: boolean;\n\n  private halfImgWidth: number;\n  private thumbNumPerImg: number;\n  private ssGapRatio: number;\n\n  constructor(player: RPlayer, progressBar: ProgressBar) {\n    super(player, { className: THUMB });\n\n    this.opts = player.options.thumbnail;\n    this.enableImg = !!this.opts.images.length || !!this.opts.handler;\n\n    if (this.enableImg) {\n      this.halfImgWidth = this.opts.width / 2;\n      this.thumbNumPerImg = this.opts.col * this.opts.row;\n      this.ssGapRatio = this.opts.startTime / this.opts.gapSec;\n    }\n\n    this.progressBar = progressBar;\n    this.time = newElement(THUMB_TIME);\n    this.img = newElement(THUMB_IMG);\n\n    if (this.enableImg) {\n      this.img.style.width = this.opts.width + 'px';\n      this.img.style.height = this.opts.height + 'px';\n      this.appendChild(this.img);\n    }\n    this.appendChild(this.time);\n  }\n\n  private getCurBg(seconds: number): ThumbnailImgBg {\n    if (this.opts.handler) return this.opts.handler(seconds);\n\n    const i = Math.max(seconds / this.opts.gapSec - this.ssGapRatio, 0) | 0;\n    const url = this.opts.images[(i / this.thumbNumPerImg) | 0];\n\n    if (!url) return;\n\n    const x = (i % this.opts.col) * this.opts.width;\n    const y = ~~((i % this.thumbNumPerImg) / this.opts.row) * this.opts.height;\n\n    return { url, x, y };\n  }\n\n  update(left: number, seconds: number): void {\n    this.time.innerText = formatTime(seconds);\n\n    let half;\n    if (this.enableImg) {\n      half = this.halfImgWidth;\n      const b = this.getCurBg(seconds);\n      if (b && b.url) {\n        this.img.style.backgroundImage = `url(${b.url})`;\n        this.img.style.backgroundPosition = `-${b.x}px -${b.y}px`;\n      }\n    } else {\n      half = this.rect.width / 2;\n    }\n\n    this.addStyle({\n      left: `${clamp(left, half, this.progressBar.rect.width - half)}px`,\n    });\n  }\n}\n","import Component from '../component';\nimport {\n  PROGRESS,\n  PROGRESS_BUF,\n  PROGRESS_DOT,\n  PROGRESS_HOVER,\n  PROGRESS_PAD,\n  PROGRESS_PLAYED,\n  PROGRESS_WRAPPER,\n} from '../config/classname';\nimport Events from '../events';\nimport RPlayer from '../rplayer';\nimport { clamp, Drag, newElement } from '../utils';\nimport Bar from './bar';\nimport Dot from './dot';\nimport Thumbnail from './thumbnail';\n\nexport default class ProgressBar extends Component {\n  private readonly barWrapper: HTMLElement;\n  private readonly bufBar: Bar;\n  private readonly hoverBar: Bar;\n  private readonly playedBar: Bar;\n  private readonly dot: Dot;\n  private readonly thumbnail: Thumbnail;\n  private readonly drag: Drag;\n\n  private mouseMovePending = false;\n  private mouseMoveLastX = 0;\n  private dragging = false;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [Events.TIME_UPDATE, Events.PROGRESS, Events.CONTROLS_SHOW],\n      autoUpdateRect: true,\n      className: PROGRESS,\n    });\n\n    this.barWrapper = newElement(PROGRESS_WRAPPER);\n\n    const padBar = new Bar(PROGRESS_PAD);\n    this.bufBar = new Bar(PROGRESS_BUF);\n    this.hoverBar = new Bar(PROGRESS_HOVER);\n    this.playedBar = new Bar(PROGRESS_PLAYED);\n    this.dot = new Dot(PROGRESS_DOT);\n    this.thumbnail = new Thumbnail(player, this);\n\n    this.drag = new Drag(\n      padBar.dom,\n      this.dragStartHandler,\n      this.dragHandler,\n      this.dragEndHandler\n    );\n\n    padBar.dom.addEventListener('mousemove', this.mouseMoveHandler, true);\n\n    this.barWrapper.appendChild(this.bufBar.dom);\n    this.barWrapper.appendChild(this.hoverBar.dom);\n    this.barWrapper.appendChild(this.playedBar.dom);\n    this.barWrapper.appendChild(padBar.dom);\n    this.appendChild(this.barWrapper);\n    this.appendChild(this.dot.dom);\n    this.appendChild(this.thumbnail);\n  }\n\n  private calcCurrentTime(x: number): number {\n    return ((x - this.rect.left) / this.rect.width) * this.player.duration;\n  }\n\n  private dragStartHandler = (ev: PointerEvent): void => {\n    this.player.pause();\n    this.dragging = true;\n    this.dragHandler(ev);\n  };\n\n  private dragHandler = (ev: PointerEvent): void => {\n    const x = ev.pageX - this.rect.left;\n    this.dot.setX(clamp(x, 0, this.rect.width));\n    this.playedBar.setX(x / this.rect.width);\n    this.mouseMoveLastX = ev.pageX;\n    this.updateThumbnail(x);\n  };\n\n  private dragEndHandler = (ev: PointerEvent): void => {\n    this.dragging = false;\n    this.player.seek(this.calcCurrentTime(ev.pageX));\n    this.player.play();\n  };\n\n  private mouseMoveHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    this.mouseMoveLastX = ev.pageX;\n    if (this.mouseMovePending) return;\n    this.mouseMovePending = true;\n    requestAnimationFrame(this.updateHoverBarAndThumb);\n  };\n\n  /**\n   * @override\n   */\n  updateRect = (): void => {\n    this._rect = this.dom.getBoundingClientRect();\n    this.updatePlayedBar();\n  };\n\n  updatePlayedBar(): void {\n    if (this.player.controls.isHide) return;\n    const percentage = this.player.currentTime / this.player.duration;\n    this.dot.setX(this.rect.width * percentage);\n    this.playedBar.setX(percentage);\n  }\n\n  updateBufBar(): void {\n    if (this.player.controls.isHide) return;\n    const bufLen = this.player.buffered.length;\n\n    if (!bufLen) return this.bufBar.setX(0);\n\n    const curTime = this.player.currentTime;\n    let percentage = 0;\n\n    this.player.eachBuffer((start, end) => {\n      if (start <= curTime && end >= curTime) {\n        percentage = end / this.player.duration;\n        return true;\n      }\n    });\n\n    this.bufBar.setX(percentage);\n  }\n\n  updateHoverBarAndThumb = (): void => {\n    const left = this.mouseMoveLastX - this.rect.left;\n    this.updateHoverBar(left);\n    this.updateThumbnail(left);\n    this.mouseMovePending = false;\n  };\n\n  updateHoverBar(left: number): void {\n    this.hoverBar.setX(left / this.rect.width);\n  }\n\n  updateThumbnail(left: number): void {\n    this.thumbnail.update(left, this.calcCurrentTime(this.mouseMoveLastX));\n  }\n\n  onControlsShow(): void {\n    this.updatePlayedBar();\n    this.updateBufBar();\n  }\n\n  onTimeUpdate(): void {\n    if (this.dragging) return;\n    this.updatePlayedBar();\n  }\n\n  onProgress(): void {\n    this.updateBufBar();\n  }\n\n  destroy(): void {\n    this.drag.destroy();\n  }\n}\n","export interface Language {\n  addLang: (lang: string, data: Record<string, string>) => void;\n  fallback: () => void;\n  t: (key: string, lang: string) => string;\n  lang: { [key: string]: Record<string, string> };\n}\n\nexport const FULL_SCREEN = 'Fullscreen';\nexport const EXIT_FULL_SCREEN = 'Exit fullscreen';\nexport const SETTINGS = 'Settings';\nexport const PLAY = 'Play';\nexport const PAUSE = 'Pause';\nexport const MUTE = 'Mute';\nexport const UNMUTE = 'Unmute';\nexport const NORMAL = 'Normal';\nexport const SPEED = 'Speed';\nexport const CAPTIONS = 'Captions';\nexport const CLOSE = 'Close';\n\nconst language: Language = {\n  lang: {\n    'zh-CN': {\n      [FULL_SCREEN]: '',\n      [EXIT_FULL_SCREEN]: '',\n      [SETTINGS]: '',\n      [PLAY]: '',\n      [PAUSE]: '',\n      [MUTE]: '',\n      [UNMUTE]: '',\n      [NORMAL]: '',\n      [SPEED]: '',\n      [CAPTIONS]: '',\n      [CLOSE]: '',\n    },\n  },\n  addLang(lang: string, data: Record<string, string>): void {\n    this.lang[lang] = { ...this.lang[lang], ...data };\n    this.fallback();\n  },\n  fallback(): void {\n    Object.keys(this.lang).forEach((k) => {\n      this.lang[k.split('-')[0]] = this.lang[k];\n    });\n  },\n  t(key: string, lang: string): string {\n    const trans = this.lang[lang] || this.lang[lang.split('-')[0]];\n    return (trans && trans[key]) || key;\n  },\n} as Language;\n\nlanguage.fallback();\n\nexport default language;\n","import cc from '../icons/cc.svg';\nimport enterFullscreen from '../icons/enter-fullscreen.svg';\nimport exitFullscreen from '../icons/exit-fullscreen.svg';\nimport muted from '../icons/muted.svg';\nimport pause from '../icons/pause.svg';\nimport play from '../icons/play.svg';\nimport settings from '../icons/settings.svg';\nimport volume from '../icons/volume.svg';\nimport { svgToDom } from './utils';\n\nexport default {\n  play(cls?: string): Element {\n    return svgToDom(play, cls);\n  },\n  pause(cls?: string): Element {\n    return svgToDom(pause, cls);\n  },\n  enterFullscreen(cls?: string): Element {\n    return svgToDom(enterFullscreen, cls);\n  },\n  exitFullscreen(cls?: string): Element {\n    return svgToDom(exitFullscreen, cls);\n  },\n  volume(cls?: string): Element {\n    return svgToDom(volume, cls);\n  },\n  muted(cls?: string): Element {\n    return svgToDom(muted, cls);\n  },\n  settings(cls?: string): Element {\n    return svgToDom(settings, cls);\n  },\n  cc(cls?: string): Element {\n    return svgToDom(cc, cls);\n  },\n};\n","import Component from '../../component';\nimport {\n  TOOLTIP,\n  TOOLTIP_TEXT,\n  TOOLTIP_TEXT_LEFT,\n  TOOLTIP_TEXT_RIGHT,\n  TRAY,\n} from '../../config/classname';\nimport RPlayer from '../../rplayer';\nimport { newElement, isStr, htmlDom } from '../../utils';\n\nexport interface TrayOpts {\n  text?: string;\n  icon?: string | Element;\n  pos?: number;\n  init?: (tray: Tray, player: RPlayer) => any;\n  onClick?: (ev: MouseEvent) => any;\n}\n\nexport default abstract class Tray extends Component {\n  protected readonly tip = newElement(TOOLTIP_TEXT);\n  pos = 0;\n\n  constructor(player?: RPlayer, tipText = '', ...events: string[]) {\n    super(player, {\n      events,\n      className: TOOLTIP + ' ' + TRAY,\n    });\n\n    this.changeTipText(tipText);\n    this.dom.addEventListener('click', this.__onclick);\n    this.appendChild(this.tip);\n  }\n\n  private __onclick = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    this.onClick(ev);\n  };\n\n  abstract onClick(ev?: MouseEvent): any;\n\n  setLeft(): void {\n    this.tip.classList.add(TOOLTIP_TEXT_LEFT);\n  }\n\n  setRight(): void {\n    this.tip.classList.add(TOOLTIP_TEXT_RIGHT);\n  }\n\n  changeTipText(text: string): void {\n    this.tip.innerText = text;\n  }\n}\n\nexport class ConfigTray extends Tray {\n  private readonly clickHandler: TrayOpts['onClick'];\n\n  constructor(opts: TrayOpts, player: RPlayer) {\n    super(player, opts.text);\n    if (opts.icon) {\n      this.appendChild(isStr(opts.icon) ? htmlDom(opts.icon) : opts.icon);\n    }\n    if (opts.init) opts.init(this, player);\n    if (opts.pos) this.pos = opts.pos;\n  }\n\n  onClick(ev: MouseEvent): void {\n    if (this.clickHandler) this.clickHandler(ev);\n  }\n}\n","import { SETTINGS_MENU_ITEM } from '../../config/classname';\nimport { htmlDom, newElement } from '../../utils';\n\nexport default abstract class SettingItem {\n  entry: HTMLElement;\n  protected entryLabel: HTMLElement;\n  protected entryValue: HTMLElement;\n\n  constructor(label: string) {\n    this.entry = newElement(SETTINGS_MENU_ITEM);\n    this.entryLabel = htmlDom(label);\n    this.entryValue = newElement('', 'span');\n    this.entry.appendChild(this.entryLabel);\n    this.entry.appendChild(this.entryValue);\n    this.entry.addEventListener('click', this.entryClickHandler, true);\n  }\n\n  private entryClickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.onEntryClick(ev);\n  };\n\n  abstract onEntryClick(ev: MouseEvent): void;\n}\n","import {\n  SETTINGS_MENU_ITEM,\n  SETTINGS_MENU_SELECT,\n  SETTINGS_SELECT_OPT,\n  SETTINGS_SELECT_OPT_ACTIVE,\n} from '../../config/classname';\nimport { isFn, newElement } from '../../utils';\nimport SettingItem from './item';\nimport RPlayer from '../..';\nimport Events from '../../events';\n\nexport interface SelectOption {\n  label: string;\n  selectedLabel?: string;\n  [key: string]: any;\n}\n\nexport interface SelectChangeFn {\n  (o: SelectOption, update: () => void): any;\n}\n\nexport interface SelectOpts {\n  label: string;\n  options: SelectOption[];\n  checked?: number;\n  onChange?: SelectChangeFn;\n}\n\nexport default class Select extends SettingItem {\n  private readonly player: RPlayer;\n  private prevSelect: HTMLElement;\n  private value: number;\n  readonly dom = newElement();\n  readonly opts: SelectOpts;\n  private readonly options: HTMLElement[];\n\n  private readonly entryClickCb: (select: Select) => any;\n\n  constructor(\n    player: RPlayer,\n    opts: SelectOpts,\n    entryClickCb?: (select: Select) => any\n  ) {\n    super(opts.label);\n    this.player = player;\n    this.opts = opts;\n    this.entryClickCb = entryClickCb;\n\n    this.entry.classList.add(SETTINGS_MENU_SELECT);\n\n    this.options = opts.options.map((o, i) => {\n      const div = newElement(SETTINGS_MENU_ITEM);\n      div.classList.add(SETTINGS_SELECT_OPT);\n      div.innerHTML = o.label;\n      div.addEventListener('click', this.optionClickHandler(i), true);\n      return div;\n    });\n    this.options.forEach((o) => this.dom.appendChild(o));\n\n    this.value = opts.checked || 0;\n    this.select(this.value);\n  }\n\n  private optionClickHandler = (i: number) => (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    if (this.value === i) return;\n    if (isFn(this.opts.onChange)) {\n      this.opts.onChange(this.opts.options[i], this.select.bind(this, i));\n    } else {\n      this.select(i);\n    }\n  };\n\n  select(index: number): void {\n    const opt = this.options[index];\n    if (!opt) return;\n    if (this.prevSelect) {\n      this.prevSelect.classList.remove(SETTINGS_SELECT_OPT_ACTIVE);\n    }\n\n    const select = this.opts.options[index];\n    this.entryValue.innerHTML = select.selectedLabel || select.label;\n    opt.classList.add(SETTINGS_SELECT_OPT_ACTIVE);\n    this.value = index;\n    this.prevSelect = opt;\n\n    this.player.emit(Events.SETTING_SELECTED, opt);\n  }\n\n  onEntryClick(): void {\n    if (isFn(this.entryClickCb)) this.entryClickCb(this);\n  }\n}\n","import { SWITCH, SWITCH_ACTIVE } from '../../config/classname';\nimport { isFn } from '../../utils';\nimport SettingItem from './item';\n\nexport interface SwitchOpts {\n  label: string;\n  checked?: boolean;\n  onChange?: (v: boolean, update: () => void, ev: MouseEvent) => any;\n}\n\nexport default class Switch extends SettingItem {\n  private value: boolean;\n  private readonly opts: SwitchOpts;\n\n  constructor(opts: SwitchOpts) {\n    super(opts.label);\n    this.opts = opts;\n    this.entryValue.classList.add(SWITCH);\n    this.value = !opts.checked;\n    this.switch();\n  }\n\n  private switch = (): void => {\n    this.value = !this.value;\n    if (this.value) {\n      this.entryValue.classList.add(SWITCH_ACTIVE);\n    } else {\n      this.entryValue.classList.remove(SWITCH_ACTIVE);\n    }\n  };\n\n  onEntryClick(ev: MouseEvent): void {\n    if (isFn(this.opts.onChange)) {\n      this.opts.onChange(!this.value, this.switch, ev);\n    } else {\n      this.switch();\n    }\n  }\n}\n","import Component from '../../component';\nimport {\n  SETTINGS_MENU,\n  SETTINGS_MENU_BACK,\n  SETTINGS_MENU_ITEM,\n  SETTINGS_MENU_PAGE,\n} from '../../config/classname';\nimport Events from '../../events';\nimport RPlayer from '../../rplayer';\nimport { clampNeg, measureElementSize, newElement } from '../../utils';\nimport Select, { SelectOpts } from './select';\nimport Switch, { SwitchOpts } from './switch';\n\nexport default class SettingMenu extends Component {\n  private readonly homePage: HTMLElement;\n  private readonly optionPages: HTMLElement[];\n  private homeRect: { width: number; height: number };\n  private readonly optionRects: { width: number; height: number }[] = [];\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [Events.MOUNTED, Events.SETTING_SELECTED],\n      className: SETTINGS_MENU,\n    });\n\n    const items = player.options.settings.map((s, i) => {\n      if ((s as SelectOpts).options && (s as SelectOpts).options.length) {\n        return new Select(\n          player,\n          s as SelectOpts,\n          this.selectEntryClickHandler(i)\n        );\n      } else {\n        return new Switch(s as SwitchOpts);\n      }\n    });\n\n    this.homePage = newElement(SETTINGS_MENU_PAGE);\n    items.forEach((item) => {\n      this.homePage.appendChild(item.entry);\n    });\n    this.optionPages = items.map((item) => this.getOptionPage(item));\n    this.appendChild(this.homePage);\n    this.optionPages.forEach((page) => page && this.appendChild(page));\n  }\n\n  private selectEntryClickHandler = (i: number) => (): void => {\n    if (!this.homeRect) this.homeRect = this.dom.getBoundingClientRect();\n\n    this.homePage.hidden = true;\n    this.optionPages[i].hidden = false;\n\n    if (!this.optionRects[i]) {\n      this.optionRects[i] = measureElementSize(this.optionPages[i]);\n    }\n\n    this.setWH(this.optionRects[i].width, this.optionRects[i].height);\n  };\n\n  private backClickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.resetPage();\n  };\n\n  private setWH(w?: number, h?: number): void {\n    this.addStyle({\n      width: w ? w + 'px' : '',\n      height: h ? h + 'px' : '',\n    });\n  }\n\n  private getBack(html: string): HTMLElement {\n    const div = newElement(SETTINGS_MENU_ITEM);\n    div.classList.add(SETTINGS_MENU_BACK);\n    div.innerHTML = html;\n    div.addEventListener('click', this.backClickHandler, true);\n    return div;\n  }\n\n  private getOptionPage(select: Select | Switch): HTMLElement {\n    if (!(select instanceof Select)) return null;\n\n    const div = newElement(SETTINGS_MENU_PAGE);\n    const back = this.getBack(select.opts.label);\n    div.appendChild(back);\n    div.appendChild(select.dom);\n\n    div.hidden = true;\n    return div;\n  }\n\n  addItem(opts: SelectOpts | SwitchOpts, pos?: number): Select | Switch {\n    pos = clampNeg(pos, this.homePage.children.length);\n\n    let item: Select | Switch;\n    if (\n      Array.isArray((opts as SelectOpts).options) &&\n      (opts as SelectOpts).options.length\n    ) {\n      item = new Select(\n        this.player,\n        opts as SelectOpts,\n        this.selectEntryClickHandler(pos)\n      );\n    } else {\n      item = new Switch(opts as SwitchOpts);\n    }\n\n    const optionPage = this.getOptionPage(item);\n    this.optionPages.splice(pos, 0, optionPage);\n    this.homePage.insertBefore(item.entry, this.homePage.children[pos]);\n    this.appendChild(optionPage);\n    return item;\n  }\n\n  resetPage(): void {\n    this.optionPages.forEach((page) => {\n      if (page) page.hidden = true;\n    });\n    this.homePage.hidden = false;\n\n    if (this.homeRect) {\n      this.setWH(this.homeRect.width, this.homeRect.height);\n    }\n  }\n\n  onSettingSelected(): void {\n    if (!this.homePage || !this.homeRect) return;\n    this.homeRect = measureElementSize(this.homePage);\n  }\n\n  onMounted(): void {\n    if (!this.homeRect) this.homeRect = this.dom.getBoundingClientRect();\n    this.setWH(this.homeRect.width, this.homeRect.height);\n  }\n}\n","import { TRAY_SETTING, TRAY_SETTING_ACTIVE } from '../../config/classname';\nimport { SETTINGS } from '../../config/lang';\nimport Events from '../../events';\nimport icons from '../../icons';\nimport RPlayer from '../../rplayer';\nimport Tray from '../trays/tray';\nimport SettingMenu from './menu';\n\nexport default class Setting extends Tray {\n  readonly menu: SettingMenu;\n  private resetPageTimer: NodeJS.Timeout;\n\n  constructor(player: RPlayer) {\n    super(\n      player,\n      player.t(SETTINGS),\n      Events.CLICK_CONTROL_MASK,\n      Events.CLICK_OUTSIDE,\n      Events.PLAYER_CONTEXT_MENU\n    );\n\n    this.pos = 3;\n    this.addClass(TRAY_SETTING);\n    this.menu = new SettingMenu(player);\n    this.appendChild(icons.settings());\n    this.appendChild(this.menu);\n  }\n\n  private hide(): void {\n    this.removeClass(TRAY_SETTING_ACTIVE);\n    this.player.controls.mask.hide();\n    clearTimeout(this.resetPageTimer);\n    this.resetPageTimer = setTimeout(() => this.menu.resetPage(), 500);\n  }\n\n  onClick(): void {\n    this.addClass(TRAY_SETTING_ACTIVE);\n    this.player.controls.mask.show();\n  }\n\n  onPlayerContextMenu(): void {\n    this.hide();\n  }\n\n  onClickControlMask(): void {\n    this.hide();\n  }\n\n  onClickOutside(): void {\n    this.hide();\n  }\n}\n","import { ICON_PAUSE, ICON_PLAY } from '../../config/classname';\nimport { PAUSE, PLAY } from '../../config/lang';\nimport Events from '../../events';\nimport icons from '../../icons';\nimport RPlayer from '../../rplayer';\nimport Tray from './tray';\n\nexport default class PlayTray extends Tray {\n  constructor(player: RPlayer) {\n    super(player, player.t(PLAY), Events.PLAY, Events.PAUSE);\n\n    this.pos = 0;\n    this.setLeft();\n    this.appendChild(icons.play(ICON_PLAY));\n    this.appendChild(icons.pause(ICON_PAUSE));\n  }\n\n  onClick(): void {\n    this.player.toggle();\n  }\n\n  onPlay(): void {\n    this.changeTipText(this.player.t(PAUSE));\n  }\n\n  onPause(): void {\n    this.changeTipText(this.player.t(PLAY));\n  }\n}\n","import Component from '../../component';\nimport { TRAY_TIME } from '../../config/classname';\nimport Events from '../../events';\nimport RPlayer from '../../rplayer';\nimport { formatTime, newElement } from '../../utils';\n\nexport default class Time extends Component {\n  private readonly curTime = newElement('', 'span');\n  private readonly totalTime = newElement('', 'span');\n  pos = 2;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [\n        Events.DURATION_CHANGE,\n        Events.TIME_UPDATE,\n        Events.CONTROLS_SHOW,\n      ],\n      className: TRAY_TIME,\n    });\n\n    this.updateCurTime();\n    this.updateTotalTime();\n    this.appendChild(this.curTime);\n    this.appendChild(this.totalTime);\n  }\n\n  private updateCurTime(): void {\n    if (this.player.controls && this.player.controls.isHide) return;\n    this.curTime.innerText = formatTime(this.player.currentTime);\n  }\n\n  private updateTotalTime(): void {\n    this.totalTime.innerText = formatTime(this.player.duration);\n  }\n\n  onTimeUpdate(): void {\n    this.updateCurTime();\n  }\n\n  onDurationChange(): void {\n    this.updateTotalTime();\n  }\n\n  onControlsShow(): void {\n    this.updateCurTime();\n  }\n}\n","import Component from '../../component';\nimport {\n  ICON_MUTED,\n  ICON_VOLUME,\n  TRAY_VOLUME,\n  TRAY_VOLUME_BAR,\n  TRAY_VOLUME_BAR_WRAPPER,\n  TRAY_VOLUME_DOT,\n  TRAY_VOLUME_I_MUTED,\n  TRAY_VOLUME_PROGRESS,\n} from '../../config/classname';\nimport { MUTE, UNMUTE } from '../../config/lang';\nimport Events from '../../events';\nimport icons from '../../icons';\nimport RPlayer from '../../rplayer';\nimport { Drag, newElement } from '../../utils';\nimport Bar from '../bar';\nimport Dot from '../dot';\nimport Tray from './tray';\n\nclass Icon extends Tray {\n  constructor(player: RPlayer) {\n    super(player);\n\n    this.appendChild(icons.volume(ICON_VOLUME));\n    this.appendChild(icons.muted(ICON_MUTED));\n    this.update();\n  }\n\n  private update(): void {\n    if (this.player.muted) {\n      this.addClass(TRAY_VOLUME_I_MUTED);\n      this.changeTipText(this.player.t(UNMUTE));\n    } else {\n      this.removeClass(TRAY_VOLUME_I_MUTED);\n      this.changeTipText(this.player.t(MUTE));\n    }\n  }\n\n  onClick(): void {\n    this.player.toggleVolume();\n  }\n\n  onVolumeChange(): void {\n    if (this.player.muted && this.containsClass(TRAY_VOLUME_I_MUTED)) return;\n    this.update();\n  }\n}\n\nclass Progress extends Component {\n  private readonly bar: Bar;\n  private readonly dot: Dot;\n\n  constructor(player: RPlayer) {\n    super(player, { className: TRAY_VOLUME_PROGRESS });\n\n    this.bar = new Bar(TRAY_VOLUME_BAR);\n    this.dot = new Dot(TRAY_VOLUME_DOT);\n\n    const barWrapper = newElement(TRAY_VOLUME_BAR_WRAPPER);\n    barWrapper.appendChild(this.bar.dom);\n\n    this.appendChild(barWrapper);\n    this.appendChild(this.dot.dom);\n\n    new Drag(\n      this.dom,\n      this.dragStartHandler,\n      this.dragHandler,\n      this.dragEndHandler\n    );\n  }\n\n  private dragStartHandler = (ev: PointerEvent): void => {\n    this.player.controls.requireShow();\n    this.dragHandler(ev);\n  };\n\n  private dragHandler = (ev: PointerEvent): void => {\n    this.player.volume = (ev.pageX - this.rect.left) / this.rect.width;\n  };\n\n  private dragEndHandler = (): void => {\n    this.player.controls.releaseShow();\n  };\n\n  onVolumeChange(): void {\n    const vol = this.player.volume;\n    this.bar.setX(vol);\n    this.dot.setX(this.rect.width * vol);\n  }\n\n  onMounted(): void {\n    this.onVolumeChange();\n  }\n}\n\nexport default class VolumeTray extends Component {\n  private readonly icon: Icon;\n  private readonly progress: Progress;\n  pos = 1;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [Events.VOLUME_CHANGE, Events.MOUNTED],\n      className: TRAY_VOLUME,\n    });\n\n    this.icon = new Icon(player);\n    this.progress = new Progress(player);\n\n    this.appendChild(this.icon);\n    this.appendChild(this.progress);\n  }\n\n  onVolumeChange(): void {\n    this.icon.onVolumeChange();\n    this.progress.onVolumeChange();\n  }\n\n  onMounted(): void {\n    this.progress.onMounted();\n  }\n}\n","import Component from '../component';\nimport {\n  CTRL,\n  CTRL_BOTTOM,\n  CTRL_BOTTOM_MASK,\n  CTRL_HIDE,\n  CTRL_TRAYS,\n  PAUSED,\n} from '../config/classname';\nimport Events from '../events';\nimport RPlayer from '../rplayer';\nimport { clampNeg, newElement } from '../utils';\nimport ContextMenu, { ContextMenuItem } from './contextmenu';\nimport Mask from './mask';\nimport ProgressBar from './progress-bar';\nimport Setting from './setting';\nimport { SelectOpts } from './setting/select';\nimport { SwitchOpts } from './setting/switch';\nimport PlayTray from './trays/play';\nimport Time from './trays/time';\nimport VolumeTray from './trays/volume';\nimport SettingMenu from './setting/menu';\nimport Tray, { ConfigTray, TrayOpts } from './trays/tray';\n\nexport default class Controls extends Component {\n  private controlsTimer: NodeJS.Timeout;\n  private readonly bottom: HTMLElement;\n  private readonly tray: HTMLElement;\n  readonly mask: Mask;\n  readonly contextMenu: ContextMenu;\n  readonly setting: Setting;\n\n  private showLatch = 0;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [\n        Events.PLAY,\n        Events.PAUSE,\n        Events.PLAYER_MOUSE_MOVE,\n        Events.PLAYER_MOUSE_LEAVE,\n        Events.PLAYER_CLICK,\n      ],\n      className: CTRL,\n    });\n\n    if (player.paused) player.addClass(PAUSED);\n\n    this.setting = new Setting(player);\n    this.bottom = newElement(CTRL_BOTTOM);\n    this.tray = newElement(CTRL_TRAYS);\n\n    const trays = [\n      new PlayTray(player),\n      new VolumeTray(player),\n      new Time(player),\n      this.setting,\n      ...player.options.trays.map((t) => new ConfigTray(t, player)),\n    ];\n\n    trays\n      .sort((a, b) => a.pos - b.pos)\n      .forEach((t) => this.tray.appendChild(t.dom));\n\n    this.bottom.appendChild(new ProgressBar(player).dom);\n    this.bottom.appendChild(this.tray);\n\n    const bottomMask = newElement(CTRL_BOTTOM_MASK);\n    this.mask = new Mask(player);\n    this.contextMenu = new ContextMenu(player);\n\n    this.appendChild(bottomMask);\n    this.appendChild(this.bottom);\n    this.appendChild(this.contextMenu);\n    this.appendChild(this.mask.dom);\n  }\n\n  get isHide(): boolean {\n    return this.containsClass(CTRL_HIDE);\n  }\n\n  private tryHideControls = (ev?: MouseEvent): void => {\n    if (ev) ev.preventDefault();\n    const media = this.player.media;\n\n    if (media.played.length && !media.paused && !this.showLatch) {\n      this.hide();\n    }\n  };\n\n  requireShow(): void {\n    this.showLatch++;\n  }\n\n  releaseShow(): void {\n    this.showLatch--;\n    if (this.showLatch < 0) this.showLatch = 0;\n  }\n\n  showTemporary(): void {\n    this.show();\n    clearTimeout(this.controlsTimer);\n    this.controlsTimer = setTimeout(this.tryHideControls, 3000);\n  }\n\n  show(): void {\n    if (!this.isHide) return;\n    this.removeClass(CTRL_HIDE);\n    this.player.emit(Events.CONTROLS_SHOW);\n  }\n\n  hide(): void {\n    if (this.isHide) return;\n    this.addClass(CTRL_HIDE);\n    this.player.emit(Events.CONTROLS_HIDE);\n  }\n\n  addTray(tray: TrayOpts | Element, pos?: number): Tray | Element {\n    const item =\n      tray instanceof Element ? tray : new ConfigTray(tray, this.player);\n\n    this.tray.insertBefore(\n      (item as any).dom ? (item as any).dom : item,\n      this.tray.children[clampNeg(pos, this.tray.children.length)]\n    );\n\n    return item;\n  }\n\n  addSettingItem(\n    opts: SelectOpts | SwitchOpts,\n    pos?: number\n  ): ReturnType<SettingMenu['addItem']> {\n    return this.setting.menu.addItem(opts, pos);\n  }\n\n  addContextMenuItem(\n    opts: ContextMenuItem,\n    pos?: number\n  ): ReturnType<ContextMenu['addItem']> {\n    return this.contextMenu.addItem(opts, pos);\n  }\n\n  onPlay(): void {\n    this.showTemporary();\n    this.player.removeClass(PAUSED);\n  }\n\n  onPause(): void {\n    this.show();\n    this.player.addClass(PAUSED);\n  }\n\n  onPlayerClick(ev: Event): void {\n    ev.preventDefault();\n    if (!this.bottom.contains(ev.target as any)) {\n      this.player.toggle();\n    }\n    this.showTemporary();\n  }\n\n  onPlayerMouseMove(): void {\n    this.showTemporary();\n  }\n\n  onPlayerMouseLeave(): void {\n    this.tryHideControls();\n  }\n}\n","import { BP } from './config';\nimport Events from './events';\nimport RPlayer from './rplayer';\nimport { isFn } from './utils';\n\nfunction trans(\n  player: RPlayer,\n  dom: HTMLElement | Window,\n  from: keyof HTMLVideoElementEventMap,\n  to: string\n): void {\n  dom.addEventListener(from, (ev: MouseEvent) => player.emit(to, ev));\n}\n\nfunction transThrottle(\n  player: RPlayer,\n  dom: HTMLElement | Window,\n  from: keyof HTMLVideoElementEventMap,\n  to: string\n): void {\n  let pending = false;\n  dom.addEventListener(from, (ev: MouseEvent) => {\n    if (pending) return;\n    pending = true;\n    requestAnimationFrame(() => {\n      player.emit(to, ev);\n      pending = false;\n    });\n  });\n}\n\nexport default function handler(\n  player: RPlayer,\n  video: HTMLVideoElement\n): void {\n  // media\n  trans(player, video, 'durationchange', Events.DURATION_CHANGE);\n  trans(player, video, 'play', Events.PLAY);\n  trans(player, video, 'pause', Events.PAUSE);\n  trans(player, video, 'ended', Events.ENDED);\n  trans(player, video, 'waiting', Events.WAITING);\n  trans(player, video, 'stalled', Events.STALLED);\n  trans(player, video, 'canplay', Events.CANPLAY);\n  trans(player, video, 'loadedmetadata', Events.LOADED_METADATA);\n  trans(player, video, 'error', Events.ERROR);\n\n  transThrottle(player, video, 'timeupdate', Events.TIME_UPDATE);\n  transThrottle(player, video, 'volumechange', Events.VOLUME_CHANGE);\n  transThrottle(player, video, 'progress', Events.PROGRESS);\n\n  player.on(Events.LOADED_METADATA, () => {\n    if (player.media.paused) {\n      player.emit(Events.PAUSE);\n    } else {\n      player.emit(Events.PLAY);\n    }\n    requestAnimationFrame(player.updateRect);\n  });\n\n  // player\n  trans(player, player.dom, 'click', Events.PLAYER_CLICK);\n  trans(player, player.dom, 'contextmenu', Events.PLAYER_CONTEXT_MENU);\n  trans(player, player.dom, 'dblclick', Events.PLAYER_DBLCLICK);\n\n  transThrottle(player, player.dom, 'mousemove', Events.PLAYER_MOUSE_MOVE);\n  transThrottle(player, player.dom, 'mouseleave', Events.PLAYER_MOUSE_LEAVE);\n\n  // global\n  transThrottle(player, window, 'resize', Events.PLAYER_RESIZE);\n\n  document.addEventListener('click', (ev: MouseEvent) => {\n    if (\n      ev.target === player.dom ||\n      (ev.target &&\n        isFn((ev.target as any).contains) &&\n        (ev.target as any).contains(player.dom))\n    ) {\n      player.emit(Events.CLICK_OUTSIDE);\n    }\n  });\n\n  const mqHandler = ({\n    media,\n    matches,\n  }: MediaQueryListEvent | MediaQueryList): void => {\n    if (!matches) return;\n    player.curBreakPoint = media;\n    player.emit(Events.BREAK_POINT_CHANGE, media);\n  };\n  Object.keys(BP).forEach((k) => {\n    const mq = window.matchMedia(BP[k]);\n    mqHandler(mq);\n    mq.addListener(mqHandler);\n  });\n}\n","import { PLAYER_LOADING } from './config/classname';\nimport EventHandler from './event-handler';\nimport Events from './events';\nimport RPlayer from './rplayer';\nimport { htmlDom } from './utils';\n\nexport default class Loading extends EventHandler {\n  private readonly loadingClass = 'rplayer-loading';\n  private showTimer: NodeJS.Timeout;\n  private startWaitingTime = 0;\n\n  constructor(player: RPlayer) {\n    super(player, [Events.CANPLAY, Events.WAITING, Events.STALLED]);\n\n    const dom = htmlDom(\n      '<div></div><div></div><div></div><div></div>',\n      'div',\n      PLAYER_LOADING\n    );\n    player.appendChild(dom);\n    this.onWaiting();\n  }\n\n  private _checkCanplay = (): void => {\n    if (this.startWaitingTime !== this.player.currentTime) {\n      this.hide();\n      clearTimeout(this.showTimer);\n      this.player.off(Events.TIME_UPDATE, this._checkCanplay);\n    }\n  };\n\n  private checkCanplay(): void {\n    this.startWaitingTime = this.player.currentTime;\n    this.player.off(Events.TIME_UPDATE, this._checkCanplay);\n    this.player.on(Events.TIME_UPDATE, this._checkCanplay);\n  }\n\n  private tryShow(): void {\n    this.checkCanplay();\n    this.showTimer = setTimeout(this.show, 100);\n  }\n\n  onCanplay(): void {\n    this.hide();\n  }\n\n  onWaiting(): void {\n    if (!this.player.currentTime) return;\n    this.tryShow();\n  }\n\n  onStalled(): void {\n    const curTime = this.player.currentTime;\n    if (!curTime) return;\n\n    let show = true;\n    this.player.eachBuffer((start, end) => {\n      if (start <= curTime && end > curTime) {\n        show = false;\n        return true;\n      }\n    });\n\n    if (show) this.tryShow();\n  }\n\n  show = (): void => {\n    this.player.addClass(this.loadingClass);\n    this.player.emit(Events.LOADING_SHOW);\n  };\n\n  hide(): void {\n    this.player.removeClass(this.loadingClass);\n    this.player.emit(Events.LOADING_HIDE);\n  }\n}\n","import { RPlayerOptions } from './options';\nimport { extend, isObj, safeJsonParse, safeJsonStringify } from './utils';\n\nexport interface StorageOpts {\n  enable?: boolean;\n  key?: string;\n}\n\nexport default class Storage {\n  private key: string;\n  private enable: boolean;\n\n  constructor(opts: RPlayerOptions) {\n    this.enable = Storage.supported && opts.storage.enable;\n    this.key = opts.storage.key;\n  }\n\n  static get supported(): boolean {\n    try {\n      const test = 'rplayer___';\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  get<T = string>(key?: string, orRet?: T): T {\n    if (!this.enable) return orRet;\n    const data = localStorage.getItem(this.key);\n    if (data == null) return orRet;\n    const obj = safeJsonParse(data, null);\n    if (!key) return obj || orRet;\n    return isObj(obj) && obj[key] != null ? obj[key] : orRet;\n  }\n\n  set(obj: Record<string, any>): void {\n    if (!this.enable) return;\n    if (!obj) return localStorage.removeItem(this.key);\n    if (!isObj(obj)) return;\n    localStorage.setItem(\n      this.key,\n      safeJsonStringify(extend(this.get(null, {}), obj))\n    );\n  }\n}\n","import {\n  CAPTION,\n  CAPTION_ACTIVE,\n  CAPTION_TRAY,\n  CAPTION_TRAY_ACTIVE,\n} from '../config/classname';\nimport { CAPTIONS, CLOSE } from '../config/lang';\nimport Select, { SelectChangeFn } from '../controls/setting/select';\nimport Tray from '../controls/trays/tray';\nimport icons from '../icons';\nimport RPlayer from '../rplayer';\nimport { ajax, newElement, ua } from '../utils';\n\nclass CaptionTray extends Tray {\n  private readonly captions: Subtitle;\n\n  constructor(player: RPlayer, captions: Subtitle) {\n    super(player, player.t(CAPTIONS));\n    this.captions = captions;\n\n    this.addClass(CAPTION_TRAY);\n    this.appendChild(icons.cc());\n  }\n\n  onClick(): void {\n    this.captions.toggle();\n  }\n\n  active(): void {\n    this.addClass(CAPTION_TRAY_ACTIVE);\n  }\n\n  deactivate(): void {\n    this.removeClass(CAPTION_TRAY_ACTIVE);\n  }\n}\n\ninterface CaptionItem {\n  label?: string;\n  index: number;\n  track?: TextTrack;\n  show?: boolean;\n}\n\nexport interface SubtitleOpts {\n  style?: Partial<CSSStyleDeclaration>;\n  checked?: number;\n  captions: HTMLTrackElement[];\n}\n\nexport default class Subtitle {\n  private readonly player: RPlayer;\n  private tray: CaptionTray;\n  private items: CaptionItem[];\n  private prev: CaptionItem = {} as CaptionItem;\n  private select: Select;\n  private readonly dom: HTMLElement;\n\n  constructor(player: RPlayer) {\n    this.player = player;\n    const { captions, checked, style } = player.options.subtitle;\n    if (captions && captions.length) {\n      this.dom = newElement(CAPTION);\n      player.appendChild(this.dom);\n\n      this.update(captions, checked);\n      if (style) this.updateUI(style);\n    }\n  }\n\n  private optionChangeHandler: SelectChangeFn = (item, update): void => {\n    if (this.prev.track) {\n      this.prev.show = false;\n      this.removeCueEvent();\n    }\n\n    if (item.track) {\n      this.addCueEvent(item.track);\n      this.tray.active();\n      this.prev = item as CaptionItem;\n      this.show();\n    } else {\n      this.hide();\n      this.tray.deactivate();\n    }\n\n    update();\n  };\n\n  private cueChangeHandler = (ev: Event): void => {\n    const cues: VTTCue[] = [...((ev.target as any).activeCues || [])];\n    if (cues) {\n      cues.forEach((cue) => {\n        this.renderText(cue.getCueAsHTML().firstChild.textContent);\n      });\n    }\n  };\n\n  private addCueEvent(track = this.prev.track): void {\n    this.cueChangeHandler({ target: track } as any);\n    track.addEventListener('cuechange', this.cueChangeHandler);\n  }\n\n  private removeCueEvent(): void {\n    this.prev.track.removeEventListener('cuechange', this.cueChangeHandler);\n    this.renderText('');\n  }\n\n  private run(): void {\n    const tracks = this.player.media.textTracks;\n    if (!tracks || !tracks.length) return;\n\n    this.items.push({\n      label: this.player.t(CLOSE),\n      index: 0,\n    });\n    for (let i = 0, l = tracks.length; i < l; i++) {\n      const track = tracks[i];\n      track.mode = 'hidden';\n      this.items.push({ track, index: i + 1, label: track.label, show: false });\n    }\n\n    if (!this.select) {\n      this.select = this.player.controls.addSettingItem({\n        label: this.player.t(CAPTIONS),\n        options: this.items as any,\n        onChange: this.optionChangeHandler,\n      }) as Select;\n    }\n\n    if (!this.tray) {\n      this.tray = new CaptionTray(this.player, this);\n      this.player.controls.addTray(this.tray.dom, -3);\n    }\n\n    if (this.prev.index) {\n      this.toggle();\n    }\n  }\n\n  renderText(text: string): void {\n    this.dom.innerHTML = text;\n  }\n\n  show(): void {\n    this.dom.classList.add(CAPTION_ACTIVE);\n    this.prev.show = true;\n  }\n\n  hide(): void {\n    this.dom.classList.remove(CAPTION_ACTIVE);\n    this.prev.show = false;\n  }\n\n  update(tracks: Partial<HTMLTrackElement>[], checked = -1): void {\n    if (!tracks || !tracks.length) return;\n    this.items = [];\n    const trackEls: HTMLTrackElement[] = [];\n\n    const df = document.createDocumentFragment();\n    tracks.forEach((item: HTMLTrackElement) => {\n      const track = document.createElement('track');\n      track.setAttribute('kind', 'captions');\n      Object.keys(item).forEach((key) => {\n        track.setAttribute(key, (item as any)[key]);\n      });\n      df.appendChild(track);\n      trackEls.push(track);\n    });\n\n    if (ua.isIE || ua.isEdge) {\n      let latch = 0;\n      trackEls.forEach((track) => {\n        const src = track.getAttribute('src');\n        ajax(src, (_, data) => {\n          if (data) {\n            track.setAttribute(\n              'src',\n              URL.createObjectURL(new Blob([data], { type: 'text/vtt' }))\n            );\n          }\n          latch++;\n          if (latch == trackEls.length) this.run();\n        });\n      });\n    }\n\n    this.player.media.appendChild(df);\n    this.prev = { index: checked + 1 };\n    if (!ua.isIE && !ua.isEdge) this.run();\n  }\n\n  updateUI(style: SubtitleOpts['style']): void {\n    Object.keys(style).forEach((k) => {\n      this.dom.style[k as any] = style[k as any];\n    });\n  }\n\n  toggle(): void {\n    if (this.prev.track && this.prev.show) {\n      this.select.select(0);\n      this.tray.deactivate();\n      this.hide();\n      this.removeCueEvent();\n    } else {\n      this.prev = this.items[this.prev.index];\n\n      if (!this.prev.track) {\n        this.prev = this.items[1];\n      }\n\n      this.addCueEvent();\n      this.select.select(this.prev.index);\n      this.tray.active();\n      this.show();\n    }\n  }\n}\n","import { FULL, ICON_ENTER_FS, ICON_EXIT_FS } from '../config/classname';\nimport { EXIT_FULL_SCREEN, FULL_SCREEN } from '../config/lang';\nimport Tray from '../controls/trays/tray';\nimport Events from '../events';\nimport icons from '../icons';\nimport RPlayer from '../rplayer';\nimport { isFn, ua } from '../utils';\n\nclass FullscreenTray extends Tray {\n  constructor(player: RPlayer) {\n    super(\n      player,\n      player.t(FULL_SCREEN),\n      Events.ENTER_FULLSCREEN,\n      Events.EXIT_FULLSCREEN\n    );\n\n    this.setRight();\n    this.appendChild(icons.enterFullscreen(ICON_ENTER_FS));\n    this.appendChild(icons.exitFullscreen(ICON_EXIT_FS));\n  }\n\n  onClick(): void {\n    this.player.fullscreen.toggle();\n  }\n\n  onEnterFullscreen(): void {\n    this.changeTipText(this.player.t(EXIT_FULL_SCREEN));\n  }\n\n  onExitFullscreen(): void {\n    this.changeTipText(this.player.t(FULL_SCREEN));\n  }\n}\n\nexport default class Fullscreen {\n  private readonly player: RPlayer;\n  readonly prefix = this.getPrefix();\n  private target: HTMLElement;\n\n  constructor(player: RPlayer) {\n    this.player = player;\n    this.setTarget();\n\n    (document as any).addEventListener(\n      this.prefix === 'ms'\n        ? 'MSFullscreenChange'\n        : `${this.prefix}fullscreenchange`,\n      this.changeHandler\n    );\n\n    if (this.isActive) player.addClass(FULL);\n    player.on(Events.PLAYER_DBLCLICK, this.playerDblClickHandler);\n    player.controls.addTray(new FullscreenTray(player).dom, -1);\n  }\n\n  private playerDblClickHandler = (ev: Event): void => {\n    ev.preventDefault();\n    if (this.player.controls.dom.contains(ev.target as any)) return;\n    this.toggle();\n  };\n\n  private changeHandler = (): void => {\n    let evt = '';\n    if (this.isActive) {\n      this.player.addClass(FULL);\n      evt = Events.ENTER_FULLSCREEN;\n    } else {\n      this.player.removeClass(FULL);\n      evt = Events.EXIT_FULLSCREEN;\n    }\n    this.player.emit(evt);\n  };\n\n  private getPrefix(): string {\n    if (isFn(document.exitFullscreen)) return '';\n\n    let prefix = '';\n    ['webkit', 'moz', 'ms'].forEach((p) => {\n      if (\n        isFn((document as any)[`${p}ExitFullscreen`]) ||\n        isFn((document as any)[`${p}CancelFullScreen`])\n      ) {\n        prefix = p;\n      }\n    });\n\n    return prefix;\n  }\n\n  get requestFullscreen(): Function {\n    return (\n      HTMLElement.prototype.requestFullscreen ||\n      (HTMLElement.prototype as any).webkitRequestFullscreen ||\n      (HTMLElement.prototype as any).mozRequestFullScreen ||\n      (HTMLElement.prototype as any).msRequestFullscreen\n    );\n  }\n\n  get exitFullscreen(): Function {\n    return (\n      HTMLDocument.prototype.exitFullscreen ||\n      (HTMLDocument.prototype as any).webkitExitFullscreen ||\n      (HTMLDocument.prototype as any).cancelFullScreen ||\n      (HTMLDocument.prototype as any).mozCancelFullScreen ||\n      (HTMLDocument.prototype as any).msExitFullscreen\n    );\n  }\n\n  get fullscreenElement(): HTMLElement {\n    return (\n      document.fullscreenElement ||\n      (document as any).mozFullScreenElement ||\n      (document as any).msFullscreenElement ||\n      (document as any).webkitFullscreenElement\n    );\n  }\n\n  get isActive(): boolean {\n    return this.fullscreenElement === this.target;\n  }\n\n  setTarget(dom?: HTMLElement, video?: HTMLVideoElement): void {\n    this.target =\n      (dom && ua.isIos ? video : dom) ||\n      (ua.isIos ? this.player.media : this.player.dom);\n    if (this.isActive) this.enter();\n  }\n\n  enter(): void {\n    if (ua.isIos) {\n      (this.target as any).webkitEnterFullscreen();\n    } else {\n      this.requestFullscreen.call(this.target, { navigationUI: 'hide' });\n    }\n  }\n\n  exit(): void {\n    if (ua.isIos) {\n      (this.target as any).webkitExitFullscreen();\n    } else {\n      this.exitFullscreen.call(document);\n    }\n  }\n\n  toggle(): void {\n    if (this.isActive) {\n      this.exit();\n    } else {\n      this.enter();\n    }\n  }\n}\n","import RPlayer from './rplayer';\nimport { isNum, makeDictionary } from './utils';\n\nexport type ShortcutHandler = (player: RPlayer) => any;\n\nexport interface ShortcutOpts {\n  enable?: boolean;\n  time?: number;\n  volume?: number;\n  global?: boolean;\n}\n\nexport default class Shortcut {\n  private readonly player: RPlayer;\n  private readonly handler: { [key: number]: ShortcutHandler };\n  readonly editable = ['input', 'textarea', 'select'];\n\n  constructor(player: RPlayer) {\n    this.player = player;\n    const opts = player.options.shortcut;\n\n    this.handler = makeDictionary({\n      38: (p): void => p.incVolume(opts.volume), // \n      40: (p): void => p.decVolume(opts.volume), // \n      39: (p): void => p.forward(opts.time), // \n      37: (p): void => p.rewind(opts.time), // \n      32: (p): void => p.toggle(), // space\n    });\n\n    if (opts.enable) {\n      this.enable(opts.global);\n    }\n  }\n\n  private keydownHandler = (ev: KeyboardEvent): void => {\n    if (ev.altKey || ev.ctrlKey || ev.metaKey || ev.shiftKey) return;\n    const focused = document.activeElement;\n\n    if (focused) {\n      const tag = focused.tagName.toLowerCase();\n      const editable = focused.getAttribute('contenteditable');\n      if (this.editable.indexOf(tag) > -1 || editable || editable === '') {\n        return;\n      }\n    }\n\n    const code = ev.keyCode ? ev.keyCode : ev.which;\n\n    if (!isNum(code)) return;\n\n    let handled = false;\n    if (this.handler[code]) {\n      this.handler[code](this.player);\n      handled = true;\n      this.player.controls.showTemporary();\n    }\n\n    if (handled) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n  };\n\n  register(code: number, fn: ShortcutHandler): void {\n    this.handler[code] = fn;\n  }\n\n  unregister(code: number): void {\n    delete this.handler[code];\n  }\n\n  enable(global = false): void {\n    const dom = global ? document : this.player.dom;\n    dom.addEventListener('keydown', this.keydownHandler);\n  }\n\n  disable(global = false): void {\n    const dom = global ? document : this.player.dom;\n    dom.removeEventListener('keydown', this.keydownHandler);\n  }\n}\n","import EventEmitter from 'eventemitter3';\nimport Component from './component';\nimport { BP } from './config';\nimport { PLAYER } from './config/classname';\nimport Controls from './controls';\nimport Events from './events';\nimport setupEvents from './handle-events';\nimport Loading from './loading';\nimport processOptions, { RPlayerOptions, Plugin } from './options';\nimport Subtitle from './plugins/subtitle';\nimport Fullscreen from './plugins/fullscreen';\nimport Shortcut from './shortcut';\nimport Storage from './storage';\nimport { clamp, getDomOr, isCatchable, isStr, newElement, noop } from './utils';\nimport * as utils from './utils';\nimport icons from './icons';\nimport language from './config/lang';\n\nexport default class RPlayer extends Component {\n  static readonly Events = Events;\n  static readonly utils = utils;\n  static readonly icons = icons;\n  static readonly EventEmitter = EventEmitter;\n\n  el: HTMLElement;\n  curBreakPoint: string;\n  readonly media: HTMLVideoElement;\n  readonly options: RPlayerOptions;\n\n  readonly fullscreen: Fullscreen;\n  readonly controls: Controls;\n  readonly shortcut: Shortcut;\n  readonly loading: Loading;\n  readonly subtitle: Subtitle;\n  storage: Storage;\n\n  private prevVolume = 1;\n  private ready = false;\n\n  constructor(opts: RPlayerOptions) {\n    super();\n\n    this.options = processOptions(this, opts);\n\n    this.addClass(PLAYER);\n    this.canFocus();\n\n    this.media = getDomOr(this.options.media, () => newElement('', 'video'));\n    this.el = getDomOr(this.options.el, document.body);\n\n    this.restore();\n    if (this.options.video) this.setMediaAttrs(this.options.video);\n    setupEvents(this, this.media);\n    this.prevVolume = this.media.volume;\n    this.volume = this.prevVolume;\n    this.autoUpdateRect(this);\n\n    this.controls = new Controls(this);\n    this.shortcut = new Shortcut(this);\n    this.loading = new Loading(this);\n    this.fullscreen = new Fullscreen(this);\n    this.subtitle = new Subtitle(this);\n\n    this.options.plugins.forEach((p) => p.install(this));\n  }\n\n  get currentTime(): number {\n    return this.media.currentTime;\n  }\n\n  set currentTime(v: number) {\n    if (!this.duration) return;\n    this.media.currentTime = clamp(v, 0, this.duration);\n    this.emit(Events.TIME_UPDATE);\n  }\n\n  get volume(): number {\n    return this.media.volume;\n  }\n\n  set volume(v: number) {\n    this.media.volume = clamp(v);\n    this.storage.set({ volume: this.media.volume });\n    if (this.muted && v > 0) this.muted = false;\n  }\n\n  get muted(): boolean {\n    return this.media.muted || this.volume === 0;\n  }\n\n  set muted(v: boolean) {\n    this.media.muted = v;\n  }\n\n  get playbackRate(): number {\n    return this.media.playbackRate;\n  }\n\n  set playbackRate(v: number) {\n    this.media.playbackRate = v;\n  }\n\n  get duration(): number {\n    return this.media.duration || 0;\n  }\n\n  get buffered(): TimeRanges {\n    return this.media.buffered;\n  }\n\n  get paused(): boolean {\n    return this.media.paused;\n  }\n\n  get ended(): boolean {\n    return this.media.ended;\n  }\n\n  get playing(): boolean {\n    return this.ready && !this.paused && !this.ended;\n  }\n\n  get isPhone(): boolean {\n    return this.curBreakPoint === BP.BREAKPOINT_PHONE;\n  }\n\n  private restore(): void {\n    this.media.volume = this.storage.get('volume', 1);\n  }\n\n  setMediaAttrs(map: RPlayerOptions['video']): void {\n    Object.keys(map).forEach((k) => {\n      const v = (map as any)[k];\n      if (k === 'src') {\n        if (isStr(v)) {\n          this.media.src = v;\n        } else if (Array.isArray(v)) {\n          v.forEach((s) => this.media.canPlayType(s) && (this.media.src = s));\n        }\n      } else {\n        (this.media as any)[k] = v;\n      }\n    });\n  }\n\n  mount(el?: HTMLElement): void {\n    if (el) this.el = el;\n    this.appendChild(this.media);\n    this.appendChild(this.controls);\n    this.emit(Events.BEFORE_MOUNT);\n    this.el.appendChild(this.dom);\n    requestAnimationFrame(() => {\n      this.emit(Events.MOUNTED);\n      this.ready = true;\n    });\n  }\n\n  seek(seconds: number): void {\n    this.media.currentTime = clamp(seconds, 0, this.duration);\n  }\n\n  play(): void {\n    const p = this.media.play();\n    if (isCatchable(p)) p.catch(noop);\n  }\n\n  pause(): void {\n    this.media.pause();\n  }\n\n  toggle(): void {\n    if (this.paused) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  incVolume(v = 0.1): void {\n    this.volume += v;\n  }\n\n  decVolume(v = 0.1): void {\n    this.volume -= v;\n  }\n\n  forward(v = 10): void {\n    this.currentTime += v;\n  }\n\n  rewind(v = 10): void {\n    this.currentTime -= v;\n  }\n\n  toggleVolume(): void {\n    if (this.muted) {\n      this.volume = this.prevVolume || 1;\n      this.muted = false;\n    } else {\n      this.prevVolume = this.volume;\n      this.volume = 0;\n    }\n  }\n\n  t(key: string): string {\n    return language.t(key, this.options.lang);\n  }\n\n  eachBuffer(fn: (start: number, end: number) => boolean | void): void {\n    for (let l = this.buffered.length, i = l - 1; i >= 0; i--) {\n      if (fn(this.buffered.start(i), this.buffered.end(i))) {\n        break;\n      }\n    }\n  }\n\n  use(plugin: Plugin): void {\n    plugin.install(this);\n  }\n\n  addLang(lang: string, data: Record<string, string>): void {\n    language.addLang(lang, data);\n  }\n}\n","import { NORMAL, SPEED } from './config/lang';\nimport { SelectOption, SelectOpts } from './controls/setting/select';\nimport { SwitchOpts } from './controls/setting/switch';\nimport language from './config/lang';\nimport { SubtitleOpts } from './plugins/subtitle';\nimport RPlayer from './rplayer';\nimport Storage, { StorageOpts } from './storage';\nimport { findIndex, isNum, isObj } from './utils';\nimport { ContextMenuOpts } from './controls/contextmenu';\nimport { ShortcutOpts } from './shortcut';\nimport { ThumbnailOpts } from './controls/thumbnail';\nimport { TrayOpts } from './controls/trays/tray';\n\nexport interface OptionPreset {\n  playbackRate?:\n    | boolean\n    | {\n        position?: number;\n        checked?: number;\n        steps?: { label?: string; value?: number }[];\n      };\n  version?: boolean;\n}\n\nexport interface Plugin {\n  install: (p: RPlayer) => any;\n  [key: string]: any;\n}\n\nexport interface RPlayerOptions {\n  media?: string | HTMLVideoElement;\n  el?: string | HTMLElement;\n  video?: HTMLVideoElement & { src?: string | string[] };\n  settings?: (SelectOpts | SwitchOpts)[];\n  preset?: OptionPreset;\n  shortcut?: ShortcutOpts;\n  lang?: string;\n  thumbnail?: ThumbnailOpts;\n  contextMenu?: ContextMenuOpts;\n  storage?: StorageOpts;\n  subtitle?: SubtitleOpts;\n  trays?: TrayOpts[];\n  plugins?: Plugin[];\n}\n\nfunction processPlaybackRate(\n  opts: RPlayerOptions,\n  player: RPlayer\n): RPlayerOptions {\n  if (opts.preset.playbackRate === false) return opts;\n\n  const DEFAULT_PLAY_RATE = {\n    steps: [\n      { label: '0.5x', value: 0.5, i: 0 },\n      { label: '0.75x', value: 0.75, i: 1 },\n      { label: language.t(NORMAL, opts.lang), value: 1, i: 2 },\n      { label: '1.25x', value: 1.25, i: 3 },\n      { label: '1.5x', value: 1.5, i: 4 },\n      { label: '1.75x', value: 1.75, i: 5 },\n      { label: '2x', value: 2, i: 6 },\n    ],\n  };\n\n  const playbackRate: any =\n    isObj(opts.preset.playbackRate) && opts.preset.playbackRate.steps\n      ? opts.preset.playbackRate\n      : DEFAULT_PLAY_RATE;\n\n  const setting: SelectOpts = {\n    label: language.t(SPEED, opts.lang),\n    checked: player.storage.get('playbackRate', 2),\n    options: playbackRate.steps,\n    onChange(opt: SelectOption, next: Function) {\n      player.playbackRate = opt.value;\n      player.storage.set({ playbackRate: opt.i });\n      next();\n    },\n  };\n\n  let pos = isNum(playbackRate.position)\n    ? playbackRate.position\n    : findIndex(opts.settings, (x) => (x as SelectOpts).options);\n  if (pos < 0) pos = 0;\n\n  opts.settings.splice(pos, 0, setting);\n\n  return opts;\n}\n\nfunction processShortcut(opts: RPlayerOptions): RPlayerOptions {\n  const DEFAULT_SHORTCUT = {\n    enable: true,\n    time: 10,\n    volume: 0.1,\n    global: false,\n  };\n  opts.shortcut = { ...opts.shortcut, ...DEFAULT_SHORTCUT };\n  return opts;\n}\n\nfunction processLang(opts: RPlayerOptions): RPlayerOptions {\n  opts.lang =\n    opts.lang || navigator.language || (navigator as any).userLanguage;\n  return opts;\n}\n\nfunction processThumbnail(opts: RPlayerOptions): RPlayerOptions {\n  opts.thumbnail = {\n    ...{\n      startTime: 0,\n      gapSec: 10,\n      col: 5,\n      row: 5,\n      width: 160,\n      height: 90,\n      images: [],\n    },\n    ...opts.thumbnail,\n  };\n\n  return opts;\n}\n\nfunction processContextMenu(opts: RPlayerOptions): RPlayerOptions {\n  opts.contextMenu = opts.contextMenu || {};\n  opts.contextMenu.items = opts.contextMenu.items || [];\n\n  if (opts.preset.version !== false) {\n    opts.contextMenu.items.push({\n      label: 'RPlayer: v' + __VERSION,\n    });\n  }\n\n  opts.contextMenu = {\n    ...{\n      enable: true,\n      toggle: true,\n    },\n    ...opts.contextMenu,\n  };\n\n  return opts;\n}\n\nfunction processStorage(opts: RPlayerOptions): RPlayerOptions {\n  opts.storage = {\n    ...{\n      enable: true,\n      key: 'rplayer',\n    },\n    ...opts.storage,\n  };\n\n  return opts;\n}\n\nfunction processCations(opts: RPlayerOptions): RPlayerOptions {\n  opts.subtitle = { ...{ checked: -1 }, ...opts.subtitle };\n  return opts;\n}\n\nfunction processTrays(opts: RPlayerOptions): RPlayerOptions {\n  opts.trays = opts.trays || [];\n  return opts;\n}\n\nexport default function processOptions(\n  player: RPlayer,\n  opts?: RPlayerOptions\n): RPlayerOptions {\n  opts = opts ? { ...opts } : {};\n\n  opts.settings = opts.settings || [];\n  opts.preset = opts.preset || {};\n  opts.plugins = opts.plugins || [];\n\n  opts = processStorage(opts);\n  player.storage = new Storage(opts);\n\n  opts = processLang(opts);\n  opts = processPlaybackRate(opts, player);\n  opts = processShortcut(opts);\n  opts = processThumbnail(opts);\n  opts = processContextMenu(opts);\n  opts = processCations(opts);\n  opts = processTrays(opts);\n\n  return opts;\n}\n","import '../scss/index.scss';\nimport RPlayer from './rplayer';\nexport { default as Events } from './events';\n\nexport default RPlayer;\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js!./index.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".rplayer_ad{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer_ad_badge{position:absolute;left:10px;top:10px;padding:2px 5px;font-size:12px;border-radius:3px;background:rgba(0,0,0,.5)}.rplayer_ad_liner{position:absolute;left:0;right:0;top:0;bottom:0;background:#000;z-index:10;font-size:0;cursor:pointer}.rplayer_ad_liner-fs .rplayer_ad_liner_i_fs,.rplayer_ad_liner-muted .rplayer_ad_liner_i_volume,.rplayer_ad_liner-playing .rplayer_ad_liner_i_play,.rplayer_ad_liner_i_efs,.rplayer_ad_liner_i_muted,.rplayer_ad_liner_i_pause{display:none}.rplayer_ad_liner-fs .rplayer_ad_liner_i_efs,.rplayer_ad_liner-muted .rplayer_ad_liner_i_muted,.rplayer_ad_liner-playing .rplayer_ad_liner_i_pause{display:block}.rplayer_ad_liner_cd{position:absolute;right:10px;top:10px;font-size:13px;padding:3px 8px;border-radius:3px;color:#fff;background:rgba(0,0,0,.5)}.rplayer_ad_liner_videos{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.rplayer_ad_liner_ctrl{position:absolute;background:rgba(0,0,0,.5);cursor:pointer;padding:7px;border-radius:3px;transition:background .3s ease}.rplayer_ad_liner_ctrl:hover{background:rgba(0,0,0,.7);background:var(--rplayer-primary)}.rplayer_ad_liner_full,.rplayer_ad_liner_play,.rplayer_ad_liner_volume{bottom:3%}.rplayer_ad_liner_play{left:10px}.rplayer_ad_liner_volume{left:60px}.rplayer_ad_liner_full{right:10px}.rplayer_ad_liner video{width:100%;max-height:100%}.rplayer_ad_nonliner{display:none;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);max-width:70%;max-height:70%;z-index:10;cursor:pointer}.rplayer_ad_nonliner-active{display:block}.rplayer_ad_nonliner_close{position:absolute;right:8px;top:10px;width:15px;height:15px;opacity:.5}.rplayer_ad_nonliner_close:hover{opacity:1}.rplayer_ad_nonliner_close:after,.rplayer_ad_nonliner_close:before{content:\\\"\\\";position:absolute;height:17px;width:3px;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.2)}.rplayer_ad_nonliner_close:before{transform:rotate(45deg)}.rplayer_ad_nonliner_close:after{transform:rotate(-45deg)}.rplayer_ad_nonliner_content{-o-object-fit:cover;object-fit:cover}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export default {\n  LINER_AD_PLAY: 'LinerAdPlay',\n  LINER_AD_END: 'LinerAdEnd',\n};\n","import RPlayer from 'rplayer';\n\nexport function throttle<T extends (...args: any[]) => any>(\n  fn: T,\n  wait = 1000\n): any {\n  let pending = false;\n  let first = true;\n\n  return function (...args: Parameters<typeof fn>): void {\n    if (pending) return;\n    if (first) {\n      first = false;\n      return fn.apply(this, args);\n    }\n    pending = true;\n    setTimeout(() => {\n      fn.apply(this, args);\n      pending = false;\n    }, wait);\n  };\n}\n\nexport function getAdBadge(player: RPlayer): HTMLElement {\n  const ad = RPlayer.utils.newElement('rplayer_ad_badge');\n  ad.innerText = player.t('AD');\n  return ad;\n}\n\nexport function openInNewTab(src: string): void {\n  window.open(src, '_blank').focus();\n}\n","import Liner from '.';\nimport RPlayer from 'rplayer';\nimport { throttle, openInNewTab } from '../utils';\n\nexport default class Video {\n  readonly dom: HTMLVideoElement;\n  private readonly liner: Liner;\n  private clickLoad = false;\n  private muted: boolean;\n  private prevTime = 0;\n\n  constructor(liner: Liner, src?: string, muted = false) {\n    this.liner = liner;\n    this.muted = muted;\n    this.dom = RPlayer.utils.newElement('', 'video');\n\n    this.dom.addEventListener('click', this.onClick);\n    this.dom.addEventListener('play', this.onPlay);\n    this.dom.addEventListener('pause', this.onPause);\n    this.dom.addEventListener('canplay', this.onCanPlay);\n    this.dom.addEventListener('volumechange', this.onVolumeChange);\n    this.dom.addEventListener('ratechange', this.onRateChange);\n    this.dom.addEventListener('timeupdate', this.onTimeUpdate);\n    this.dom.addEventListener('seeking', this.onSeeking);\n    this.dom.addEventListener('error', this.onError);\n    this.dom.addEventListener('ended', this.onEnded);\n\n    this.dom.controls = false;\n    this.dom.autoplay = false;\n    this.dom.loop = false;\n    this.dom.playbackRate = 1;\n    this.dom.setAttribute('playsinline', '');\n    this.dom.muted = muted;\n    this.hide();\n    if (src) {\n      this.dom.src = src;\n      this.dom.load();\n    }\n\n    if (liner.opts.enhanceVideo) {\n      liner.opts.enhanceVideo(this.dom);\n    }\n\n    this.liner.appendVideo(this.dom);\n  }\n\n  get playing(): boolean {\n    return this.dom.played.length && !this.dom.paused && !this.dom.ended;\n  }\n\n  get duration(): number {\n    return this.dom.duration || 0;\n  }\n\n  get currentTime(): number {\n    return this.dom.currentTime || 0;\n  }\n\n  get isMuted(): boolean {\n    return this.dom.muted || this.dom.volume <= 0;\n  }\n\n  private onClick = (): void => {\n    this.play();\n    const ad = this.liner.currentItem?.ad;\n    if (ad) {\n      if (ad.jumpTo) {\n        this.pause();\n        openInNewTab(ad.jumpTo);\n      }\n\n      if (ad.onClick) ad.onClick(ad);\n    }\n  };\n\n  private onCanPlay = (): void => {\n    if (this === this.liner.currentItem.video) {\n      this.playVideo();\n    }\n  };\n\n  private onPlay = (): void => {\n    this.liner.onVideoPlay();\n    this.onVolumeChange();\n  };\n\n  private onPause = (): void => {\n    this.liner.onVideoPause();\n  };\n\n  private onTimeUpdate = throttle((): void => {\n    if (!this.dom.seeking) this.prevTime = this.dom.currentTime;\n  });\n\n  private onVolumeChange = (): void => {\n    if (this.isMuted) {\n      this.liner.onVideoMuted();\n    } else {\n      this.liner.onVideoUnmuted();\n    }\n  };\n\n  private onSeeking = (): void => {\n    const delta = this.dom.currentTime - this.prevTime;\n    if (Math.abs(delta) > 1) this.dom.currentTime = this.prevTime;\n  };\n\n  private onRateChange = (): void => {\n    this.dom.playbackRate = 1;\n  };\n\n  private onError = (): void => {\n    if (this.liner.onVideoError()) {\n      this.onEnded();\n    } else {\n      this.dom.load();\n    }\n  };\n\n  private onEnded = (): void => {\n    this.destroy();\n    this.liner.playNext();\n  };\n\n  private playVideo(): void {\n    const play = this.dom.play();\n    if (RPlayer.utils.isCatchable(play)) {\n      play.catch(() => {\n        this.dom.muted = true;\n        this.dom.play().catch(() => {\n          this.dom.pause();\n          this.onPause();\n        });\n      });\n    }\n    this.dom.muted = this.muted;\n  }\n\n  play(src?: string): void {\n    if (!this.liner.playing) return;\n    this.show();\n\n    if (src) {\n      this.dom.src = src;\n    } else if (this.playing) return;\n    if (!this.dom.src) return;\n\n    if (!this.dom.parentNode.contains(this.dom)) {\n      this.liner.appendVideo(this.dom);\n    }\n\n    if (\n      !this.dom.played.length &&\n      !this.dom.ended &&\n      this.dom.readyState <= 2 &&\n      !this.clickLoad\n    ) {\n      this.dom.load();\n      this.clickLoad = true;\n      this.onPause();\n    } else if (this.dom.paused) {\n      this.playVideo();\n    }\n  }\n\n  mute(): void {\n    this.muted = true;\n    this.dom.muted = true;\n  }\n\n  unmute(): void {\n    this.muted = false;\n    this.dom.muted = false;\n  }\n\n  toggleVolume(): void {\n    if (this.isMuted) {\n      this.unmute();\n    } else {\n      this.mute();\n    }\n  }\n\n  pause(): void {\n    this.dom.pause();\n  }\n\n  show(): void {\n    this.dom.hidden = false;\n  }\n\n  hide(): void {\n    this.dom.hidden = true;\n  }\n\n  destroy(): void {\n    this.pause();\n    this.dom.autoplay = false;\n    this.hide();\n    this.dom.removeAttribute('src');\n    if (this.dom.parentNode) {\n      this.dom.parentNode.removeChild(this.dom);\n    }\n  }\n}\n","import RPlayer from 'rplayer';\nimport Events from '../events';\nimport { AdsOpts, LinerAdsItem } from '../options';\nimport { throttle, getAdBadge } from '../utils';\nimport Video from './video';\nimport Ads from '..';\n\ntype PlayItem = { ad: LinerAdsItem; video: Video };\n\nexport default class Liner {\n  readonly dom: HTMLElement;\n  private readonly ads: Ads;\n  private videoContainer: HTMLElement;\n  private countDownDom: HTMLElement;\n\n  readonly opts: AdsOpts;\n  private player: RPlayer;\n\n  private adsItems: LinerAdsItem[];\n  private remainTime = 0;\n\n  private playlist: PlayItem[] = [];\n  currentItem: PlayItem;\n\n  private totalPlayTime = 0;\n\n  private tickTimer: NodeJS.Timeout;\n  private tickRemainTimer: NodeJS.Timeout;\n  private prevPlayerCurrentTime = 0;\n  private muted = false;\n\n  playing = false;\n\n  constructor(ads: Ads) {\n    this.ads = ads;\n    this.opts = ads.opts;\n    this.dom = RPlayer.utils.newElement('rplayer_ad_liner');\n    this.adsItems = ads.opts.liner;\n  }\n\n  get timeLeft(): number {\n    return this.remainTime;\n  }\n\n  private disablePlayer(): void {\n    this.prevPlayerCurrentTime = this.player.currentTime;\n    this.player.on(RPlayer.Events.PLAY, this.pausePlayer);\n    this.player.on(RPlayer.Events.TIME_UPDATE, this.pausePlayer);\n    this.player.pause();\n  }\n\n  private restorePlayer(): void {\n    this.player.off(RPlayer.Events.PLAY, this.pausePlayer);\n    this.player.off(RPlayer.Events.TIME_UPDATE, this.pausePlayer);\n    this.player.currentTime = this.prevPlayerCurrentTime;\n    this.player.play();\n  }\n\n  private checkCanPlay = throttle((): void => {\n    if (this.playing) return;\n    if (!this.adsItems.length) {\n      this.player.off(RPlayer.Events.TIME_UPDATE, this.checkCanPlay);\n      return this.end();\n    }\n\n    const curTime = this.player.currentTime;\n    const needPlay: LinerAdsItem[] = [];\n    const rest: LinerAdsItem[] = [];\n\n    this.adsItems.forEach((ad) => {\n      if (\n        (ad.playWait && ad.playWait <= this.totalPlayTime) ||\n        ad.playAt <= curTime\n      ) {\n        needPlay.push(ad);\n      } else {\n        rest.push(ad);\n      }\n    });\n\n    this.adsItems = rest;\n\n    if (needPlay.length) this.play(needPlay);\n  });\n\n  private calcRemainTime(): void {\n    this.remainTime = this.playlist.reduce((a, c) => {\n      a += c.ad.duration || 0;\n      return a;\n    }, 0);\n\n    if (this.currentItem) {\n      const video = this.currentItem.video;\n\n      if (video.duration) {\n        this.remainTime += video.duration - video.currentTime;\n      } else {\n        this.remainTime += this.currentItem.ad.duration;\n      }\n\n      this.remainTime = Math.ceil(this.remainTime);\n    }\n\n    this.setCountDown();\n  }\n\n  private tickRemain = (): void => {\n    this.untickRemain();\n    this.tickRemainTimer = setInterval(() => {\n      if (this.remainTime <= 0) {\n        const list = this.playlist.map((x) => x.ad);\n        list.unshift(this.currentItem.ad);\n        if (this.opts.linerTimeout && this.opts.linerTimeout(list)) {\n          return this.skip();\n        }\n\n        return this.calcRemainTime();\n      }\n\n      this.remainTime--;\n      this.setCountDown();\n    }, 1000);\n  };\n\n  private untickRemain = (): void => {\n    clearInterval(this.tickRemainTimer);\n  };\n\n  private tick = (): void => {\n    this.untick();\n    if (this.playing) return;\n    this.tickTimer = setInterval(() => {\n      this.totalPlayTime++;\n    }, 1000);\n  };\n\n  private untick = (): void => {\n    clearInterval(this.tickTimer);\n  };\n\n  private pausePlayer = (): void => {\n    this.player.pause();\n  };\n\n  skip(): void {\n    if (this.currentItem) {\n      this.currentItem.video.destroy();\n    }\n    this.end();\n  }\n\n  show(): void {\n    this.dom.hidden = false;\n  }\n\n  hide(): void {\n    this.dom.hidden = true;\n  }\n\n  end(): void {\n    if (!this.playing) return;\n    this.playing = false;\n    this.currentItem = null;\n    this.player.fullscreen.setTarget();\n    this.hideCountDown();\n    this.untickRemain();\n    this.hide();\n    this.restorePlayer();\n    this.destroyVideos();\n\n    this.ads.emit(Events.LINER_AD_END);\n  }\n\n  destroyVideos(): void {\n    if (this.playlist.length) {\n      this.playlist.forEach(({ video }) => video.destroy());\n      this.playlist = [];\n    }\n  }\n\n  setCountDown(t = this.remainTime): void {\n    this.countDownDom.innerText = t.toString();\n  }\n\n  showCountDown(): void {\n    this.countDownDom.style.opacity = '1';\n  }\n\n  hideCountDown(): void {\n    this.countDownDom.style.opacity = '0';\n  }\n\n  appendVideo(dom: HTMLVideoElement): void {\n    this.videoContainer.appendChild(dom);\n  }\n\n  onVideoError(): boolean | void {\n    if (this.opts.onError) {\n      return this.opts.onError(this.currentItem.ad, this.remainTime);\n    }\n  }\n\n  onVideoPlay(): void {\n    this.dom.classList.add('rplayer_ad_liner-playing');\n    this.tickRemain();\n  }\n\n  onVideoPause(): void {\n    this.dom.classList.remove('rplayer_ad_liner-playing');\n    this.untickRemain();\n  }\n\n  onVideoMuted(): void {\n    this.muted = true;\n    this.playlist.forEach((i) => i.video.mute());\n    this.dom.classList.add('rplayer_ad_liner-muted');\n  }\n\n  onVideoUnmuted(): void {\n    this.muted = false;\n    this.playlist.forEach((i) => i.video.unmute());\n    this.dom.classList.remove('rplayer_ad_liner-muted');\n  }\n\n  play(items: LinerAdsItem[]): void {\n    if (!items || !items.length) return;\n    this.playing = true;\n\n    this.playlist = items.map((ad) => ({\n      ad,\n      video: new Video(this, ad.src, this.muted),\n    }));\n\n    this.disablePlayer();\n    this.show();\n    this.playNext();\n\n    this.calcRemainTime();\n    if (this.remainTime) this.showCountDown();\n  }\n\n  playNext(): void {\n    if (!this.playlist.length) return this.end();\n\n    const item = this.playlist.shift();\n    this.currentItem = item;\n    item.video.play();\n\n    this.player.fullscreen.setTarget(this.dom, item.video.dom);\n\n    this.ads.emit(Events.LINER_AD_PLAY);\n  }\n\n  private onEnterFullscreen = (): void => {\n    this.dom.classList.add('rplayer_ad_liner-fs');\n  };\n\n  private onExitFullscreen = (): void => {\n    this.dom.classList.remove('rplayer_ad_liner-fs');\n  };\n\n  private onPlayerEnded = (): void => {\n    this.play(this.adsItems);\n    this.adsItems = [];\n  };\n\n  install(player: RPlayer): void {\n    this.player = player;\n\n    this.dom.addEventListener('click', (ev: MouseEvent) => {\n      ev.preventDefault();\n      ev.stopImmediatePropagation();\n    });\n\n    this.dom.addEventListener('contextmenu', (ev: MouseEvent) => {\n      ev.preventDefault();\n      ev.stopImmediatePropagation();\n    });\n\n    this.videoContainer = RPlayer.utils.newElement('rplayer_ad_liner_videos');\n\n    const playPause = this.getCtrlDom(() => {\n      const v = this.currentItem.video;\n      if (v.playing) {\n        v.pause();\n      } else {\n        v.play();\n      }\n    }, 'rplayer_ad_liner_play');\n    playPause.appendChild(RPlayer.icons.play('rplayer_ad_liner_i_play'));\n    playPause.appendChild(RPlayer.icons.pause('rplayer_ad_liner_i_pause'));\n\n    const volume = this.getCtrlDom(\n      () => this.currentItem.video.toggleVolume(),\n      'rplayer_ad_liner_volume'\n    );\n    volume.appendChild(RPlayer.icons.volume('rplayer_ad_liner_i_volume'));\n    volume.appendChild(RPlayer.icons.muted('rplayer_ad_liner_i_muted'));\n\n    const full = this.getCtrlDom(\n      () => this.player.fullscreen.toggle(),\n      'rplayer_ad_liner_full'\n    );\n    full.appendChild(RPlayer.icons.enterFullscreen('rplayer_ad_liner_i_fs'));\n    full.appendChild(RPlayer.icons.exitFullscreen('rplayer_ad_liner_i_efs'));\n\n    this.countDownDom = RPlayer.utils.newElement('rplayer_ad_liner_cd');\n\n    if (this.opts.adBadge) {\n      this.dom.appendChild(getAdBadge(player));\n    }\n\n    this.dom.appendChild(this.videoContainer);\n    this.dom.appendChild(playPause);\n    this.dom.appendChild(volume);\n    this.dom.appendChild(full);\n    this.dom.appendChild(this.countDownDom);\n\n    player.on(RPlayer.Events.PLAY, this.tick);\n    player.on(RPlayer.Events.PAUSE, this.untick);\n    player.on(RPlayer.Events.ENDED, this.untick);\n    player.on(RPlayer.Events.LOADING_SHOW, this.untick);\n    player.on(RPlayer.Events.LOADING_HIDE, this.tick);\n    player.on(RPlayer.Events.ENTER_FULLSCREEN, this.onEnterFullscreen);\n    player.on(RPlayer.Events.EXIT_FULLSCREEN, this.onExitFullscreen);\n    player.on(RPlayer.Events.ENDED, this.onPlayerEnded);\n    if (player.playing) this.tick();\n\n    player.on(RPlayer.Events.TIME_UPDATE, this.checkCanPlay);\n    this.checkCanPlay();\n  }\n\n  private getCtrlDom(onClick: () => void, cls?: string): HTMLElement {\n    const dom = RPlayer.utils.newElement('rplayer_ad_liner_ctrl');\n    if (cls) dom.classList.add(cls);\n    dom.addEventListener(\n      'click',\n      (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        if (this.currentItem) onClick();\n      },\n      true\n    );\n    dom.addEventListener('dblclick', (ev) => {\n      ev.preventDefault();\n      ev.stopImmediatePropagation();\n    });\n    return dom;\n  }\n}\n","import Ads from '.';\nimport RPlayer from 'rplayer';\nimport { getAdBadge, openInNewTab } from './utils';\nimport { NonLinerAdsItem } from './options';\n\nexport default class NonLiner {\n  private readonly ads: Ads;\n  readonly dom: HTMLElement;\n  private readonly closeDom: HTMLElement;\n\n  private adsItems: NonLinerAdsItem[];\n  private currentAd: { ad: NonLinerAdsItem; dom: HTMLElement };\n\n  constructor(ads: Ads) {\n    this.ads = ads;\n    this.adsItems = ads.opts.nonLiner;\n    this.dom = RPlayer.utils.newElement('rplayer_ad_nonliner');\n    this.dom.addEventListener('click', this.onDomClick);\n    this.closeDom = RPlayer.utils.newElement('rplayer_ad_nonliner_close');\n    this.closeDom.addEventListener('click', this.onClose, true);\n    this.dom.appendChild(this.closeDom);\n  }\n\n  show(): void {\n    if (!this.currentAd) return;\n    this.dom.classList.add('rplayer_ad_nonliner-active');\n    this.currentAd.ad.showed++;\n  }\n\n  hide = (): void => {\n    this.dom.classList.remove('rplayer_ad_nonliner-active');\n\n    if (this.currentAd) {\n      this.currentAd.dom.parentNode.removeChild(this.currentAd.dom);\n    }\n\n    this.currentAd = null;\n    this.adsItems = this.adsItems.filter((ad) => ad.showed < ad.total);\n\n    if (this.adsItems.length) {\n      const ad = this.adsItems[0];\n\n      let dom: HTMLElement;\n      if (ad.imgSrc) {\n        dom = document.createElement('img');\n        (dom as any).src = ad.imgSrc;\n      } else if (typeof ad.content === 'string') {\n        dom = RPlayer.utils.htmlDom(ad.content);\n      } else {\n        dom = ad.content as HTMLElement;\n      }\n\n      dom.classList.add('rplayer_ad_nonliner_content');\n      this.dom.appendChild(dom);\n      this.currentAd = { ad, dom };\n    }\n  };\n\n  private onPlayerPause = (): void => {\n    if (this.ads.liner.playing) return;\n    this.show();\n  };\n\n  private onDomClick = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopImmediatePropagation();\n    const ad = this.currentAd?.ad;\n    if (ad) {\n      if (ad.jumpTo) {\n        openInNewTab(ad.jumpTo);\n      }\n\n      if (ad.onClick) ad.onClick(ad);\n    }\n  };\n\n  private onClose = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopImmediatePropagation();\n    this.hide();\n  };\n\n  install(player: RPlayer): void {\n    if (this.ads.opts.adBadge) {\n      this.dom.appendChild(getAdBadge(player));\n    }\n\n    player.on(RPlayer.Events.PLAY, this.hide);\n    player.on(RPlayer.Events.PAUSE, this.onPlayerPause);\n\n    this.hide();\n  }\n}\n","import RPlayer from 'rplayer';\nimport Events from './events';\nimport { AdsOpts, processOpts } from './options';\nimport Liner from './liner';\nimport NonLiner from './non-liner';\n\nexport default class Ads extends RPlayer.EventEmitter {\n  static readonly Events = Events;\n\n  private readonly dom: HTMLElement;\n  readonly liner: Liner;\n  readonly nonLiner: NonLiner;\n  readonly opts: AdsOpts;\n\n  constructor(opts: AdsOpts) {\n    super();\n    this.opts = processOpts(opts);\n    this.dom = RPlayer.utils.newElement('rplayer_ad');\n    this.liner = new Liner(this);\n    this.nonLiner = new NonLiner(this);\n  }\n\n  install(player: RPlayer): void {\n    player.addLang('zh-CN', { AD: '' });\n\n    this.liner.install(player);\n    this.nonLiner.install(player);\n\n    this.dom.appendChild(this.liner.dom);\n    this.dom.appendChild(this.nonLiner.dom);\n    player.appendChild(this.dom);\n  }\n}\n","import RPlayer from 'rplayer';\n\nexport interface AdsItem<T> {\n  jumpTo?: string;\n  onClick: (item: T) => any;\n  [key: string]: any;\n}\n\nexport interface LinerAdsItem extends AdsItem<LinerAdsItem> {\n  src: string;\n  playAt?: number;\n  playWait?: number;\n  duration?: number;\n}\n\nexport interface NonLinerAdsItem extends AdsItem<NonLinerAdsItem> {\n  imgSrc?: string;\n  content?: string | Element;\n  showed?: number;\n  total?: number;\n}\n\nexport interface AdsOpts {\n  liner?: LinerAdsItem[];\n  nonLiner?: NonLinerAdsItem[];\n  onError?: (\n    item: LinerAdsItem | NonLinerAdsItem,\n    timeLeft?: number\n  ) => boolean | void;\n  linerTimeout?: (items: LinerAdsItem[]) => boolean | void;\n  enhanceVideo?: (video: HTMLVideoElement) => any;\n  adBadge?: boolean;\n}\n\nexport function processOpts(opts: AdsOpts): AdsOpts {\n  opts.adBadge = opts.adBadge == null ? true : opts.adBadge;\n  opts.liner = opts.liner || [];\n  opts.nonLiner = opts.nonLiner || [];\n\n  opts.liner = opts.liner\n    .filter((a) => a.src)\n    .map((a) => {\n      if (RPlayer.utils.isNum(a.playWait) && !RPlayer.utils.isNum(a.playAt)) {\n        a.playAt = Infinity;\n      } else {\n        a.playAt = a.playAt || 0;\n      }\n      return a;\n    });\n  opts.nonLiner = opts.nonLiner\n    .filter((a) => a.imgSrc || a.content)\n    .map((a) => {\n      a.total = a.total || 1;\n      a.showed = a.showed || 0;\n      return a;\n    });\n\n  return opts;\n}\n","import Ads from './ads';\nimport '../scss/index.scss';\n\nexport default Ads;\n"],"sourceRoot":""}