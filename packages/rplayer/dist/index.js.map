{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/./node_modules/tslib/tslib.es6.js","webpack://[name]/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://[name]/./node_modules/css-loader/dist/runtime/api.js","webpack://[name]/./node_modules/eventemitter3/index.js","webpack://[name]/./packages/rplayer/src/icons/cc.svg","webpack://[name]/./packages/rplayer/src/icons/enter-fullscreen.svg","webpack://[name]/./packages/rplayer/src/icons/exit-fullscreen.svg","webpack://[name]/./packages/rplayer/src/icons/muted.svg","webpack://[name]/./packages/rplayer/src/icons/pause.svg","webpack://[name]/./packages/rplayer/src/icons/play.svg","webpack://[name]/./packages/rplayer/src/icons/settings.svg","webpack://[name]/./packages/rplayer/src/icons/volume.svg","webpack://[name]/./packages/rplayer/src/scss/index.scss?7501","webpack://[name]/./packages/rplayer/src/scss/index.scss","webpack://[name]/./packages/rplayer/src/ts/utils/drag.ts","webpack://[name]/./packages/rplayer/src/ts/utils/index.ts","webpack://[name]/./packages/rplayer/src/ts/event-handler.ts","webpack://[name]/./packages/rplayer/src/ts/events.ts","webpack://[name]/./packages/rplayer/src/ts/component.ts","webpack://[name]/./packages/rplayer/src/ts/controls/contextmenu.ts","webpack://[name]/./packages/rplayer/src/ts/config/index.ts","webpack://[name]/./packages/rplayer/src/ts/config/classname.ts","webpack://[name]/./packages/rplayer/src/ts/controls/mask.ts","webpack://[name]/./packages/rplayer/src/ts/controls/bar.ts","webpack://[name]/./packages/rplayer/src/ts/controls/dot.ts","webpack://[name]/./packages/rplayer/src/ts/controls/thumbnail.ts","webpack://[name]/./packages/rplayer/src/ts/controls/progress-bar.ts","webpack://[name]/./packages/rplayer/src/ts/config/lang.ts","webpack://[name]/./packages/rplayer/src/ts/icons.ts","webpack://[name]/./packages/rplayer/src/ts/widgets/tray.ts","webpack://[name]/./packages/rplayer/src/ts/controls/setting/select.ts","webpack://[name]/./packages/rplayer/src/ts/controls/setting/item.ts","webpack://[name]/./packages/rplayer/src/ts/controls/setting/base-item.ts","webpack://[name]/./packages/rplayer/src/ts/widgets/switch.ts","webpack://[name]/./packages/rplayer/src/ts/controls/setting/switch-item.ts","webpack://[name]/./packages/rplayer/src/ts/widgets/popover.ts","webpack://[name]/./packages/rplayer/src/ts/controls/setting/menu.ts","webpack://[name]/./packages/rplayer/src/ts/controls/setting/index.ts","webpack://[name]/./packages/rplayer/src/ts/controls/trays/play.ts","webpack://[name]/./packages/rplayer/src/ts/controls/trays/time.ts","webpack://[name]/./packages/rplayer/src/ts/controls/trays/volume.ts","webpack://[name]/./packages/rplayer/src/ts/controls/index.ts","webpack://[name]/./packages/rplayer/src/ts/loading.ts","webpack://[name]/./packages/rplayer/src/ts/handle-events.ts","webpack://[name]/./packages/rplayer/src/ts/storage.ts","webpack://[name]/./packages/rplayer/src/ts/options.ts","webpack://[name]/./packages/rplayer/src/ts/plugins/subtitle.ts","webpack://[name]/./packages/rplayer/src/ts/plugins/fullscreen.ts","webpack://[name]/./packages/rplayer/src/ts/shortcut.ts","webpack://[name]/./packages/rplayer/src/ts/widgets/slider.ts","webpack://[name]/./packages/rplayer/src/ts/widgets/checkbox.ts","webpack://[name]/./packages/rplayer/src/ts/toast.ts","webpack://[name]/./packages/rplayer/src/ts/rplayer.ts","webpack://[name]/./packages/rplayer/src/ts/index.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","m","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__spreadArrays","il","r","k","a","j","jl","memo","isOldIE","Boolean","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","list","options","idCountMap","identifiers","item","id","base","count","concat","index","obj","css","media","sourceMap","references","updater","push","style","update","remove","styleIndex","singleton","singletonCounter","insertStyleElement","applyToSingletonTag","bind","setAttribute","removeAttribute","btoa","unescape","encodeURIComponent","JSON","stringify","styleSheet","cssText","firstChild","removeChild","appendChild","createTextNode","parentNode","removeStyleElement","newObj","addStyle","nonce","createElement","attributes","keys","forEach","key","insert","Error","textStore","replaceText","replacement","filter","join","cssNode","childNodes","insertBefore","lastIdentifiers","newList","toString","newLastIdentifiers","_i","_index","splice","useSourceMap","map","content","cssMapping","sourceMapping","base64","data","toComment","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","modules","mediaQuery","dedupe","alreadyImportedModules","has","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","name","names","slice","getOwnPropertySymbols","listeners","handlers","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","on","removeAllListeners","off","prefixed","api","__esModule","default","exported","locals","___CSS_LOADER_API_IMPORT___","dom","start","move","end","pending","downHandler","ev","preventDefault","setPointerCapture","pointerId","addEventListener","moveHandler","lastEv","requestAnimationFrame","handlerMove","upHandler","releasePointerCapture","removeEventListener","destroy","noop","clamp","lower","upper","Math","max","min","isStr","o","isNum","isNaN","isFn","isObj","isElement","Element","isBool","isCatchable","catch","clampNeg","defaults","findIndex","arr","predicate","getDomOr","orReturn","ret","htmlDom","html","tag","className","innerHTML","classList","add","measureElementSize","clone","cloneNode","position","opacity","width","scrollWidth","height","scrollHeight","newElement","domParser","DOMParser","strToDom","str","type","parseFromString","svgToDom","padStart","v","String","formatTime","seconds","round","floor","ua","isEdge","navigator","userAgent","indexOf","isIos","test","platform","isIE","makeDictionary","getClientWH","body","clientWidth","clientHeight","safeJsonParse","orRet","parse","safeJsonStringify","getDeep","object","path","split","reduce","extend","isArray","ajax","url","cb","xhr","XMLHttpRequest","onreadystatechange","readyState","status","responseText","onerror","err","open","send","player","evName","fnName","autoUpdateRect","_resizeHandler","updateRect","_rect","getBoundingClientRect","addClass","innerText","text","PLAYER_RESIZE","Component","isComponent","pos","children","cls","c","containsClass","contains","toggleClass","force","toggle","removeClass","appendTo","removeFrom","removeFromParent","hidden","visible","canFocus","BP","BREAKPOINT_WIDESCREEN","BREAKPOINT_DESKTOP","BREAKPOINT_TABLET","BREAKPOINT_PHONE","PLAYER","PREFIX","ACTIVE","PAUSED","FULL","CTRL","CTRL_HIDE","CTRL_BOTTOM","CTRL_MENU","CTRL_MENU_ITEM","CTRL_MENU_ITEM_CHECKED","THUMB","PROGRESS","TRAY","TRAY_VOLUME","SETTING","SETTING_ACTIVE","SETTING_SELECT_OPT","SETTING_SELECT_OPT_ACTIVE","SETTING_MENU","SETTING_ITEM","SETTING_MENU_PAGE","CAPTION","CAPTION_ACTIVE","checked","next","clickHandler","icon","label","onClick","PLAYER_CONTEXT_MENU","CLICK_OUTSIDE","CLICK_CONTROL_MASK","showed","stopPropagation","hide","opts","contextMenu","enable","items","controls","mask","show","addItem","onPlayerContextMenu","left","top","w","h","pageX","pageY","onClickOutside","onClickControlMask","setX","x","transform","progressBar","thumbnail","enableImg","images","handler","halfImgWidth","thumbNumPerImg","col","row","ssGapRatio","startTime","gapSec","time","img","getCurBg","y","half","backgroundImage","backgroundPosition","rect","TIME_UPDATE","CONTROLS_SHOW","mouseMovePending","mouseMoveLastX","dragging","dragStartHandler","dragHandler","requireShow","dot","playedBar","updateThumbnail","dragEndHandler","seek","calcCurrentTime","releaseShow","mouseMoveHandler","updateHoverBarAndThumb","updatePlayedBar","updateHoverBar","barWrapper","padBar","bufBar","hoverBar","drag","duration","percentage","isHide","currentTime","updateBufBar","buffered","curTime","eachBuffer","onControlsShow","onTimeUpdate","onProgress","FULL_SCREEN","EXIT_FULL_SCREEN","SETTINGS","PLAY","MUTE","NORMAL","SPEED","CAPTIONS","language","lang","addLang","fallback","trans","play","pause","enterFullscreen","exitFullscreen","volume","muted","settings","cc","icons","tip","hideTip","labelPos","noHoverBg","span","showIcon","el","mount","Tray","disableCls","disable","changeTip","showTip","entryClickCb","value","optionClickHandler","onChange","select","entry","div","init","entryClickHandler","onEntryClick","entryLabel","entryValue","orLabel","opt","prevSelect","selectedLabel","SETTING_SELECTED","append","_value","done","success","defaultValue","color","primaryColor","small","Switch","activeCls","background","switch","Popover","playing","onHide","right","isActive","MOUNTED","optionRects","selectEntryClickHandler","homeRect","homePage","optionPages","setWH","backClickHandler","resetPage","popover","getOptionPage","page","getBack","back","optionPage","onSettingSelected","onMounted","clearTimeout","resetPageTimer","setTimeout","menu","tray","PAUSE","onPlay","onPause","DURATION_CHANGE","totalTime","updateCurTime","updateTotalTime","onDurationChange","onVolumeChange","vol","bar","VOLUME_CHANGE","toggleVolume","progress","PLAYER_MOUSE_MOVE","PLAYER_MOUSE_LEAVE","PLAYER_CLICK","showLatch","tryHideControls","played","paused","setting","bottom","sort","bottomMask","showTemporary","controlsTimer","CONTROLS_HIDE","addTray","addSettingItem","addContextMenuItem","onPlayerClick","onPlayerMouseMove","onPlayerMouseLeave","from","to","transThrottle","video","RATE_CHANGE","ENDED","WAITING","STALLED","CANPLAY","LOADED_METADATA","ERROR","SEEKED","PLAYER_DBLCLICK","mqHandler","matches","curBreakPoint","BREAK_POINT_CHANGE","mq","matchMedia","loadingClass","startWaitingTime","_checkCanplay","showTimer","LOADING_SHOW","onWaiting","checkCanplay","tryShow","onCanplay","onStalled","LOADING_HIDE","Storage","supported","storage","localStorage","setItem","removeItem","get","getItem","set","processOptions","preset","plugins","userLanguage","playbackRate","DEFAULT_PLAY_RATE","steps","rate","parseFloat","toFixed","processPlaybackRate","shortcut","global","version","subtitle","prev","optionChangeHandler","track","removeCueEvent","addCueEvent","active","deactivate","cueChangeHandler","cues","activeCues","cue","renderText","getCueAsHTML","textContent","captions","updateUI","run","tracks","textTracks","mode","trackEls","df","createDocumentFragment","src","getAttribute","_","URL","createObjectURL","Blob","getPrefix","playerDblClickHandler","changeHandler","ENTER_FULLSCREEN","EXIT_FULLSCREEN","fullscreen","onEnterFullscreen","onExitFullscreen","setTarget","HTMLElement","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","HTMLDocument","webkitExitFullscreen","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","fullscreenElement","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","enter","webkitEnterFullscreen","navigationUI","exit","editable","keydownHandler","altKey","ctrlKey","metaKey","shiftKey","focused","activeElement","tagName","toLowerCase","handled","code","keyCode","which","38","incVolume","40","decVolume","39","forward","37","rewind","32","register","unregister","prevValue","hdw","stops","Infinity","abs","updateDom","stop","size","bgColor","labelColor","barHeight","halfDotW","mapped","Checkbox","Toast","clearTimer","timer","message","ended","ready","restore","setMediaAttrs","canPlayType","BEFORE_MOUNT","prevVolume","toast","$toast","hideToast","use","plugin","install","utils","Slider","SettingBase","SettingSwitch","SettingSelect","loading","getter","defineProperty","enumerable","Symbol","toStringTag","ns","property","moduleId"],"mappings":"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","file":"rplayer/dist/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"RPlayer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RPlayer\"] = factory();\n\telse\n\t\troot[\"RPlayer\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M1 1c-.6 0-1 .4-1 1v11c0 .6.4 1 1 1h4.6l2.7 2.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3l2.7-2.7H17c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1H1zm4.52 10.15c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41C8.47 4.96 7.46 3.76 5.5 3.76c-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69zm7.57 0c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41c-.28-1.15-1.29-2.35-3.25-2.35-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69z\\\" fill-rule=\\\"evenodd\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M10 3h3.6l-4 4L11 8.4l4-4V8h2V1h-7zM7 9.6l-4 4V10H1v7h7v-2H4.4l4-4z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M1 12h3.6l-4 4L2 17.4l4-4V17h2v-7H1zM16 .6l-4 4V1h-2v7h7V6h-3.6l4-4z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M12.4 12.5l2.1-2.1 2.1 2.1 1.4-1.4L15.9 9 18 6.9l-1.4-1.4-2.1 2.1-2.1-2.1L11 6.9 13.1 9 11 11.1zM3.786 6.008H.714C.286 6.008 0 6.31 0 6.76v4.512c0 .452.286.752.714.752h3.072l4.071 3.858c.5.3 1.143 0 1.143-.602V2.752c0-.601-.643-.977-1.143-.601L3.786 6.008z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M6 1H3c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1zM12 1c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1h-3z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.562 8.1L3.87.225C3.052-.337 2 .225 2 1.125v15.75c0 .9 1.052 1.462 1.87.9L15.563 9.9c.584-.45.584-1.35 0-1.8z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M16.135 7.784a2 2 0 0 1-1.23-2.969c.322-.536.225-.998-.094-1.316l-.31-.31c-.318-.318-.78-.415-1.316-.094a2 2 0 0 1-2.969-1.23C10.065 1.258 9.669 1 9.219 1h-.438c-.45 0-.845.258-.997.865a2 2 0 0 1-2.969 1.23c-.536-.322-.999-.225-1.317.093l-.31.31c-.318.318-.415.781-.093 1.317a2 2 0 0 1-1.23 2.969C1.26 7.935 1 8.33 1 8.781v.438c0 .45.258.845.865.997a2 2 0 0 1 1.23 2.969c-.322.536-.225.998.094 1.316l.31.31c.319.319.782.415 1.316.094a2 2 0 0 1 2.969 1.23c.151.607.547.865.997.865h.438c.45 0 .845-.258.997-.865a2 2 0 0 1 2.969-1.23c.535.321.997.225 1.316-.094l.31-.31c.318-.318.415-.781.094-1.316a2 2 0 0 1 1.23-2.969c.607-.151.865-.547.865-.997v-.438c0-.451-.26-.846-.865-.997zM9 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.6 3.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4C15.4 5.9 16 7.4 16 9c0 1.6-.6 3.1-1.8 4.3-.4.4-.4 1 0 1.4.2.2.5.3.7.3.3 0 .5-.1.7-.3C17.1 13.2 18 11.2 18 9s-.9-4.2-2.4-5.7z\\\"></path><path d=\\\"M11.282 5.282a.909.909 0 0 0 0 1.316c.735.735.995 1.458.995 2.402 0 .936-.425 1.917-.995 2.487a.909.909 0 0 0 0 1.316c.145.145.636.262 1.018.156a.725.725 0 0 0 .298-.156C13.773 11.733 14.13 10.16 14.13 9c0-.17-.002-.34-.011-.51-.053-.992-.319-2.005-1.522-3.208a.909.909 0 0 0-1.316 0zM3.786 6.008H.714C.286 6.008 0 6.31 0 6.76v4.512c0 .452.286.752.714.752h3.072l4.071 3.858c.5.3 1.143 0 1.143-.602V2.752c0-.601-.643-.977-1.143-.601L3.786 6.008z\\\"></path></svg>\"","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js!./index.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":root{--rplayer-primary:#448aff;--rplayer-switch:#67cd67}.rplayer{position:relative;display:flex;align-items:center;justify-content:center;height:100%;font-family:-apple-system,BlinkMacSystemFont,Microsoft JhengHei,Microsoft YaHei;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#fff;font-size:14px;-webkit-tap-highlight-color:transparent;outline:none;overflow-x:hidden}.rplayer [hidden]{display:none!important}.rplayer video{-ms-flex:1;max-width:100%}.rplayer svg{width:18px;height:18px;fill:#fff}.rplayer-full,.rplayer-full video{width:100%}.rplayer-loading .rplayer_loading{display:block}.rplayer_loading{display:none;z-index:2}.rplayer_loading div{position:absolute;left:50%;top:50%;width:70px;height:70px;border:6px solid transparent;border-top-color:#fff;border-radius:50%;-webkit-animation:rplayer-loading 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:rplayer-loading 1.2s cubic-bezier(.5,0,.5,1) infinite}.rplayer_loading div:first-child{background:rgba(0,0,0,.15);-webkit-animation-delay:-.45s;animation-delay:-.45s}.rplayer_loading div:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.rplayer_loading div:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}.rplayer_ctrl{z-index:1}.rplayer_ctrl-hide{cursor:none}.rplayer_ctrl-hide .rplayer_ctrl_bottom,.rplayer_ctrl-hide .rplayer_ctrl_bottom_mask{opacity:0}.rplayer_ctrl_mask{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.rplayer_ctrl_bottom{padding:7px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer_ctrl_bottom,.rplayer_ctrl_bottom_mask{position:absolute;left:0;right:0;bottom:0;transition:opacity .2s ease}.rplayer_ctrl_bottom_mask{top:55%;min-height:55px;background:linear-gradient(transparent,rgba(0,0,0,.5));pointer-events:none}.rplayer_ctrl_bottom_trays{display:flex;align-items:center}.rplayer_ctrl_bottom_trays>*{margin-left:3px}.rplayer_ctrl_bottom_trays>:first-child{margin-left:0}.rplayer_ctrl_menu{position:absolute;top:0;left:0;padding:3px 0;font-size:12px;border-radius:3px;background:rgba(0,0,0,.7);z-index:2}.rplayer_ctrl_menu_item{display:flex;align-items:center;padding:5px 8px;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer_ctrl_menu_item_i{width:12px!important;height:12px!important;margin-right:5px}.rplayer_ctrl_menu_item>:nth-child(2){margin-right:auto}.rplayer_ctrl_menu_item:hover{background:hsla(0,0%,100%,.2)}.rplayer_ctrl_menu_item:after{content:\\\"\\\";opacity:0;display:block;height:5px;width:10px;border-color:transparent transparent #fff #fff;border-style:solid;border-width:1px;margin-left:10px;margin-top:-3px;transform:rotate(-45deg)}.rplayer_ctrl_menu_item-checked:after{opacity:1}.rplayer_bar{position:absolute;left:0;right:0;top:0;bottom:0;transform-origin:0 0}.rplayer_dot{position:absolute;left:-6px;pointer-events:none}.rplayer_dot:after{content:\\\"\\\";display:block;width:12px;height:12px;border-radius:50%;background:#448aff;background:var(--rplayer-primary);transform:scale(0);transition:transform .15s ease}.rplayer_toast{position:absolute;left:50%;top:50%;padding:5px 10px;font-size:14px;border-radius:5px;transform:translate(-50%,-50%) scale(.8);color:#fff;background:rgba(0,0,0,.7);box-shadow:0 1px 20px 1px rgba(0,0,0,.3);opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;z-index:3;transition:opacity .2s ease,transform .2s ease}.rplayer_toast-active{opacity:1;transform:translate(-50%,-50%)}.rplayer_progress{position:absolute;left:7px;right:7px;bottom:50px;cursor:pointer}.rplayer_progress_dot{top:-4px}.rplayer_progress_bar_wrapper{position:absolute;left:0;right:0;height:4px;background:hsla(0,0%,100%,.3)}.rplayer_progress_played{background:#448aff;background:var(--rplayer-primary);transform:scaleX(0);will-change:transform}.rplayer_progress_buf,.rplayer_progress_hover{background:hsla(0,0%,100%,.5)}.rplayer_progress_hover{opacity:0}.rplayer_progress_pad{top:-8px;height:16px;touch-action:none}.rplayer_progress:hover .rplayer_progress_hover{opacity:1}.rplayer_progress:active .rplayer_progress_hover{opacity:0}.rplayer_progress:active .rplayer_thumb,.rplayer_progress:hover .rplayer_thumb{opacity:1;transform:translate(-50%) scale(1)}.rplayer_progress:active .rplayer_progress_bar_wrapper,.rplayer_progress:hover .rplayer_progress_bar_wrapper{transform:scaleY(1.3)}.rplayer_progress:active .rplayer_progress_dot:after,.rplayer_progress:hover .rplayer_progress_dot:after{transform:scale(1)}.rplayer_thumb{position:absolute;left:0;bottom:10px;font-size:12px;opacity:0;transform:translate(-50%,15px) scale(.8);transition:transform .2s ease .1s,opacity .2s ease .1s;text-align:center;pointer-events:none;z-index:1}.rplayer_thumb_time{margin-top:10px;text-shadow:0 0 2px rgba(0,0,0,.3)}.rplayer_thumb_img{border-radius:2px;border:1px solid #fff;box-shadow:0 0 10px rgba(0,0,0,.1);background-color:hsla(0,0%,100%,.5);background-repeat:no-repeat}.rplayer_tray_volume{display:flex;align-items:center}@media only screen and (max-width:768px){.rplayer_tray_volume{display:none}}.rplayer_tray_volume_progress{position:relative;width:60px;margin-left:3px;margin-right:6px;padding:4px 0;cursor:pointer}.rplayer_tray_volume_progress:hover .rplayer_tray_volume_dot:after{transform:scale(1)}.rplayer_tray_volume_bar{background:hsla(0,0%,100%,.8)}.rplayer_tray_volume_bar_wrapper{position:relative;height:4px;border-radius:3px;background:hsla(0,0%,100%,.3);overflow:hidden}.rplayer_tray_volume_dot{top:0}.rplayer_tray_volume_dot:after{background:hsla(0,0%,100%,.8)}.rplayer_tray_time{font-size:13px;margin-left:8px;margin-right:auto;margin-top:-1px;text-shadow:0 0 2px rgba(0,0,0,.3);white-space:nowrap;letter-spacing:1px}.rplayer_tray_time :first-child:after{content:\\\"/\\\";display:inline-block;font-size:12px;margin:0 5px;transform:translateY(-.5px)}.rplayer_caption{position:absolute;left:50%;bottom:60px;max-width:90%;padding:2px 5px;font-size:22px;color:#fff;background:rgba(8,8,8,.75);opacity:0;transform:translateX(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;cursor:default;word-break:break-all;z-index:1}.rplayer_caption-active{opacity:1}.rplayer_setting-active{background:#448aff!important;background:var(--rplayer-primary)!important}.rplayer_setting-active .rplayer_tray_icon{transform:rotate(90deg)}.rplayer_setting-active .rplayer_tray_tip{opacity:0!important}.rplayer_setting_item{display:flex;align-items:center;padding:8px 20px;justify-content:space-between}.rplayer_setting_item-nobg:hover{background:transparent!important}.rplayer_setting_item:hover{background:hsla(0,0%,100%,.2)}.rplayer_setting_item :first-child{padding-right:50px;margin-right:auto}.rplayer_setting_menu{will-change:width,height}.rplayer_setting_menu_page .rplayer_setting_menu_page_back{justify-content:flex-start;border-bottom:1px solid hsla(0,0%,100%,.2)}.rplayer_setting_menu_page .rplayer_setting_menu_page_back:before{content:\\\"\\\";display:block;width:0;height:0;margin-right:21px;border:4px solid transparent;border-right-color:#fff}.rplayer_setting_menu_select:after{content:\\\"\\\";display:block;width:0;height:0;margin-left:10px;border:4px solid transparent;border-left-color:#fff}.rplayer_setting_select_opt{position:relative;justify-content:flex-start}.rplayer_setting_select_opt:before{content:\\\"\\\";display:block;opacity:0;height:5px;width:12px;border-color:transparent transparent #fff #fff;border-style:solid;border-width:1px;margin-right:15px;margin-top:-5px;transform:rotate(-45deg)}.rplayer_setting_select_opt-active:before{opacity:1}.rplayer_checkbox{position:relative;display:inline-flex;align-items:center;font-size:12px;color:#fff;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .2s ease}.rplayer_checkbox:before{content:\\\"\\\";display:block;width:1em;height:1em;border:1px solid;border-radius:2px;margin-right:5px;transition:background .2s ease}.rplayer_checkbox:after{content:\\\"\\\";position:absolute;opacity:0;left:.5em;top:50%;width:4px;height:7px;border:1px solid #fff;border-top:0;border-left:0;transform:translate(-30%,-70%) rotate(45deg)}.rplayer_checkbox:hover{color:#67cd67;color:var(--rplayer-primary)}.rplayer_checkbox-active:before{background:#67cd67;background:var(--rplayer-primary);border-color:#67cd67;border-color:var(--rplayer-primary)}.rplayer_checkbox-active:after{opacity:1}.rplayer_pop{position:absolute;bottom:100%;right:0;border-radius:3px;margin-bottom:15px;font-size:14px;background:rgba(0,0,0,.7);white-space:nowrap;opacity:0;transform:translateY(10px);z-index:2;box-shadow:0 1px 20px 1px rgba(0,0,0,.2);pointer-events:none;transition:opacity .2s ease,transform .2s ease,height .2s cubic-bezier(.4,0,.2,1),width .2s cubic-bezier(.4,0,.2,1);overflow:hidden}.rplayer_pop-active{opacity:1;transform:translateY(0);pointer-events:auto}.rplayer .rplayer_tray{position:relative;display:inline-block;padding:7px;border-radius:3px;transition:background .3s ease;font-size:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer .rplayer_tray:hover{background:#448aff;background:var(--rplayer-primary)}.rplayer .rplayer_tray-nobg:hover{background:transparent!important}.rplayer .rplayer_tray-disable .rplayer_tray_icon{opacity:.5}.rplayer .rplayer_tray:hover .rplayer_tray_tip{opacity:1;transform:translate(-50%)}.rplayer .rplayer_tray:hover .rplayer_tray_tip-l,.rplayer .rplayer_tray:hover .rplayer_tray_tip-r{transform:translate(0)}.rplayer .rplayer_tray_icon{display:inline-block;transition:transform .2s ease}.rplayer .rplayer_tray_tip{position:absolute;left:50%;bottom:100%;font-size:12px;margin-bottom:15px;padding:5px 10px;border-radius:3px;white-space:nowrap;background:rgba(0,0,0,.7);transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;pointer-events:none;opacity:0;transition:transform .2s ease .1s,opacity .2s ease .1s}.rplayer .rplayer_tray_tip-l{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.rplayer .rplayer_tray_tip-r{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.rplayer_switch{display:inline-block;width:36px;padding:2px;border-radius:12px;background:hsla(0,0%,100%,.3);transition:background-color .3s cubic-bezier(.4,0,.2,1);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer_switch:after{content:\\\"\\\";display:block;width:20px;height:20px;border-radius:50%;background:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);transition:transform .15s cubic-bezier(.4,0,.2,1)}.rplayer_switch-small{width:30px!important;border-radius:10px!important}.rplayer_switch-small:after{width:15px!important;height:15px!important}.rplayer_switch-active{background:#67cd67;background:var(--rplayer-switch)}.rplayer_switch-active:after{transform:translateX(16px)}.rplayer_slider{display:inline-block;flex:1;position:relative;padding:5px 0;font-size:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer_slider_wrap{height:4px;background:hsla(0,0%,100%,.8)}.rplayer_slider_bar{height:100%;transform-origin:0 0}.rplayer_slider_bar,.rplayer_slider_dot{background:#fff;background:var(--rplayer-primary)}.rplayer_slider_dot,.rplayer_slider_stop,.rplayer_slider_tip{position:absolute;pointer-events:none}.rplayer_slider_tip{top:-150%;padding:1px 3px;border-radius:3px;color:#fff;background:rgba(0,0,0,.5);opacity:0;transform:scale(.8) translateY(8px) translateX(-50%);transform-origin:0;transition:transform .2s ease .1s,opacity .2s ease .1s}.rplayer_slider_stop{top:-100%;color:hsla(0,0%,100%,.8);text-shadow:#000 1px 1px 2px,#000 0 0 1px;transform:translateX(-50%)}.rplayer_slider_stop:after{content:\\\"\\\";position:absolute;top:100%;left:50%;width:3px;height:60%;background:currentColor;box-shadow:0 0 3px rgba(0,0,0,.2)}.rplayer_slider_dot{top:50%;width:10px;height:10px;border-radius:50%;transform:translate(-50%,-50%)}.rplayer_slider:hover .rplayer_slider_tip{transform:scale(1) translateY(0) translateX(-50%);opacity:1}@-webkit-keyframes rplayer-loading{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes rplayer-loading{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","type Fn = (ev: PointerEvent) => any;\n\nexport default class Drag {\n  private readonly dom: HTMLElement;\n  private readonly start: Fn;\n  private readonly move: Fn;\n  private readonly end: Fn;\n  private pending = false;\n  private lastEv: PointerEvent;\n\n  constructor(dom: HTMLElement, start: Fn, move: Fn, end?: Fn) {\n    this.dom = dom;\n    this.start = start;\n    this.move = move;\n    this.end = end;\n\n    dom.addEventListener('pointerdown', this.downHandler, true);\n    dom.addEventListener('pointerup', this.upHandler, true);\n    dom.addEventListener('pointercancel', this.upHandler, true);\n  }\n\n  private downHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.dom.setPointerCapture(ev.pointerId);\n    this.dom.addEventListener('pointermove', this.moveHandler, true);\n    this.start(ev);\n  };\n\n  private moveHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.lastEv = ev;\n    if (this.pending) return;\n    this.pending = true;\n    requestAnimationFrame(this.handlerMove);\n  };\n\n  private handlerMove = (): void => {\n    this.move(this.lastEv);\n    this.pending = false;\n  };\n\n  private upHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.dom.releasePointerCapture(ev.pointerId);\n    this.dom.removeEventListener('pointermove', this.moveHandler, true);\n\n    if (this.end) this.end(ev);\n  };\n\n  destroy(): void {\n    this.dom.removeEventListener('pointerdown', this.downHandler, true);\n    this.dom.removeEventListener('pointerup', this.upHandler, true);\n    this.dom.removeEventListener('pointercancel', this.upHandler, true);\n    this.dom.removeEventListener('pointermove', this.moveHandler, true);\n  }\n}\n","export { default as Drag } from './drag';\n\nexport function noop(): void {}\n\nexport function clamp(n: number, lower = 0, upper = 1): number {\n  return Math.max(Math.min(n, upper), lower);\n}\n\nexport function isStr(o: any): o is string {\n  return typeof o === 'string';\n}\n\nexport function isNum(o: any): o is number {\n  return typeof o === 'number' && !isNaN(o);\n}\n\nexport function isFn(o: any): o is Function {\n  return typeof o === 'function';\n}\n\nexport function isObj(o: any): o is Record<string, any> {\n  return typeof o === 'object' && o != null;\n}\n\nexport function isElement(o: any): o is Element {\n  return o instanceof Element;\n}\n\nexport function isBool(o: any): o is boolean {\n  return typeof o === 'boolean';\n}\n\nexport function isCatchable(o: any): o is { catch: Function } {\n  return isObj(o) && isFn(o.catch);\n}\n\nexport function clampNeg(n: number, max: number, defaults = max): number {\n  if (n == null) return defaults;\n  if (n >= 0) return Math.min(n, max);\n\n  while (n < 0) {\n    n += max;\n  }\n\n  return n + 1;\n}\n\nexport function findIndex<T>(\n  arr: T[],\n  predicate: (value: T, index: number, obj: T[]) => boolean\n): number {\n  if (arr.findIndex) return arr.findIndex(predicate);\n\n  for (let i = 0, l = arr.length; i < l; i++) {\n    if (predicate(arr[i], i, arr)) return i;\n  }\n\n  return -1;\n}\n\nexport function getDomOr<T extends HTMLElement>(\n  dom: HTMLElement | string,\n  orReturn?: (() => T) | T\n): T {\n  let ret: T = dom as T;\n  if (typeof dom === 'string') ret = document.querySelector(dom);\n  return ret || (isFn(orReturn) ? orReturn() : orReturn);\n}\n\nexport function htmlDom(\n  html = '',\n  tag = 'span',\n  className?: string\n): HTMLElement {\n  const d = document.createElement(tag);\n  d.innerHTML = html;\n  if (className) d.classList.add(className);\n  return d;\n}\n\nexport function measureElementSize(\n  dom: HTMLElement\n): { width: number; height: number } {\n  const clone = dom.cloneNode(true) as HTMLElement;\n  clone.style.position = 'absolute';\n  clone.style.opacity = '0';\n  clone.removeAttribute('hidden');\n\n  dom.parentNode.appendChild(clone);\n\n  const width = clone.scrollWidth;\n  const height = clone.scrollHeight;\n\n  dom.parentNode.removeChild(clone);\n\n  return { width, height };\n}\n\nexport function newElement<T extends HTMLElement>(\n  className?: string,\n  tag: keyof HTMLElementTagNameMap = 'div'\n): T {\n  const dom = document.createElement(tag) as T;\n  if (className) dom.classList.add(className);\n  return dom;\n}\n\nconst domParser = new DOMParser();\nexport function strToDom(\n  str: string,\n  type: SupportedType = 'image/svg+xml'\n): HTMLElement {\n  return domParser.parseFromString(str, type).firstChild as HTMLElement;\n}\n\nexport function svgToDom(str: string, className?: string): HTMLElement {\n  const dom = strToDom(str);\n  if (className) {\n    if (dom.classList) {\n      dom.classList.add(className);\n    } else {\n      dom.setAttribute('class', className);\n    }\n  }\n  return dom;\n}\n\nexport function padStart(v: string | number, len = 2, str = '0'): string {\n  v = String(v);\n  if (v.length >= 2) return v;\n\n  for (let i = 0, l = len - v.length; i < l; i++) {\n    v = str + v;\n  }\n\n  return v;\n}\n\nexport function formatTime(seconds: number): string {\n  if (!seconds || seconds < 0) return '0:00';\n\n  seconds = Math.round(seconds);\n  if (seconds < 60) return `0:${padStart(seconds)}`;\n  if (seconds < 3600) {\n    return `${Math.floor(seconds / 60)}:${padStart(seconds % 60)}`;\n  }\n\n  return `${Math.floor(seconds / 3600)}:${padStart(\n    Math.floor((seconds % 3600) / 60)\n  )}:${padStart(seconds % 60)}`;\n}\n\nexport const ua = {\n  isEdge: window.navigator.userAgent.indexOf('Edge') > -1,\n  isIos: /(iPad|iPhone|iPod)/gi.test(navigator.platform),\n  isIE: /MSIE|Trident/.test(navigator.userAgent),\n};\n\nexport const makeDictionary = <T>(obj: T): T => {\n  (obj as any).__ = undefined;\n  delete (obj as any).__;\n  return obj;\n};\n\nexport const getClientWH = (): [number, number] => {\n  return [document.body.clientWidth, document.body.clientHeight];\n};\n\nexport const safeJsonParse = <T extends Record<string, any>>(\n  str: string,\n  orRet?: T\n): T | string => {\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    return orRet || str;\n  }\n};\n\nexport const safeJsonStringify = (\n  obj: Record<string, any>,\n  orRet = ''\n): string => {\n  try {\n    return JSON.stringify(obj);\n  } catch (e) {\n    return orRet;\n  }\n};\n\nexport const getDeep = <T>(object: Record<string, any>, path: string): T => {\n  return path.split('.').reduce((obj, key) => obj && obj[key], object);\n};\n\nexport const extend = (\n  target: Record<string, any> = {},\n  source: Record<string, any>\n): Record<string, any> => {\n  if (!source) return target;\n\n  Object.keys(source).forEach((key) => {\n    if (isObj(source[key]) && !Array.isArray(source[key])) {\n      if (Object.keys(target).indexOf(key) < 0) {\n        target = { ...target, [key]: {} };\n      }\n      target[key] = extend(target[key], source[key]);\n    } else {\n      target = { ...target, [key]: source[key] };\n    }\n  });\n\n  return target;\n};\n\nexport const ajax = (\n  url: string,\n  cb: (err: any, data?: string) => any\n): void => {\n  const xhr = new XMLHttpRequest();\n  xhr.onreadystatechange = function (): void {\n    if (xhr.readyState == 4) {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        cb(null, xhr.responseText);\n      } else {\n        cb({});\n      }\n    }\n  };\n  xhr.onerror = (err): void => cb(err);\n  xhr.open('GET', url, true);\n  xhr.send();\n};\n","import { EventEmitter } from 'eventemitter3';\nimport RPlayer from './rplayer';\nimport { isFn, isStr } from './utils';\n\nexport default class EventHandler extends EventEmitter {\n  protected readonly player: RPlayer;\n\n  constructor(player?: RPlayer, events?: string[]) {\n    super();\n\n    if (player && !isStr(player)) {\n      this.player = player;\n\n      if (events) {\n        events.forEach((evName) => {\n          const fnName = 'on' + evName;\n          if (isFn((this as any)[fnName])) {\n            player.on(evName, (this as any)[fnName].bind(this));\n          }\n        });\n      }\n    }\n  }\n}\n","enum Events {\n  BEFORE_MOUNT = 'BeforeMount',\n  MOUNTED = 'Mounted',\n  CONTROLS_SHOW = 'ControlsShow',\n  CONTROLS_HIDE = 'ControlsHide',\n  ENTER_FULLSCREEN = 'EnterFullscreen',\n  EXIT_FULLSCREEN = 'ExitFullscreen',\n  DURATION_CHANGE = 'DurationChange',\n  TIME_UPDATE = 'TimeUpdate',\n  VOLUME_CHANGE = 'VolumeChange',\n  LOADED_METADATA = 'LoadedMetadata',\n  RATE_CHANGE = 'RateChange',\n  PLAY = 'Play',\n  PAUSE = 'Pause',\n  ENDED = 'Ended',\n  PROGRESS = 'Progress',\n  CANPLAY = 'Canplay',\n  WAITING = 'Waiting',\n  PLAYING = 'Playing',\n  STALLED = 'Stalled',\n  ERROR = 'Error',\n  SEEKED = 'Seeked',\n  BREAK_POINT_CHANGE = 'BreakPointChange',\n  CLICK_CONTROL_MASK = 'ClickControlMask',\n  CLICK_OUTSIDE = 'ClickOutside',\n  PLAYER_CLICK = 'PlayerClick',\n  PLAYER_CONTEXT_MENU = 'PlayerContextMenu',\n  PLAYER_DBLCLICK = 'PlayerDblclick',\n  PLAYER_MOUSE_MOVE = 'PlayerMouseMove',\n  PLAYER_MOUSE_LEAVE = 'PlayerMouseLeave',\n  PLAYER_RESIZE = 'PlayerResize',\n  SETTING_SELECTED = 'SettingSelected',\n  LOADING_SHOW = 'LoadingShow',\n  LOADING_HIDE = 'LoadingHide',\n}\n\nexport default Events;\n","import EventHandler from './event-handler';\nimport Events from './events';\nimport RPlayer from './rplayer';\nimport { isStr, newElement } from './utils';\n\nexport interface ComponentOptions {\n  player?: RPlayer;\n  dom?: keyof HTMLElementTagNameMap | HTMLElement;\n  events?: string[];\n  autoUpdateRect?: boolean;\n  className?: string;\n}\n\nexport default class Component extends EventHandler {\n  protected _rect: DOMRect;\n  readonly dom: HTMLElement;\n\n  constructor(\n    player?: RPlayer,\n    {\n      dom = 'div',\n      events,\n      autoUpdateRect = false,\n      className,\n    }: ComponentOptions = {}\n  ) {\n    super(player, events);\n\n    this.dom = isStr(dom) ? newElement('', dom) : dom;\n\n    if (className) this.addClass(className);\n\n    if (player && autoUpdateRect) {\n      this.autoUpdateRect();\n    }\n  }\n\n  get rect(): DOMRect {\n    if (this._rect) return this._rect;\n    this._rect = this.dom.getBoundingClientRect();\n    return this._rect;\n  }\n\n  get text(): string {\n    return this.dom.innerText;\n  }\n\n  set text(text: string) {\n    this.dom.innerText = text;\n  }\n\n  get html(): string {\n    return this.dom.innerHTML;\n  }\n\n  set html(html: string) {\n    this.dom.innerHTML = html;\n  }\n\n  private _resizeHandler = (): void => {\n    this.updateRect();\n  };\n\n  autoUpdateRect(player = this.player): void {\n    player.on(Events.PLAYER_RESIZE, this._resizeHandler);\n  }\n\n  updateRect = (): void => {\n    this._rect = this.dom.getBoundingClientRect();\n  };\n\n  addStyle(style: Partial<CSSStyleDeclaration> | string): void {\n    if (isStr(style)) {\n      this.dom.style.cssText = style;\n    } else {\n      Object.keys(style).forEach((k) => {\n        this.dom.style[k as any] = style[k as any];\n      });\n    }\n  }\n\n  appendChild(d: Node | Component): void {\n    this.dom.appendChild(Component.isComponent(d) ? d.dom : d);\n  }\n\n  insert(d: Node | Component, pos?: number): void {\n    this.dom.insertBefore(\n      Component.isComponent(d) ? d.dom : d,\n      this.dom.children[pos]\n    );\n  }\n\n  removeChild(d: Node | Component): void {\n    this.dom.removeChild(Component.isComponent(d) ? d.dom : d);\n  }\n\n  addClass(cls: string): void {\n    cls.split(' ').forEach((c) => {\n      this.dom.classList.add(c);\n    });\n  }\n\n  containsClass(cls: string): boolean {\n    return this.dom.classList.contains(cls);\n  }\n\n  toggleClass(cls: string, force?: boolean): void {\n    this.dom.classList.toggle(cls, force);\n  }\n\n  removeClass(cls: string): void {\n    this.dom.classList.remove(cls);\n  }\n\n  appendTo(d: Node | Component): void {\n    d.appendChild(this.dom);\n  }\n\n  removeFrom(d: Node | Component): void {\n    d.removeChild(this.dom);\n  }\n\n  removeFromParent(): void {\n    this.dom.parentNode.removeChild(this.dom);\n  }\n\n  hidden(): void {\n    this.dom.hidden = true;\n  }\n\n  visible(): void {\n    this.dom.hidden = false;\n  }\n\n  canFocus(): void {\n    this.dom.setAttribute('tabindex', '0');\n  }\n\n  static isComponent(obj: unknown): obj is Component {\n    return obj instanceof Component;\n  }\n}\n","import Component from '../component';\nimport {\n  CTRL_MENU,\n  CTRL_MENU_ITEM,\n  CTRL_MENU_ITEM_CHECKED,\n  CTRL_MENU_ITEM_I,\n} from '../config/classname';\nimport Events from '../events';\nimport RPlayer from '../rplayer';\nimport {\n  getClientWH,\n  htmlDom,\n  isElement,\n  isFn,\n  newElement,\n  clampNeg,\n} from '../utils';\n\nexport interface ContextMenuItem {\n  icon?: string | Element;\n  label?: string | Element;\n  checked?: boolean;\n  onClick?: (checked: boolean, update: () => void, ev: MouseEvent) => any;\n}\n\nexport interface ContextMenuOpts {\n  toggle?: boolean;\n  enable?: boolean;\n  items?: ContextMenuItem[];\n}\n\nexport class MenuItem {\n  readonly dom: HTMLElement;\n  private checked = false;\n  private readonly cb: ContextMenuItem['onClick'];\n\n  constructor(item: ContextMenuItem) {\n    this.dom = newElement(CTRL_MENU_ITEM);\n    const i = isElement(item.icon) ? item.icon : htmlDom(item.icon);\n    i.classList.add(CTRL_MENU_ITEM_I);\n    this.dom.appendChild(i);\n    this.dom.appendChild(\n      isElement(item.label) ? item.label : htmlDom(item.label)\n    );\n\n    this.checked = !!item.checked;\n    this.update();\n\n    if (isFn(item.onClick)) {\n      this.cb = item.onClick;\n      this.dom.addEventListener('click', this.clickHandler, true);\n    }\n  }\n\n  private next = (): void => {\n    this.checked = !this.checked;\n    this.update();\n  };\n\n  update(): void {\n    if (this.checked) {\n      this.dom.classList.add(CTRL_MENU_ITEM_CHECKED);\n    } else {\n      this.dom.classList.remove(CTRL_MENU_ITEM_CHECKED);\n    }\n  }\n\n  clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    this.cb(!this.checked, this.next, ev);\n  };\n}\n\nexport default class ContextMenu extends Component {\n  private showed = false;\n  private enable: boolean;\n  private toggle: boolean;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [\n        Events.PLAYER_CONTEXT_MENU,\n        Events.CLICK_OUTSIDE,\n        Events.CLICK_CONTROL_MASK,\n      ],\n      className: CTRL_MENU,\n    });\n\n    const opts = this.player.options.contextMenu;\n    this.enable = opts.enable;\n    this.toggle = opts.toggle;\n\n    this.hidden();\n    this.showed = !this.enable;\n    opts.items.forEach((item) => {\n      this.appendChild(new MenuItem(item).dom);\n    });\n\n    this.dom.addEventListener('click', this.clickHandler);\n  }\n\n  hide(): void {\n    this.player.controls.mask.hide();\n    this.hidden();\n  }\n\n  show(): void {\n    this.player.controls.mask.show();\n    this.visible();\n  }\n\n  clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.showed = false;\n    this.hide();\n  };\n\n  addItem(opts: ContextMenuItem, pos?: number): MenuItem {\n    const item = new MenuItem(opts);\n    this.dom.insertBefore(\n      item.dom,\n      this.dom.children[clampNeg(pos, this.dom.children.length)]\n    );\n    return item;\n  }\n\n  onPlayerContextMenu(ev: MouseEvent): void {\n    if (!this.showed || !this.toggle) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    if (!this.enable) return;\n\n    if (this.showed && this.toggle) {\n      this.showed = false;\n      this.hide();\n    } else {\n      this.show();\n      const { width, height } = this.rect;\n      const { left, top } = this.player.rect;\n      const [w, h] = getClientWH();\n\n      let l = ev.pageX - left;\n      let t = ev.pageY - top;\n      if (ev.pageX + width > w) l = w - width;\n      if (ev.pageY + height > h) t = h - height;\n\n      this.addStyle({\n        left: l + 'px',\n        top: t + 'px',\n      });\n      this.showed = true;\n    }\n  }\n\n  onClickOutside(): void {\n    this.hide();\n    this.showed = false;\n  }\n\n  onClickControlMask(): void {\n    this.hide();\n  }\n}\n","export const BP: Record<string, string> = {\n  BREAKPOINT_WIDESCREEN: '(min-width: 1216px)',\n  BREAKPOINT_DESKTOP: '(max-width: 1215px) and (min-width: 1024px)',\n  BREAKPOINT_TABLET: '(max-width: 1023px) and (min-width: 769px)',\n  BREAKPOINT_PHONE: '(max-width: 768px)',\n};\n","export const PLAYER = 'rplayer';\nexport const PREFIX = PLAYER + '_';\nexport const ACTIVE = '-active';\n\nexport const PAUSED = PLAYER + '-paused';\nexport const LOADING = PLAYER + '-loading';\nexport const PLAYER_LOADING = PREFIX + 'loading';\nexport const FULL = PLAYER + '-full';\nexport const CTRL = PREFIX + 'ctrl';\nexport const CTRL_MASK = CTRL + '_mask';\nexport const CTRL_HIDE = CTRL + '-hide';\nexport const CTRL_BOTTOM = CTRL + '_bottom';\nexport const CTRL_BOTTOM_MASK = CTRL_BOTTOM + '_mask';\nexport const CTRL_TRAYS = CTRL_BOTTOM + '_trays';\n\nexport const CTRL_MENU = CTRL + '_menu';\nexport const CTRL_MENU_ITEM = CTRL_MENU + '_item';\nexport const CTRL_MENU_ITEM_I = CTRL_MENU_ITEM + '_i';\nexport const CTRL_MENU_ITEM_CHECKED = CTRL_MENU_ITEM + '-checked';\n\nexport const THUMB = PREFIX + 'thumb';\nexport const THUMB_TIME = THUMB + '_time';\nexport const THUMB_IMG = THUMB + '_img';\n\nexport const PROGRESS = PREFIX + 'progress';\nexport const PROGRESS_WRAPPER = PROGRESS + '_bar_wrapper';\nexport const PROGRESS_BUF = PROGRESS + '_buf';\nexport const PROGRESS_HOVER = PROGRESS + '_hover';\nexport const PROGRESS_PLAYED = PROGRESS + '_played';\nexport const PROGRESS_PAD = PROGRESS + '_pad';\nexport const PROGRESS_DOT = PROGRESS + '_dot';\n\nexport const TRAY = PREFIX + 'tray';\nexport const TRAY_TIME = TRAY + '_time';\nexport const TRAY_VOLUME = TRAY + '_volume';\nexport const TRAY_VOLUME_PROGRESS = TRAY_VOLUME + '_progress';\nexport const TRAY_VOLUME_BAR = TRAY_VOLUME + '_bar';\nexport const TRAY_VOLUME_DOT = TRAY_VOLUME + '_dot';\nexport const TRAY_VOLUME_I_MUTED = TRAY_VOLUME + '_i-muted';\nexport const TRAY_VOLUME_BAR_WRAPPER = TRAY_VOLUME + '_bar_wrapper';\n\nexport const SETTING = PREFIX + 'setting';\nexport const SETTING_ACTIVE = SETTING + ACTIVE;\nexport const SETTING_SELECT_OPT = SETTING + '_select_opt';\nexport const SETTING_SELECT_OPT_ACTIVE = SETTING_SELECT_OPT + ACTIVE;\nexport const SETTING_MENU = SETTING + '_menu';\nexport const SETTING_ITEM = SETTING + '_item';\nexport const SETTING_MENU_PAGE = SETTING_MENU + '_page';\nexport const SETTING_MENU_BACK = SETTING_MENU_PAGE + '_back';\nexport const SETTING_MENU_SELECT = SETTING_MENU + '_select';\n\nexport const SWITCH = PREFIX + 'switch';\nexport const SWITCH_ACTIVE = SWITCH + ACTIVE;\n\nexport const CAPTION = PREFIX + 'caption';\nexport const CAPTION_ACTIVE = CAPTION + ACTIVE;\nexport const BAR = PLAYER + '_bar';\nexport const DOT = PLAYER + '_dot';\n","import { CTRL_MASK } from '../config/classname';\nimport Events from '../events';\nimport RPlayer from '../rplayer';\nimport { newElement } from '../utils';\n\nexport default class Mask {\n  private readonly player: RPlayer;\n  readonly dom: HTMLElement;\n\n  constructor(player: RPlayer) {\n    this.player = player;\n    this.dom = newElement(CTRL_MASK);\n    this.dom.addEventListener('click', this.clickHandler);\n    this.hide();\n  }\n\n  get isActive(): boolean {\n    return !this.dom.hidden;\n  }\n\n  private clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.player.emit(Events.CLICK_CONTROL_MASK);\n  };\n\n  show(): void {\n    this.dom.hidden = false;\n  }\n\n  hide(): void {\n    this.dom.hidden = true;\n  }\n}\n","import { BAR } from '../config/classname';\nimport { clamp, newElement } from '../utils';\n\nexport default class Bar {\n  readonly dom: HTMLElement;\n\n  constructor(className?: string) {\n    this.dom = newElement(BAR);\n    if (className) this.dom.classList.add(className);\n  }\n\n  setX(x: number): void {\n    this.dom.style.transform = `scaleX(${clamp(x)})`;\n  }\n}\n","import { DOT } from '../config/classname';\nimport { newElement } from '../utils';\n\nexport default class Dot {\n  readonly dom: HTMLElement;\n\n  constructor(className?: string) {\n    this.dom = newElement(DOT);\n    if (className) this.dom.classList.add(className);\n  }\n\n  setX(x: number): void {\n    this.dom.style.transform = `translateX(${x}px)`;\n  }\n}\n","import Component from '../component';\nimport { THUMB, THUMB_IMG, THUMB_TIME } from '../config/classname';\nimport RPlayer from '../rplayer';\nimport { clamp, formatTime, newElement } from '../utils';\nimport ProgressBar from './progress-bar';\n\nexport interface ThumbnailImgBg {\n  x: number;\n  y: number;\n  url: string;\n}\n\nexport interface ThumbnailOpts {\n  startTime?: number;\n  gapSec?: number;\n  col?: number;\n  row?: number;\n  width?: number;\n  height?: number;\n  images?: string[];\n  handler?: (seconds: number) => ThumbnailImgBg;\n}\n\nexport default class Thumbnail extends Component {\n  private readonly progressBar: ProgressBar;\n  private readonly time: HTMLElement;\n  private readonly img: HTMLElement;\n  private readonly opts: ThumbnailOpts;\n  private readonly enableImg: boolean;\n\n  private halfImgWidth: number;\n  private thumbNumPerImg: number;\n  private ssGapRatio: number;\n\n  constructor(player: RPlayer, progressBar: ProgressBar) {\n    super(player, { className: THUMB });\n\n    this.opts = player.options.thumbnail;\n    this.enableImg = !!this.opts.images.length || !!this.opts.handler;\n\n    if (this.enableImg) {\n      this.halfImgWidth = this.opts.width / 2;\n      this.thumbNumPerImg = this.opts.col * this.opts.row;\n      this.ssGapRatio = this.opts.startTime / this.opts.gapSec;\n    }\n\n    this.progressBar = progressBar;\n    this.time = newElement(THUMB_TIME);\n    this.img = newElement(THUMB_IMG);\n\n    if (this.enableImg) {\n      this.img.style.width = this.opts.width + 'px';\n      this.img.style.height = this.opts.height + 'px';\n      this.appendChild(this.img);\n    }\n    this.appendChild(this.time);\n  }\n\n  private getCurBg(seconds: number): ThumbnailImgBg {\n    if (this.opts.handler) return this.opts.handler(seconds);\n\n    const i = Math.max(seconds / this.opts.gapSec - this.ssGapRatio, 0) | 0;\n    const url = this.opts.images[(i / this.thumbNumPerImg) | 0];\n\n    if (!url) return;\n\n    const x = (i % this.opts.col) * this.opts.width;\n    const y = ~~((i % this.thumbNumPerImg) / this.opts.row) * this.opts.height;\n\n    return { url, x, y };\n  }\n\n  update(left: number, seconds: number): void {\n    this.time.innerText = formatTime(seconds);\n\n    let half;\n    if (this.enableImg) {\n      half = this.halfImgWidth;\n      const b = this.getCurBg(seconds);\n      if (b && b.url) {\n        this.img.style.backgroundImage = `url(${b.url})`;\n        this.img.style.backgroundPosition = `-${b.x}px -${b.y}px`;\n      }\n    } else {\n      half = this.rect.width / 2;\n    }\n\n    this.addStyle({\n      left: `${clamp(left, half, this.progressBar.rect.width - half)}px`,\n    });\n  }\n}\n","import Component from '../component';\nimport {\n  PROGRESS,\n  PROGRESS_BUF,\n  PROGRESS_DOT,\n  PROGRESS_HOVER,\n  PROGRESS_PAD,\n  PROGRESS_PLAYED,\n  PROGRESS_WRAPPER,\n} from '../config/classname';\nimport Events from '../events';\nimport RPlayer from '../rplayer';\nimport { clamp, Drag, newElement } from '../utils';\nimport Bar from './bar';\nimport Dot from './dot';\nimport Thumbnail from './thumbnail';\n\nexport default class ProgressBar extends Component {\n  private readonly barWrapper: HTMLElement;\n  private readonly bufBar: Bar;\n  private readonly hoverBar: Bar;\n  private readonly playedBar: Bar;\n  private readonly dot: Dot;\n  private readonly thumbnail: Thumbnail;\n  private readonly drag: Drag;\n\n  private mouseMovePending = false;\n  private mouseMoveLastX = 0;\n  private dragging = false;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [Events.TIME_UPDATE, Events.PROGRESS, Events.CONTROLS_SHOW],\n      autoUpdateRect: true,\n      className: PROGRESS,\n    });\n\n    this.barWrapper = newElement(PROGRESS_WRAPPER);\n\n    const padBar = new Bar(PROGRESS_PAD);\n    this.bufBar = new Bar(PROGRESS_BUF);\n    this.hoverBar = new Bar(PROGRESS_HOVER);\n    this.playedBar = new Bar(PROGRESS_PLAYED);\n    this.dot = new Dot(PROGRESS_DOT);\n    this.thumbnail = new Thumbnail(player, this);\n\n    this.drag = new Drag(\n      padBar.dom,\n      this.dragStartHandler,\n      this.dragHandler,\n      this.dragEndHandler\n    );\n\n    padBar.dom.addEventListener('mousemove', this.mouseMoveHandler, true);\n\n    this.barWrapper.appendChild(this.bufBar.dom);\n    this.barWrapper.appendChild(this.hoverBar.dom);\n    this.barWrapper.appendChild(this.playedBar.dom);\n    this.barWrapper.appendChild(padBar.dom);\n    this.appendChild(this.barWrapper);\n    this.appendChild(this.dot.dom);\n    this.appendChild(this.thumbnail);\n  }\n\n  private calcCurrentTime(x: number): number {\n    return ((x - this.rect.left) / this.rect.width) * this.player.duration;\n  }\n\n  private dragStartHandler = (ev: PointerEvent): void => {\n    this.dragging = true;\n    this.dragHandler(ev);\n    this.player.controls.requireShow();\n  };\n\n  private dragHandler = (ev: PointerEvent): void => {\n    const x = ev.pageX - this.rect.left;\n    this.dot.setX(clamp(x, 0, this.rect.width));\n    this.playedBar.setX(x / this.rect.width);\n    this.mouseMoveLastX = ev.pageX;\n    this.updateThumbnail(x);\n  };\n\n  private dragEndHandler = (ev: PointerEvent): void => {\n    this.dragging = false;\n    this.player.seek(this.calcCurrentTime(ev.pageX));\n    this.player.controls.releaseShow();\n  };\n\n  private mouseMoveHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    this.mouseMoveLastX = ev.pageX;\n    if (this.mouseMovePending) return;\n    this.mouseMovePending = true;\n    requestAnimationFrame(this.updateHoverBarAndThumb);\n  };\n\n  /**\n   * @override\n   */\n  updateRect = (): void => {\n    this._rect = this.dom.getBoundingClientRect();\n    this.updatePlayedBar();\n  };\n\n  updatePlayedBar(): void {\n    if (this.player.controls.isHide) return;\n    const percentage = this.player.currentTime / this.player.duration;\n    this.dot.setX(this.rect.width * percentage);\n    this.playedBar.setX(percentage);\n  }\n\n  updateBufBar(): void {\n    if (this.player.controls.isHide) return;\n    const bufLen = this.player.buffered.length;\n\n    if (!bufLen) return this.bufBar.setX(0);\n\n    const curTime = this.player.currentTime;\n    let percentage = 0;\n\n    this.player.eachBuffer((start, end) => {\n      if (start <= curTime && end >= curTime) {\n        percentage = end / this.player.duration;\n        return true;\n      }\n    });\n\n    this.bufBar.setX(percentage);\n  }\n\n  updateHoverBarAndThumb = (): void => {\n    const left = this.mouseMoveLastX - this.rect.left;\n    this.updateHoverBar(left);\n    this.updateThumbnail(left);\n    this.mouseMovePending = false;\n  };\n\n  updateHoverBar(left: number): void {\n    this.hoverBar.setX(left / this.rect.width);\n  }\n\n  updateThumbnail(left: number): void {\n    this.thumbnail.update(left, this.calcCurrentTime(this.mouseMoveLastX));\n  }\n\n  onControlsShow(): void {\n    this.updatePlayedBar();\n    this.updateBufBar();\n  }\n\n  onTimeUpdate(): void {\n    if (this.dragging) return;\n    this.updatePlayedBar();\n  }\n\n  onProgress(): void {\n    this.updateBufBar();\n  }\n\n  destroy(): void {\n    this.drag.destroy();\n  }\n}\n","export interface Language {\n  addLang: (lang: string, data: Record<string, string>) => void;\n  fallback: () => void;\n  t: (key: string, lang: string) => string;\n  lang: { [key: string]: Record<string, string> };\n}\n\nexport const FULL_SCREEN = 'Fullscreen';\nexport const EXIT_FULL_SCREEN = 'Exit fullscreen';\nexport const SETTINGS = 'Settings';\nexport const PLAY = 'Play';\nexport const PAUSE = 'Pause';\nexport const MUTE = 'Mute';\nexport const UNMUTE = 'Unmute';\nexport const NORMAL = 'Normal';\nexport const SPEED = 'Speed';\nexport const CAPTIONS = 'Captions';\nexport const CLOSE = 'Close';\n\nconst language: Language = {\n  lang: {\n    'zh-CN': {\n      [FULL_SCREEN]: '',\n      [EXIT_FULL_SCREEN]: '',\n      [SETTINGS]: '',\n      [PLAY]: '',\n      [PAUSE]: '',\n      [MUTE]: '',\n      [UNMUTE]: '',\n      [NORMAL]: '',\n      [SPEED]: '',\n      [CAPTIONS]: '',\n      [CLOSE]: '',\n    },\n  },\n  addLang(lang: string, data: Record<string, string>): void {\n    this.lang[lang] = { ...this.lang[lang], ...data };\n    this.fallback();\n  },\n  fallback(): void {\n    Object.keys(this.lang).forEach((k) => {\n      this.lang[k.split('-')[0]] = this.lang[k];\n    });\n  },\n  t(key: string, lang: string): string {\n    const trans = this.lang[lang] || this.lang[lang.split('-')[0]];\n    return (trans && trans[key]) || key;\n  },\n} as Language;\n\nlanguage.fallback();\n\nexport default language;\n","import cc from '../icons/cc.svg';\nimport enterFullscreen from '../icons/enter-fullscreen.svg';\nimport exitFullscreen from '../icons/exit-fullscreen.svg';\nimport muted from '../icons/muted.svg';\nimport pause from '../icons/pause.svg';\nimport play from '../icons/play.svg';\nimport settings from '../icons/settings.svg';\nimport volume from '../icons/volume.svg';\nimport { svgToDom } from './utils';\n\nexport default {\n  play(cls?: string): Element {\n    return svgToDom(play, cls);\n  },\n  pause(cls?: string): Element {\n    return svgToDom(pause, cls);\n  },\n  enterFullscreen(cls?: string): Element {\n    return svgToDom(enterFullscreen, cls);\n  },\n  exitFullscreen(cls?: string): Element {\n    return svgToDom(exitFullscreen, cls);\n  },\n  volume(cls?: string): Element {\n    return svgToDom(volume, cls);\n  },\n  muted(cls?: string): Element {\n    return svgToDom(muted, cls);\n  },\n  settings(cls?: string): Element {\n    return svgToDom(settings, cls);\n  },\n  cc(cls?: string): Element {\n    return svgToDom(cc, cls);\n  },\n};\n","import { newElement, isStr, clamp, getDomOr } from '../utils';\n\nexport interface TrayOptions {\n  el?: string | HTMLElement;\n  label?: string;\n  labelPos?: 'left' | 'right';\n  icons?: (Element | string)[];\n  noHoverBg?: boolean;\n  onClick?: (i: number, ev: MouseEvent) => any;\n}\n\nexport default class Tray {\n  private static readonly disableCls = 'rplayer_tray-disable';\n  readonly dom: HTMLElement;\n  readonly tip: HTMLElement;\n  readonly icons: HTMLElement[] = [];\n  private index = 0;\n  private readonly onClick: TrayOptions['onClick'];\n\n  constructor(opts: TrayOptions = {}) {\n    this.dom = newElement('rplayer_tray');\n    this.tip = newElement('rplayer_tray_tip');\n    this.onClick = opts.onClick;\n\n    if (opts.label) {\n      this.tip.innerHTML = opts.label;\n    } else {\n      this.hideTip();\n    }\n\n    if (opts.labelPos === 'left') {\n      this.tip.classList.add('rplayer_tray_tip-l');\n    } else if (opts.labelPos === 'right') {\n      this.tip.classList.add('rplayer_tray_tip-r');\n    }\n\n    if (opts.noHoverBg) {\n      this.dom.classList.add('rplayer_tray-nobg');\n    }\n\n    this.dom.appendChild(this.tip);\n    if (Array.isArray(opts.icons)) {\n      opts.icons.forEach((icon) => {\n        const span = newElement('rplayer_tray_icon', 'span');\n        if (isStr(icon)) {\n          span.innerHTML = icon;\n        } else {\n          span.appendChild(icon);\n        }\n        this.icons.push(span);\n        this.dom.appendChild(span);\n      });\n    }\n\n    this.dom.addEventListener('click', this.clickHandler);\n\n    this.showIcon();\n\n    if (opts.el) this.mount(opts.el);\n  }\n\n  private clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    if (this.onClick) this.onClick(this.index, ev);\n  };\n\n  enable(): void {\n    this.dom.classList.remove(Tray.disableCls);\n  }\n\n  disable(): void {\n    this.dom.classList.add(Tray.disableCls);\n  }\n\n  changeTip(tip: string): void {\n    this.tip.innerHTML = tip;\n    this.showTip();\n  }\n\n  hideTip(): void {\n    this.tip.hidden = true;\n  }\n\n  showTip(): void {\n    this.tip.hidden = false;\n  }\n\n  showIcon(i = 0): void {\n    i = clamp(i, 0, this.icons.length - 1);\n    this.icons.forEach((icon) => {\n      icon.hidden = true;\n    });\n    this.icons[i].hidden = false;\n    this.index = i;\n  }\n\n  mount(el?: string | HTMLElement): void {\n    getDomOr(el, document.body).appendChild(this.dom);\n  }\n\n  destroy(): void {\n    this.dom.removeEventListener('click', this.clickHandler);\n    if (this.dom.parentNode) {\n      this.dom.parentNode.removeChild(this.dom);\n    }\n  }\n}\n","import {\n  SETTING_ITEM,\n  SETTING_MENU_SELECT,\n  SETTING_SELECT_OPT,\n  SETTING_SELECT_OPT_ACTIVE,\n} from '../../config/classname';\nimport { isFn, newElement } from '../../utils';\nimport SettingItem from './item';\nimport RPlayer from '../..';\nimport Events from '../../events';\n\nexport interface SelectOption {\n  label: string;\n  selectedLabel?: string;\n  [key: string]: any;\n}\n\nexport interface SelectChangeFn {\n  (o: SelectOption, update: () => void): any;\n}\n\nexport interface SelectOptions {\n  label: string;\n  options: SelectOption[];\n  checked?: number;\n  init?: (select: Select) => any;\n  onChange?: SelectChangeFn;\n}\n\nexport default class Select extends SettingItem {\n  private readonly player: RPlayer;\n  private prevSelect: HTMLElement;\n  value = -1;\n  readonly dom = newElement();\n  readonly opts: SelectOptions;\n  private readonly options: HTMLElement[];\n\n  private readonly entryClickCb: (select: Select) => any;\n\n  constructor(\n    player: RPlayer,\n    opts: SelectOptions,\n    entryClickCb?: (select: Select) => any\n  ) {\n    super(opts.label);\n    this.player = player;\n    this.opts = opts;\n    this.entryClickCb = entryClickCb;\n\n    this.entry.classList.add(SETTING_MENU_SELECT);\n\n    this.options = opts.options.map((o, i) => {\n      const div = newElement(SETTING_ITEM);\n      div.classList.add(SETTING_SELECT_OPT);\n      div.innerHTML = o.label;\n      div.addEventListener('click', this.optionClickHandler(i), true);\n      return div;\n    });\n    this.options.forEach((o) => this.dom.appendChild(o));\n\n    this.value = opts.checked || 0;\n    this.select(this.value);\n\n    if (opts.init) opts.init(this);\n  }\n\n  private optionClickHandler = (i: number) => (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    if (this.value === i) return;\n    if (isFn(this.opts.onChange)) {\n      this.opts.onChange(this.opts.options[i], this.select.bind(this, i));\n    } else {\n      this.select(i);\n    }\n  };\n\n  select(index: number, orLabel?: string): void {\n    const opt = this.options[index];\n    if (this.prevSelect) {\n      this.prevSelect.classList.remove(SETTING_SELECT_OPT_ACTIVE);\n      this.prevSelect = null;\n    }\n    this.value = index;\n\n    if (!opt) {\n      if (orLabel) this.entryValue.innerHTML = orLabel;\n      return;\n    }\n\n    const select = this.opts.options[index];\n    this.entryValue.innerHTML = select.selectedLabel || select.label;\n    opt.classList.add(SETTING_SELECT_OPT_ACTIVE);\n    this.prevSelect = opt;\n\n    this.player.emit(Events.SETTING_SELECTED, opt);\n  }\n\n  onEntryClick(): void {\n    if (isFn(this.entryClickCb)) this.entryClickCb(this);\n  }\n}\n","import { SETTING_ITEM } from '../../config/classname';\nimport { htmlDom, newElement } from '../../utils';\n\nexport default abstract class SettingItem {\n  entry: HTMLElement;\n  protected entryLabel: HTMLElement;\n  protected entryValue: HTMLElement;\n\n  constructor(label: string) {\n    this.entry = newElement(SETTING_ITEM);\n    this.entryLabel = htmlDom(label);\n    this.entryValue = newElement('', 'span');\n    this.entry.appendChild(this.entryLabel);\n    this.entry.appendChild(this.entryValue);\n    this.entry.addEventListener('click', this.entryClickHandler, true);\n  }\n\n  private entryClickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.onEntryClick(ev);\n  };\n\n  abstract onEntryClick(ev: MouseEvent): void;\n}\n","import { newElement, isStr } from '../../utils';\n\nexport interface BaseItemOptions {\n  onClick?: (ev: MouseEvent) => any;\n  noHoverBg?: boolean;\n  cls?: string;\n}\n\nexport default class BaseItem {\n  readonly dom: HTMLElement;\n  private onClick: BaseItemOptions['onClick'];\n\n  constructor(opts: BaseItemOptions = {}) {\n    this.dom = newElement('rplayer_setting_item');\n    this.onClick = opts.onClick;\n\n    if (opts.noHoverBg) {\n      this.dom.classList.add('rplayer_setting_item-nobg');\n    }\n\n    if (opts.cls) {\n      this.dom.classList.add(opts.cls);\n    }\n\n    this.dom.addEventListener('click', this.clickHandler);\n  }\n\n  private clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    if (this.onClick) this.onClick(ev);\n  };\n\n  append(e: Element | string): void {\n    if (isStr(e)) {\n      this.dom.innerHTML = e;\n    } else {\n      this.dom.appendChild(e);\n    }\n  }\n\n  destroy(): void {\n    this.dom.removeEventListener('click', this.clickHandler);\n    if (this.dom.parentNode) {\n      this.dom.parentNode.removeChild(this.dom);\n    }\n  }\n}\n","import { newElement, getDomOr } from '../utils';\n\nexport interface SwitchOptions {\n  defaultValue?: boolean;\n  el?: string | HTMLElement;\n  onChange?: (value: boolean, done: (success?: boolean) => any) => any;\n  primaryColor?: string;\n  small?: boolean;\n}\n\nexport default class Switch {\n  private static readonly activeCls = 'rplayer_switch-active';\n  readonly dom: HTMLElement;\n  private _value = false;\n  private readonly color: string;\n  private readonly onChange: SwitchOptions['onChange'];\n\n  constructor(opts: SwitchOptions = {}) {\n    this._value = opts.defaultValue;\n    this.onChange = opts.onChange;\n    this.color = opts.primaryColor;\n\n    this.dom = newElement('rplayer_switch');\n    if (opts.small) this.dom.classList.add('rplayer_switch-small');\n\n    this.dom.addEventListener('click', this.clickHandler);\n\n    if (opts.el) {\n      this.mount(opts.el);\n    }\n  }\n\n  get value(): boolean {\n    return this._value;\n  }\n\n  set value(v: boolean) {\n    this.update(v);\n  }\n\n  private clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    if (!this.onChange) return;\n    this.update(!this._value);\n    this.onChange(this._value, this.done);\n  };\n\n  private done = (success?: boolean): void => {\n    if (!success) {\n      this._value = !this._value;\n      this.update();\n    }\n  };\n\n  update(v = this._value): void {\n    this._value = v;\n    if (v) {\n      this.dom.classList.add(Switch.activeCls);\n      if (this.color) this.dom.style.background = this.color;\n    } else {\n      this.dom.classList.remove(Switch.activeCls);\n      this.dom.style.background = '';\n    }\n  }\n\n  mount(el?: string | HTMLElement): void {\n    getDomOr(el, document.body).appendChild(this.dom);\n    requestAnimationFrame(() => this.update());\n  }\n\n  destroy(): void {\n    this.dom.removeEventListener('click', this.clickHandler);\n    if (this.dom.parentNode) {\n      this.dom.parentNode.removeChild(this.dom);\n    }\n  }\n}\n","import BaseItem from './base-item';\nimport { htmlDom } from '../../utils';\nimport Switch from '../../widgets/switch';\n\nexport interface SwitchItemOptions {\n  label?: string;\n  checked?: boolean;\n  onChange?: (v: boolean, update: () => void, ev: MouseEvent) => any;\n}\n\nexport default class SwitchItem {\n  private readonly base: BaseItem;\n  private readonly switch: Switch;\n  private readonly onChange: SwitchItemOptions['onChange'];\n\n  constructor(opts: SwitchItemOptions = {}) {\n    this.onChange = opts.onChange;\n\n    this.base = new BaseItem({\n      onClick: this.onClick,\n    });\n\n    this.switch = new Switch({\n      defaultValue: opts.checked,\n    });\n\n    this.base.append(htmlDom(opts.label));\n    this.base.append(this.switch.dom);\n  }\n\n  get dom(): HTMLElement {\n    return this.base.dom;\n  }\n\n  private onClick = (ev: MouseEvent): void => {\n    if (this.onChange) {\n      this.onChange(!this.switch.value, this.update, ev);\n    } else {\n      this.update();\n    }\n  };\n\n  private update = (): void => {\n    this.switch.update(!this.switch.value);\n  };\n}\n","import { newElement, getDomOr, isStr } from '../utils';\nimport RPlayer from '..';\nimport Events from '../events';\n\nexport interface PopoverOptions {\n  el?: string | HTMLElement;\n  left?: boolean;\n  player?: RPlayer;\n  onHide?: () => any;\n  cls?: string;\n}\n\nexport default class Popover {\n  private static readonly activeCls = 'rplayer_pop-active';\n  private readonly player: RPlayer;\n  private readonly onHide: PopoverOptions['onHide'];\n  readonly dom: HTMLElement;\n\n  constructor(opts: PopoverOptions = {}) {\n    this.dom = newElement('rplayer_pop');\n\n    if (opts.left) {\n      this.dom.style.right = 'auto';\n      this.dom.style.left = '0px';\n    }\n\n    if (opts.onHide) {\n      this.onHide = opts.onHide;\n    }\n\n    if (opts.player) {\n      this.player = opts.player;\n      this.player.on(Events.CLICK_CONTROL_MASK, this.hide);\n      this.player.on(Events.CLICK_OUTSIDE, this.hide);\n      this.player.on(Events.PLAYER_CONTEXT_MENU, this.hide);\n    }\n\n    if (opts.cls) {\n      this.dom.classList.add(opts.cls);\n    }\n\n    if (opts.el) this.mount(opts.el);\n  }\n\n  get isActive(): boolean {\n    return this.dom.classList.contains(Popover.activeCls);\n  }\n\n  show(): void {\n    if (this.isActive) return;\n    this.dom.classList.add(Popover.activeCls);\n    if (this.player) {\n      this.player.controls.mask.show();\n      this.player.controls.requireShow();\n    }\n  }\n\n  hide = (): void => {\n    this.dom.classList.remove(Popover.activeCls);\n    if (this.player) {\n      this.player.controls.mask.hide();\n      this.player.controls.releaseShow();\n      if (this.player.playing) {\n        this.player.controls.hide();\n      }\n    }\n    if (this.onHide) this.onHide();\n  };\n\n  append(d: string | HTMLElement): void {\n    if (!d) return;\n    if (isStr(d)) {\n      this.dom.innerHTML = d;\n    } else {\n      this.dom.appendChild(d);\n    }\n  }\n\n  mount(el?: string | HTMLElement): void {\n    getDomOr(el, document.body).appendChild(this.dom);\n  }\n}\n","import {\n  SETTING_MENU,\n  SETTING_MENU_BACK,\n  SETTING_ITEM,\n  SETTING_MENU_PAGE,\n} from '../../config/classname';\nimport Events from '../../events';\nimport RPlayer from '../../rplayer';\nimport { clampNeg, measureElementSize, newElement } from '../../utils';\nimport Select, { SelectOptions } from './select';\nimport Switch, { SwitchItemOptions } from './switch-item';\nimport Popover from '../../widgets/popover';\nimport EventHandler from '../../event-handler';\n\nexport default class SettingMenu extends EventHandler {\n  readonly popover: Popover;\n  private readonly homePage: HTMLElement;\n  private readonly optionPages: HTMLElement[];\n  private homeRect: { width: number; height: number };\n  private readonly optionRects: { width: number; height: number }[] = [];\n\n  constructor(player: RPlayer, onHide?: () => any) {\n    super(player, [Events.MOUNTED, Events.SETTING_SELECTED]);\n\n    this.popover = new Popover({\n      player,\n      onHide,\n    });\n    this.dom.classList.add(SETTING_MENU);\n\n    const items = player.options.settings.map((s, i) => {\n      if ((s as SelectOptions).options && (s as SelectOptions).options.length) {\n        return new Select(\n          player,\n          s as SelectOptions,\n          this.selectEntryClickHandler(i)\n        );\n      } else {\n        return new Switch(s as SwitchItemOptions);\n      }\n    });\n\n    this.homePage = newElement(SETTING_MENU_PAGE);\n    items.forEach((item) => {\n      this.homePage.appendChild((item as any).entry || item.dom);\n    });\n    this.optionPages = items.map((item) => this.getOptionPage(item));\n    this.dom.appendChild(this.homePage);\n    this.optionPages.forEach((page) => page && this.dom.appendChild(page));\n  }\n\n  get dom(): HTMLElement {\n    return this.popover.dom;\n  }\n\n  private selectEntryClickHandler = (i: number) => (): void => {\n    if (!this.homeRect) this.homeRect = this.dom.getBoundingClientRect();\n\n    this.homePage.hidden = true;\n    this.optionPages[i].hidden = false;\n\n    if (!this.optionRects[i]) {\n      this.optionRects[i] = measureElementSize(this.optionPages[i]);\n    }\n\n    this.setWH(this.optionRects[i].width, this.optionRects[i].height);\n  };\n\n  private backClickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.resetPage();\n  };\n\n  private setWH(w?: number, h?: number): void {\n    this.dom.style.width = w ? w + 'px' : '';\n    this.dom.style.height = h ? h + 'px' : '';\n  }\n\n  private getBack(html: string): HTMLElement {\n    const div = newElement(SETTING_ITEM);\n    div.classList.add(SETTING_MENU_BACK);\n    div.innerHTML = html;\n    div.addEventListener('click', this.backClickHandler, true);\n    return div;\n  }\n\n  private getOptionPage(select: Select | Switch): HTMLElement {\n    if (!(select instanceof Select)) return null;\n\n    const div = newElement(SETTING_MENU_PAGE);\n    const back = this.getBack(select.opts.label);\n    div.appendChild(back);\n    div.appendChild(select.dom);\n\n    div.hidden = true;\n    return div;\n  }\n\n  show(): void {\n    this.popover.show();\n  }\n\n  hide(): void {\n    this.popover.hide();\n  }\n\n  addItem(\n    opts: SelectOptions | SwitchItemOptions,\n    pos?: number\n  ): Select | Switch {\n    pos = clampNeg(pos, this.homePage.children.length);\n\n    let item: Select | Switch;\n    if (\n      Array.isArray((opts as SelectOptions).options) &&\n      (opts as SelectOptions).options.length\n    ) {\n      item = new Select(\n        this.player,\n        opts as SelectOptions,\n        this.selectEntryClickHandler(pos)\n      );\n    } else {\n      item = new Switch(opts as SwitchItemOptions);\n    }\n\n    const optionPage = this.getOptionPage(item);\n    this.optionPages.splice(pos, 0, optionPage);\n    this.homePage.insertBefore(\n      (item as any).entry || item.dom,\n      this.homePage.children[pos]\n    );\n    this.dom.appendChild(optionPage);\n    return item;\n  }\n\n  resetPage(): void {\n    this.optionPages.forEach((page) => {\n      if (page) page.hidden = true;\n    });\n    this.homePage.hidden = false;\n\n    if (this.homeRect) {\n      this.setWH(this.homeRect.width, this.homeRect.height);\n    }\n  }\n\n  onSettingSelected(): void {\n    if (!this.homePage || !this.homeRect) return;\n    this.homeRect = measureElementSize(this.homePage);\n  }\n\n  onMounted(): void {\n    if (!this.homeRect) this.homeRect = this.dom.getBoundingClientRect();\n    this.setWH(this.homeRect.width, this.homeRect.height);\n  }\n}\n","import { SETTING_ACTIVE } from '../../config/classname';\nimport { SETTINGS } from '../../config/lang';\nimport icons from '../../icons';\nimport RPlayer from '../../rplayer';\nimport Tray from '../../widgets/tray';\nimport SettingMenu from './menu';\nimport EventHandler from '../../event-handler';\n\nexport default class Setting extends EventHandler {\n  readonly menu: SettingMenu;\n  private readonly tray: Tray;\n  private resetPageTimer: NodeJS.Timeout;\n  readonly pos = 3;\n\n  constructor(player: RPlayer) {\n    super(player);\n\n    this.tray = new Tray({\n      label: player.t(SETTINGS),\n      icons: [icons.settings()],\n      onClick: this.onClick,\n    });\n\n    this.menu = new SettingMenu(player, this.onHide);\n    this.tray.dom.appendChild(this.menu.dom);\n  }\n\n  get dom(): HTMLElement {\n    return this.tray.dom;\n  }\n\n  private onHide = (): void => {\n    this.dom.classList.remove(SETTING_ACTIVE);\n    clearTimeout(this.resetPageTimer);\n    this.resetPageTimer = setTimeout(() => this.menu.resetPage(), 500);\n  };\n\n  private onClick = (): void => {\n    this.dom.classList.add(SETTING_ACTIVE);\n    this.menu.show();\n  };\n}\n","import { PAUSE, PLAY } from '../../config/lang';\nimport Events from '../../events';\nimport icons from '../../icons';\nimport RPlayer from '../../rplayer';\nimport Tray from '../../widgets/tray';\nimport EventHandler from '../../event-handler';\n\nexport default class PlayTray extends EventHandler {\n  private readonly tray: Tray;\n  readonly pos = 0;\n\n  constructor(player: RPlayer) {\n    super(player, [Events.PLAY, Events.PAUSE]);\n    this.tray = new Tray({\n      label: player.t(PLAY),\n      labelPos: 'left',\n      icons: [icons.play(), icons.pause()],\n      onClick: this.onClick,\n    });\n  }\n\n  get dom(): HTMLElement {\n    return this.tray.dom;\n  }\n\n  onClick = (): void => {\n    this.player.toggle();\n  };\n\n  onPlay(): void {\n    this.tray.changeTip(this.player.t(PAUSE));\n    this.tray.showIcon(1);\n  }\n\n  onPause(): void {\n    this.tray.changeTip(this.player.t(PLAY));\n    this.tray.showIcon(0);\n  }\n}\n","import Component from '../../component';\nimport { TRAY_TIME } from '../../config/classname';\nimport Events from '../../events';\nimport RPlayer from '../../rplayer';\nimport { formatTime, newElement } from '../../utils';\n\nexport default class Time extends Component {\n  private readonly curTime = newElement('', 'span');\n  private readonly totalTime = newElement('', 'span');\n  readonly pos = 2;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [\n        Events.DURATION_CHANGE,\n        Events.TIME_UPDATE,\n        Events.CONTROLS_SHOW,\n      ],\n      className: TRAY_TIME,\n    });\n\n    this.updateCurTime();\n    this.updateTotalTime();\n    this.appendChild(this.curTime);\n    this.appendChild(this.totalTime);\n  }\n\n  private updateCurTime(): void {\n    if (this.player.controls && this.player.controls.isHide) return;\n    this.curTime.innerText = formatTime(this.player.currentTime);\n  }\n\n  private updateTotalTime(): void {\n    this.totalTime.innerText = formatTime(this.player.duration);\n  }\n\n  onTimeUpdate(): void {\n    this.updateCurTime();\n  }\n\n  onDurationChange(): void {\n    this.updateTotalTime();\n  }\n\n  onControlsShow(): void {\n    this.updateCurTime();\n  }\n}\n","import Component from '../../component';\nimport {\n  TRAY_VOLUME,\n  TRAY_VOLUME_BAR,\n  TRAY_VOLUME_BAR_WRAPPER,\n  TRAY_VOLUME_DOT,\n  TRAY_VOLUME_PROGRESS,\n} from '../../config/classname';\nimport { MUTE, UNMUTE } from '../../config/lang';\nimport Events from '../../events';\nimport icons from '../../icons';\nimport RPlayer from '../../rplayer';\nimport { Drag, newElement } from '../../utils';\nimport Bar from '../bar';\nimport Dot from '../dot';\nimport Tray from '../../widgets/tray';\n\nclass Progress extends Component {\n  private readonly bar: Bar;\n  private readonly dot: Dot;\n\n  constructor(player: RPlayer) {\n    super(player, { className: TRAY_VOLUME_PROGRESS });\n\n    this.bar = new Bar(TRAY_VOLUME_BAR);\n    this.dot = new Dot(TRAY_VOLUME_DOT);\n\n    const barWrapper = newElement(TRAY_VOLUME_BAR_WRAPPER);\n    barWrapper.appendChild(this.bar.dom);\n\n    this.appendChild(barWrapper);\n    this.appendChild(this.dot.dom);\n\n    new Drag(\n      this.dom,\n      this.dragStartHandler,\n      this.dragHandler,\n      this.dragEndHandler\n    );\n  }\n\n  private dragStartHandler = (ev: PointerEvent): void => {\n    this.player.controls.requireShow();\n    this.dragHandler(ev);\n  };\n\n  private dragHandler = (ev: PointerEvent): void => {\n    this.player.volume = (ev.pageX - this.rect.left) / this.rect.width;\n  };\n\n  private dragEndHandler = (): void => {\n    this.player.controls.releaseShow();\n  };\n\n  onVolumeChange(): void {\n    const vol = this.player.volume;\n    this.bar.setX(vol);\n    this.dot.setX(this.rect.width * vol);\n  }\n\n  onMounted(): void {\n    this.onVolumeChange();\n  }\n}\n\nexport default class VolumeTray extends Component {\n  private readonly tray: Tray;\n  private readonly progress: Progress;\n  readonly pos = 1;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [Events.VOLUME_CHANGE, Events.MOUNTED],\n      className: TRAY_VOLUME,\n    });\n\n    this.tray = new Tray({\n      label: player.t(MUTE),\n      icons: [icons.volume(), icons.muted()],\n      onClick: this.onClick,\n    });\n    this.progress = new Progress(player);\n\n    this.appendChild(this.tray.dom);\n    this.appendChild(this.progress);\n  }\n\n  onClick = (): void => {\n    this.player.toggleVolume();\n  };\n\n  onVolumeChange(): void {\n    if (this.player.muted) {\n      this.tray.changeTip(this.player.t(UNMUTE));\n      this.tray.showIcon(1);\n    } else {\n      this.tray.changeTip(this.player.t(MUTE));\n      this.tray.showIcon(0);\n    }\n\n    this.progress.onVolumeChange();\n  }\n\n  onMounted(): void {\n    this.progress.onMounted();\n  }\n}\n","import Component from '../component';\nimport {\n  CTRL,\n  CTRL_BOTTOM,\n  CTRL_BOTTOM_MASK,\n  CTRL_HIDE,\n  CTRL_TRAYS,\n  PAUSED,\n} from '../config/classname';\nimport Events from '../events';\nimport RPlayer from '../rplayer';\nimport { clampNeg, newElement } from '../utils';\nimport ContextMenu, { ContextMenuItem } from './contextmenu';\nimport Mask from './mask';\nimport ProgressBar from './progress-bar';\nimport Setting from './setting';\nimport { SelectOptions } from './setting/select';\nimport PlayTray from './trays/play';\nimport Time from './trays/time';\nimport VolumeTray from './trays/volume';\nimport SettingMenu from './setting/menu';\nimport { SwitchItemOptions } from './setting/switch-item';\n\nexport default class Controls extends Component {\n  private controlsTimer: NodeJS.Timeout;\n  private readonly bottom: HTMLElement;\n  private readonly tray: HTMLElement;\n  readonly mask: Mask;\n  readonly contextMenu: ContextMenu;\n  readonly setting: Setting;\n\n  private showLatch = 0;\n\n  constructor(player: RPlayer) {\n    super(player, {\n      events: [\n        Events.PLAY,\n        Events.PAUSE,\n        Events.PLAYER_MOUSE_MOVE,\n        Events.PLAYER_MOUSE_LEAVE,\n        Events.PLAYER_CLICK,\n      ],\n      className: CTRL,\n    });\n\n    if (player.paused) player.addClass(PAUSED);\n\n    this.setting = new Setting(player);\n    this.bottom = newElement(CTRL_BOTTOM);\n    this.tray = newElement(CTRL_TRAYS);\n\n    const trays = [\n      new PlayTray(player),\n      new VolumeTray(player),\n      new Time(player),\n      this.setting,\n    ];\n\n    trays\n      .sort((a, b) => a.pos - b.pos)\n      .forEach((t) => this.tray.appendChild(t.dom));\n\n    this.bottom.appendChild(new ProgressBar(player).dom);\n    this.bottom.appendChild(this.tray);\n\n    const bottomMask = newElement(CTRL_BOTTOM_MASK);\n    this.mask = new Mask(player);\n    this.contextMenu = new ContextMenu(player);\n\n    this.appendChild(bottomMask);\n    this.appendChild(this.bottom);\n    this.appendChild(this.contextMenu);\n    this.appendChild(this.mask.dom);\n  }\n\n  get isHide(): boolean {\n    return this.player.containsClass(CTRL_HIDE);\n  }\n\n  private tryHideControls = (ev?: MouseEvent): void => {\n    if (ev) ev.preventDefault();\n    const media = this.player.media;\n\n    if (media.played.length && !media.paused && !this.showLatch) {\n      this.hide();\n    }\n  };\n\n  requireShow(): void {\n    this.showLatch++;\n  }\n\n  releaseShow(): void {\n    this.showLatch--;\n    if (this.showLatch < 0) this.showLatch = 0;\n  }\n\n  showTemporary(): void {\n    this.show();\n    clearTimeout(this.controlsTimer);\n    this.controlsTimer = setTimeout(this.tryHideControls, 3000);\n  }\n\n  show(): void {\n    if (!this.isHide) return;\n    this.player.removeClass(CTRL_HIDE);\n    this.player.emit(Events.CONTROLS_SHOW);\n  }\n\n  hide(): void {\n    if (this.isHide) return;\n    this.player.addClass(CTRL_HIDE);\n    this.player.emit(Events.CONTROLS_HIDE);\n  }\n\n  addTray(tray: Element, pos?: number): void {\n    this.tray.insertBefore(\n      tray,\n      this.tray.children[clampNeg(pos, this.tray.children.length)]\n    );\n  }\n\n  addSettingItem(\n    opts: SelectOptions | SwitchItemOptions,\n    pos?: number\n  ): ReturnType<SettingMenu['addItem']> {\n    return this.setting.menu.addItem(opts, pos);\n  }\n\n  addContextMenuItem(\n    opts: ContextMenuItem,\n    pos?: number\n  ): ReturnType<ContextMenu['addItem']> {\n    return this.contextMenu.addItem(opts, pos);\n  }\n\n  onPlay(): void {\n    this.showTemporary();\n    this.player.removeClass(PAUSED);\n  }\n\n  onPause(): void {\n    this.show();\n    this.player.addClass(PAUSED);\n  }\n\n  onPlayerClick(ev: Event): void {\n    ev.preventDefault();\n    if (!this.bottom.contains(ev.target as any)) {\n      this.player.toggle();\n    }\n    this.showTemporary();\n  }\n\n  onPlayerMouseMove(): void {\n    this.showTemporary();\n  }\n\n  onPlayerMouseLeave(): void {\n    this.tryHideControls();\n  }\n}\n","import { PLAYER_LOADING } from './config/classname';\nimport EventHandler from './event-handler';\nimport Events from './events';\nimport RPlayer from './rplayer';\nimport { htmlDom } from './utils';\n\nexport default class Loading extends EventHandler {\n  private readonly loadingClass = 'rplayer-loading';\n  private showTimer: NodeJS.Timeout;\n  private startWaitingTime = 0;\n\n  constructor(player: RPlayer) {\n    super(player, [Events.CANPLAY, Events.WAITING, Events.STALLED]);\n\n    const dom = htmlDom(\n      '<div></div><div></div><div></div><div></div>',\n      'div',\n      PLAYER_LOADING\n    );\n    player.appendChild(dom);\n    this.onWaiting();\n  }\n\n  private _checkCanplay = (): void => {\n    if (this.startWaitingTime !== this.player.currentTime) {\n      this.hide();\n      clearTimeout(this.showTimer);\n      this.player.off(Events.TIME_UPDATE, this._checkCanplay);\n    }\n  };\n\n  private checkCanplay(): void {\n    this.startWaitingTime = this.player.currentTime;\n    this.player.off(Events.TIME_UPDATE, this._checkCanplay);\n    this.player.on(Events.TIME_UPDATE, this._checkCanplay);\n  }\n\n  private tryShow(): void {\n    this.checkCanplay();\n    this.showTimer = setTimeout(this.show, 100);\n  }\n\n  onCanplay(): void {\n    this.hide();\n  }\n\n  onWaiting(): void {\n    if (!this.player.currentTime) return;\n    this.tryShow();\n  }\n\n  onStalled(): void {\n    const curTime = this.player.currentTime;\n    if (!curTime) return;\n\n    let show = true;\n    this.player.eachBuffer((start, end) => {\n      if (start <= curTime && end > curTime) {\n        show = false;\n        return true;\n      }\n    });\n\n    if (show) this.tryShow();\n  }\n\n  show = (): void => {\n    this.player.addClass(this.loadingClass);\n    this.player.emit(Events.LOADING_SHOW);\n  };\n\n  hide(): void {\n    this.player.removeClass(this.loadingClass);\n    this.player.emit(Events.LOADING_HIDE);\n  }\n}\n","import { BP } from './config';\nimport Events from './events';\nimport RPlayer from './rplayer';\nimport { isFn } from './utils';\n\nfunction trans(\n  player: RPlayer,\n  dom: HTMLElement | Window,\n  from: string,\n  to: string\n): void {\n  dom.addEventListener(from, (ev: MouseEvent) => player.emit(to, ev));\n}\n\nfunction transThrottle(\n  player: RPlayer,\n  dom: HTMLElement | Window,\n  from: string,\n  to: string\n): void {\n  let pending = false;\n  dom.addEventListener(from, (ev: MouseEvent) => {\n    if (pending) return;\n    pending = true;\n    requestAnimationFrame(() => {\n      player.emit(to, ev);\n      pending = false;\n    });\n  });\n}\n\nexport default function handler(\n  player: RPlayer,\n  video: HTMLVideoElement\n): void {\n  // media\n  trans(player, video, 'durationchange', Events.DURATION_CHANGE);\n  trans(player, video, 'ratechange', Events.RATE_CHANGE);\n  trans(player, video, 'play', Events.PLAY);\n  trans(player, video, 'pause', Events.PAUSE);\n  trans(player, video, 'ended', Events.ENDED);\n  trans(player, video, 'waiting', Events.WAITING);\n  trans(player, video, 'stalled', Events.STALLED);\n  trans(player, video, 'canplay', Events.CANPLAY);\n  trans(player, video, 'loadedmetadata', Events.LOADED_METADATA);\n  trans(player, video, 'error', Events.ERROR);\n  trans(player, video, 'seeked', Events.SEEKED);\n\n  transThrottle(player, video, 'timeupdate', Events.TIME_UPDATE);\n  transThrottle(player, video, 'volumechange', Events.VOLUME_CHANGE);\n  transThrottle(player, video, 'progress', Events.PROGRESS);\n\n  player.on(Events.LOADED_METADATA, () => {\n    if (player.media.paused) {\n      player.emit(Events.PAUSE);\n    } else {\n      player.emit(Events.PLAY);\n    }\n    player.updateRect();\n  });\n\n  // player\n  trans(player, player.dom, 'click', Events.PLAYER_CLICK);\n  trans(player, player.dom, 'contextmenu', Events.PLAYER_CONTEXT_MENU);\n  trans(player, player.dom, 'dblclick', Events.PLAYER_DBLCLICK);\n\n  transThrottle(player, player.dom, 'mousemove', Events.PLAYER_MOUSE_MOVE);\n  transThrottle(player, player.dom, 'mouseleave', Events.PLAYER_MOUSE_LEAVE);\n\n  // global\n  transThrottle(player, window, 'resize', Events.PLAYER_RESIZE);\n\n  document.addEventListener('click', (ev: MouseEvent) => {\n    if (\n      ev.target === player.dom ||\n      (ev.target &&\n        isFn((ev.target as any).contains) &&\n        (ev.target as any).contains(player.dom))\n    ) {\n      player.emit(Events.CLICK_OUTSIDE);\n    }\n  });\n\n  const mqHandler = ({\n    media,\n    matches,\n  }: MediaQueryListEvent | MediaQueryList): void => {\n    if (!matches) return;\n    player.curBreakPoint = media;\n    player.emit(Events.BREAK_POINT_CHANGE, media);\n  };\n  Object.keys(BP).forEach((k) => {\n    const mq = window.matchMedia(BP[k]);\n    mqHandler(mq);\n    mq.addListener(mqHandler);\n  });\n}\n","import { RPlayerOptions } from './options';\nimport {\n  extend,\n  isObj,\n  safeJsonParse,\n  safeJsonStringify,\n  getDeep,\n} from './utils';\n\nexport interface StorageOpts {\n  enable?: boolean;\n  key?: string;\n}\n\nexport default class Storage {\n  private key: string;\n  private enable: boolean;\n\n  constructor(opts: RPlayerOptions) {\n    this.enable = Storage.supported && opts.storage.enable;\n    this.key = opts.storage.key;\n  }\n\n  static get supported(): boolean {\n    try {\n      const test = 'rplayer___';\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  get<T = string>(key?: string, orRet?: T): T {\n    if (!this.enable) return orRet;\n    const data = localStorage.getItem(this.key);\n    if (data == null) return orRet;\n    const obj = safeJsonParse(data, null);\n    if (!isObj(obj)) return orRet;\n    if (!key) return (obj as T) || orRet;\n    return getDeep(obj, key) || orRet;\n  }\n\n  set(obj: Record<string, any>): void {\n    if (!this.enable) return;\n    if (!obj) return localStorage.removeItem(this.key);\n    if (!isObj(obj)) return;\n    localStorage.setItem(\n      this.key,\n      safeJsonStringify(extend(this.get(null, {}), obj))\n    );\n  }\n}\n","import { NORMAL, SPEED } from './config/lang';\nimport { SelectOption, SelectOptions } from './controls/setting/select';\nimport language from './config/lang';\nimport { SubtitleOpts } from './plugins/subtitle';\nimport RPlayer from './rplayer';\nimport Storage, { StorageOpts } from './storage';\nimport { findIndex, isNum, isObj } from './utils';\nimport { ContextMenuOpts } from './controls/contextmenu';\nimport { ShortcutOpts } from './shortcut';\nimport { ThumbnailOpts } from './controls/thumbnail';\nimport Events from './events';\nimport { SwitchItemOptions } from './controls/setting/switch-item';\n\nexport interface OptionPreset {\n  playbackRate?:\n    | boolean\n    | {\n        position?: number;\n        checked?: number;\n        steps?: { label?: string; value?: number }[];\n      };\n  version?: boolean;\n}\n\nexport interface Plugin {\n  install: (p: RPlayer) => any;\n  [key: string]: any;\n}\n\nexport interface RPlayerOptions {\n  media?: string | HTMLVideoElement;\n  el?: string | HTMLElement;\n  video?: HTMLVideoElement & { src?: string | string[] };\n  settings?: (SelectOptions | SwitchItemOptions)[];\n  preset?: OptionPreset;\n  shortcut?: ShortcutOpts;\n  lang?: string;\n  thumbnail?: ThumbnailOpts;\n  contextMenu?: ContextMenuOpts;\n  storage?: StorageOpts;\n  subtitle?: SubtitleOpts;\n  plugins?: Plugin[];\n}\n\nfunction processPlaybackRate(\n  opts: RPlayerOptions,\n  player: RPlayer\n): RPlayerOptions {\n  if (opts.preset.playbackRate === false) return opts;\n\n  const DEFAULT_PLAY_RATE = {\n    steps: [\n      { label: '0.5x', value: 0.5, i: 0 },\n      { label: '0.75x', value: 0.75, i: 1 },\n      { label: language.t(NORMAL, opts.lang), value: 1, i: 2 },\n      { label: '1.25x', value: 1.25, i: 3 },\n      { label: '1.5x', value: 1.5, i: 4 },\n      { label: '1.75x', value: 1.75, i: 5 },\n      { label: '2x', value: 2, i: 6 },\n    ],\n  };\n\n  const playbackRate: any =\n    isObj(opts.preset.playbackRate) && opts.preset.playbackRate.steps\n      ? opts.preset.playbackRate\n      : DEFAULT_PLAY_RATE;\n\n  const setting: SelectOptions = {\n    label: language.t(SPEED, opts.lang),\n    options: playbackRate.steps,\n    init(select) {\n      const rate = player.storage.get('playbackRate', 1);\n      const i = findIndex(playbackRate.steps, (v: any) => v.value == rate);\n\n      player.playbackRate = rate;\n      select.select(i, rate + 'x');\n      player.on(Events.RATE_CHANGE, () => {\n        const i = findIndex(\n          select.opts.options,\n          (s) => s.value === player.playbackRate\n        );\n\n        if (i > -1 && select.value === i) return;\n\n        const rate = parseFloat(player.playbackRate.toFixed(2));\n        player.storage.set({ playbackRate: rate });\n        select.select(i, rate + 'x');\n      });\n    },\n    onChange(opt: SelectOption, next: Function) {\n      player.storage.set({ playbackRate: opt.value });\n      player.playbackRate = opt.value;\n      next();\n    },\n  };\n\n  let pos = isNum(playbackRate.position)\n    ? playbackRate.position\n    : findIndex(opts.settings, (x) => !!(x as SelectOptions).options);\n  if (pos < 0) pos = 0;\n\n  opts.settings.splice(pos, 0, setting);\n\n  return opts;\n}\n\nfunction processShortcut(opts: RPlayerOptions): RPlayerOptions {\n  const DEFAULT_SHORTCUT = {\n    enable: true,\n    time: 10,\n    volume: 0.1,\n    global: false,\n  };\n  opts.shortcut = { ...opts.shortcut, ...DEFAULT_SHORTCUT };\n  return opts;\n}\n\nfunction processLang(opts: RPlayerOptions): RPlayerOptions {\n  opts.lang =\n    opts.lang || navigator.language || (navigator as any).userLanguage;\n  return opts;\n}\n\nfunction processThumbnail(opts: RPlayerOptions): RPlayerOptions {\n  opts.thumbnail = {\n    ...{\n      startTime: 0,\n      gapSec: 10,\n      col: 5,\n      row: 5,\n      width: 160,\n      height: 90,\n      images: [],\n    },\n    ...opts.thumbnail,\n  };\n\n  return opts;\n}\n\nfunction processContextMenu(opts: RPlayerOptions): RPlayerOptions {\n  opts.contextMenu = opts.contextMenu || {};\n  opts.contextMenu.items = opts.contextMenu.items || [];\n\n  if (opts.preset.version !== false) {\n    opts.contextMenu.items.push({\n      label: 'RPlayer: v' + __VERSION,\n    });\n  }\n\n  opts.contextMenu = {\n    ...{\n      enable: true,\n      toggle: true,\n    },\n    ...opts.contextMenu,\n  };\n\n  return opts;\n}\n\nfunction processStorage(opts: RPlayerOptions): RPlayerOptions {\n  opts.storage = {\n    ...{\n      enable: true,\n      key: 'rplayer',\n    },\n    ...opts.storage,\n  };\n\n  return opts;\n}\n\nfunction processCations(opts: RPlayerOptions): RPlayerOptions {\n  opts.subtitle = { ...{ checked: -1 }, ...opts.subtitle };\n  return opts;\n}\n\nexport default function processOptions(\n  player: RPlayer,\n  opts?: RPlayerOptions\n): RPlayerOptions {\n  opts = opts ? { ...opts } : {};\n\n  opts.settings = opts.settings || [];\n  opts.preset = opts.preset || {};\n  opts.plugins = opts.plugins || [];\n\n  opts = processStorage(opts);\n  player.storage = new Storage(opts);\n\n  opts = processLang(opts);\n  opts = processPlaybackRate(opts, player);\n  opts = processShortcut(opts);\n  opts = processThumbnail(opts);\n  opts = processContextMenu(opts);\n  opts = processCations(opts);\n\n  return opts;\n}\n","import { CAPTION, CAPTION_ACTIVE } from '../config/classname';\nimport { CAPTIONS, CLOSE } from '../config/lang';\nimport Select, { SelectChangeFn } from '../controls/setting/select';\nimport icons from '../icons';\nimport RPlayer from '../rplayer';\nimport { ajax, newElement, ua } from '../utils';\nimport Tray from '../widgets/tray';\n\ninterface CaptionItem {\n  label?: string;\n  index: number;\n  track?: TextTrack;\n  show?: boolean;\n}\n\nexport interface SubtitleOpts {\n  style?: Partial<CSSStyleDeclaration>;\n  checked?: number;\n  captions: HTMLTrackElement[];\n}\n\nexport default class Subtitle {\n  private readonly player: RPlayer;\n  private tray: Tray;\n  private items: CaptionItem[];\n  private prev: CaptionItem = {} as CaptionItem;\n  private select: Select;\n  private readonly dom: HTMLElement;\n\n  constructor(player: RPlayer) {\n    this.player = player;\n    const { captions, checked, style } = player.options.subtitle;\n    if (captions && captions.length) {\n      this.dom = newElement(CAPTION);\n      player.appendChild(this.dom);\n\n      this.update(captions, checked);\n      if (style) this.updateUI(style);\n    }\n  }\n\n  private optionChangeHandler: SelectChangeFn = (item, update): void => {\n    if (this.prev.track) {\n      this.prev.show = false;\n      this.removeCueEvent();\n    }\n\n    if (item.track) {\n      this.addCueEvent(item.track);\n      this.active();\n      this.prev = item as CaptionItem;\n      this.show();\n    } else {\n      this.hide();\n      this.deactivate();\n    }\n\n    update();\n  };\n\n  private cueChangeHandler = (ev: Event): void => {\n    const cues: VTTCue[] = [...((ev.target as any).activeCues || [])];\n    if (cues) {\n      cues.forEach((cue) => {\n        this.renderText(cue.getCueAsHTML().firstChild.textContent);\n      });\n    }\n  };\n\n  private addCueEvent(track = this.prev.track): void {\n    this.cueChangeHandler({ target: track } as any);\n    track.addEventListener('cuechange', this.cueChangeHandler);\n  }\n\n  private removeCueEvent(): void {\n    this.prev.track.removeEventListener('cuechange', this.cueChangeHandler);\n    this.renderText('');\n  }\n\n  private run(): void {\n    const tracks = this.player.media.textTracks;\n    if (!tracks || !tracks.length) return;\n\n    this.items.push({\n      label: this.player.t(CLOSE),\n      index: 0,\n    });\n    for (let i = 0, l = tracks.length; i < l; i++) {\n      const track = tracks[i];\n      track.mode = 'hidden';\n      this.items.push({ track, index: i + 1, label: track.label, show: false });\n    }\n\n    if (!this.select) {\n      this.select = this.player.controls.addSettingItem({\n        label: this.player.t(CAPTIONS),\n        options: this.items as any,\n        onChange: this.optionChangeHandler,\n      }) as Select;\n    }\n\n    if (!this.tray) {\n      this.tray = new Tray({\n        label: this.player.t(CAPTIONS),\n        icons: [icons.cc()],\n        onClick: this.onClick,\n      });\n      this.deactivate();\n      this.player.controls.addTray(this.tray.dom, -3);\n    }\n\n    if (this.prev.index) {\n      this.toggle();\n    }\n  }\n\n  private onClick = (): void => {\n    this.toggle();\n  };\n\n  private active = (): void => {\n    this.tray.enable();\n  };\n\n  private deactivate = (): void => {\n    this.tray.disable();\n  };\n\n  renderText(text: string): void {\n    this.dom.innerHTML = text;\n  }\n\n  show(): void {\n    this.dom.classList.add(CAPTION_ACTIVE);\n    this.prev.show = true;\n  }\n\n  hide(): void {\n    this.dom.classList.remove(CAPTION_ACTIVE);\n    this.prev.show = false;\n  }\n\n  update(tracks: Partial<HTMLTrackElement>[], checked = -1): void {\n    if (!tracks || !tracks.length) return;\n    this.items = [];\n    const trackEls: HTMLTrackElement[] = [];\n\n    const df = document.createDocumentFragment();\n    tracks.forEach((item: HTMLTrackElement) => {\n      const track = document.createElement('track');\n      track.setAttribute('kind', 'captions');\n      Object.keys(item).forEach((key) => {\n        track.setAttribute(key, (item as any)[key]);\n      });\n      df.appendChild(track);\n      trackEls.push(track);\n    });\n\n    if (ua.isIE || ua.isEdge) {\n      let latch = 0;\n      trackEls.forEach((track) => {\n        const src = track.getAttribute('src');\n        ajax(src, (_, data) => {\n          if (data) {\n            track.setAttribute(\n              'src',\n              URL.createObjectURL(new Blob([data], { type: 'text/vtt' }))\n            );\n          }\n          latch++;\n          if (latch == trackEls.length) this.run();\n        });\n      });\n    }\n\n    this.player.media.appendChild(df);\n    this.prev = { index: checked + 1 };\n    if (!ua.isIE && !ua.isEdge) this.run();\n  }\n\n  updateUI(style: SubtitleOpts['style']): void {\n    Object.keys(style).forEach((k) => {\n      this.dom.style[k as any] = style[k as any];\n    });\n  }\n\n  toggle(): void {\n    if (this.prev.track && this.prev.show) {\n      this.select.select(0);\n      this.deactivate();\n      this.hide();\n      this.removeCueEvent();\n    } else {\n      this.prev = this.items[this.prev.index];\n\n      if (!this.prev.track) {\n        this.prev = this.items[1];\n      }\n\n      this.addCueEvent();\n      this.select.select(this.prev.index);\n      this.active();\n      this.show();\n    }\n  }\n}\n","import { FULL } from '../config/classname';\nimport { EXIT_FULL_SCREEN, FULL_SCREEN } from '../config/lang';\nimport Events from '../events';\nimport icons from '../icons';\nimport RPlayer from '../rplayer';\nimport { isFn, ua } from '../utils';\nimport Tray from '../widgets/tray';\n\nexport default class Fullscreen {\n  private readonly tray: Tray;\n  private readonly player: RPlayer;\n  readonly prefix = this.getPrefix();\n  private target: HTMLElement;\n\n  constructor(player: RPlayer) {\n    this.player = player;\n    this.setTarget();\n\n    (document as any).addEventListener(\n      this.prefix === 'ms'\n        ? 'MSFullscreenChange'\n        : `${this.prefix}fullscreenchange`,\n      this.changeHandler\n    );\n\n    if (this.isActive) player.addClass(FULL);\n    player.on(Events.PLAYER_DBLCLICK, this.playerDblClickHandler);\n    player.on(Events.ENTER_FULLSCREEN, this.onEnterFullscreen);\n    player.on(Events.EXIT_FULLSCREEN, this.onExitFullscreen);\n\n    this.tray = new Tray({\n      label: player.t(FULL_SCREEN),\n      icons: [icons.enterFullscreen(), icons.exitFullscreen()],\n      labelPos: 'right',\n      onClick: this.onClick,\n    });\n\n    player.controls.addTray(this.tray.dom, -1);\n  }\n\n  private playerDblClickHandler = (ev: Event): void => {\n    ev.preventDefault();\n    if (this.player.controls.dom.contains(ev.target as any)) return;\n    this.toggle();\n  };\n\n  private changeHandler = (): void => {\n    let evt = '';\n    if (this.isActive) {\n      this.player.addClass(FULL);\n      evt = Events.ENTER_FULLSCREEN;\n    } else {\n      this.player.removeClass(FULL);\n      evt = Events.EXIT_FULLSCREEN;\n    }\n    this.player.emit(evt);\n  };\n\n  private getPrefix(): string {\n    if (isFn(document.exitFullscreen)) return '';\n\n    let prefix = '';\n    ['webkit', 'moz', 'ms'].forEach((p) => {\n      if (\n        isFn((document as any)[`${p}ExitFullscreen`]) ||\n        isFn((document as any)[`${p}CancelFullScreen`])\n      ) {\n        prefix = p;\n      }\n    });\n\n    return prefix;\n  }\n\n  get requestFullscreen(): Function {\n    return (\n      HTMLElement.prototype.requestFullscreen ||\n      (HTMLElement.prototype as any).webkitRequestFullscreen ||\n      (HTMLElement.prototype as any).mozRequestFullScreen ||\n      (HTMLElement.prototype as any).msRequestFullscreen\n    );\n  }\n\n  get exitFullscreen(): Function {\n    return (\n      HTMLDocument.prototype.exitFullscreen ||\n      (HTMLDocument.prototype as any).webkitExitFullscreen ||\n      (HTMLDocument.prototype as any).cancelFullScreen ||\n      (HTMLDocument.prototype as any).mozCancelFullScreen ||\n      (HTMLDocument.prototype as any).msExitFullscreen\n    );\n  }\n\n  get fullscreenElement(): HTMLElement {\n    return (\n      document.fullscreenElement ||\n      (document as any).mozFullScreenElement ||\n      (document as any).msFullscreenElement ||\n      (document as any).webkitFullscreenElement\n    );\n  }\n\n  get isActive(): boolean {\n    return this.fullscreenElement === this.target;\n  }\n\n  private onClick = (): void => {\n    this.player.fullscreen.toggle();\n  };\n\n  private onEnterFullscreen = (): void => {\n    this.tray.changeTip(this.player.t(EXIT_FULL_SCREEN));\n    this.tray.showIcon(1);\n  };\n\n  private onExitFullscreen = (): void => {\n    this.tray.changeTip(this.player.t(FULL_SCREEN));\n    this.tray.showIcon(0);\n  };\n\n  setTarget(dom?: HTMLElement, video?: HTMLVideoElement): void {\n    this.target =\n      (dom && ua.isIos ? video : dom) ||\n      (ua.isIos ? this.player.media : this.player.dom);\n    if (this.isActive) this.enter();\n  }\n\n  enter(): void {\n    if (ua.isIos) {\n      (this.target as any).webkitEnterFullscreen();\n    } else {\n      this.requestFullscreen.call(this.target, { navigationUI: 'hide' });\n    }\n  }\n\n  exit(): void {\n    if (ua.isIos) {\n      (this.target as any).webkitExitFullscreen();\n    } else {\n      this.exitFullscreen.call(document);\n    }\n  }\n\n  toggle(): void {\n    if (this.isActive) {\n      this.exit();\n    } else {\n      this.enter();\n    }\n  }\n}\n","import RPlayer from './rplayer';\nimport { isNum, makeDictionary } from './utils';\n\nexport type ShortcutHandler = (player: RPlayer) => any;\n\nexport interface ShortcutOpts {\n  enable?: boolean;\n  time?: number;\n  volume?: number;\n  global?: boolean;\n}\n\nexport default class Shortcut {\n  private readonly player: RPlayer;\n  private readonly handler: { [key: number]: ShortcutHandler };\n  readonly editable = ['input', 'textarea', 'select'];\n\n  constructor(player: RPlayer) {\n    this.player = player;\n    const opts = player.options.shortcut;\n\n    this.handler = makeDictionary({\n      38: (p): void => p.incVolume(opts.volume), // \n      40: (p): void => p.decVolume(opts.volume), // \n      39: (p): void => p.forward(opts.time), // \n      37: (p): void => p.rewind(opts.time), // \n      32: (p): void => p.toggle(), // space\n    });\n\n    if (opts.enable) {\n      this.enable(opts.global);\n    }\n  }\n\n  private keydownHandler = (ev: KeyboardEvent): void => {\n    if (ev.altKey || ev.ctrlKey || ev.metaKey || ev.shiftKey) return;\n    const focused = document.activeElement;\n\n    if (focused) {\n      const tag = focused.tagName.toLowerCase();\n      const editable = focused.getAttribute('contenteditable');\n      if (this.editable.indexOf(tag) > -1 || editable || editable === '') {\n        return;\n      }\n    }\n\n    const code = ev.keyCode ? ev.keyCode : ev.which;\n\n    if (!isNum(code)) return;\n\n    let handled = false;\n    if (this.handler[code]) {\n      this.handler[code](this.player);\n      handled = true;\n      this.player.controls.showTemporary();\n    }\n\n    if (handled) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n  };\n\n  register(code: number, fn: ShortcutHandler): void {\n    this.handler[code] = fn;\n  }\n\n  unregister(code: number): void {\n    delete this.handler[code];\n  }\n\n  enable(global = false): void {\n    const dom = global ? document : this.player.dom;\n    dom.addEventListener('keydown', this.keydownHandler);\n  }\n\n  disable(global = false): void {\n    const dom = global ? document : this.player.dom;\n    dom.removeEventListener('keydown', this.keydownHandler);\n  }\n}\n","import { newElement, Drag, clamp, getDomOr, isBool } from '../utils';\n\nexport interface SliderOptions {\n  defaultValue?: number;\n  onChange?: (value: number, done: (success?: boolean) => any) => any;\n  map?: (value: number) => any;\n  tip?: boolean;\n  el?: string | HTMLElement;\n  stop?: boolean;\n  stops?: { value: number; label: string }[];\n  primaryColor?: string;\n  bgColor?: string;\n  labelColor?: string;\n  barHeight?: number;\n}\n\nexport default class Slider {\n  readonly dom: HTMLElement;\n  private readonly dot: HTMLElement;\n  private readonly bar: HTMLElement;\n  private readonly tip: HTMLElement;\n  private readonly drag: Drag;\n  private readonly stops: SliderOptions['stops'];\n  private _rect: DOMRect;\n  private prevValue = 0;\n  private readonly onChange: SliderOptions['onChange'];\n  private readonly map: SliderOptions['map'];\n  private showTip = false;\n  private _value = 0;\n  private hdw = 0;\n\n  constructor(opts: SliderOptions = {}) {\n    this.showTip = opts.tip;\n    this.onChange = opts.onChange;\n    this.map = opts.map;\n    this._value = opts.defaultValue || 0;\n    this.prevValue = this._value;\n\n    if (!isBool(opts.tip) && !opts.stop) {\n      this.showTip = true;\n    }\n\n    this.dom = newElement('rplayer_slider');\n    const barWrapper = newElement('rplayer_slider_wrap');\n    this.bar = newElement('rplayer_slider_bar');\n    this.dot = newElement('rplayer_slider_dot');\n    this.tip = newElement('rplayer_slider_tip');\n\n    barWrapper.appendChild(this.bar);\n    this.dom.appendChild(barWrapper);\n\n    if (Array.isArray(opts.stops) && opts.stops.length) {\n      opts.stops.forEach((s) => {\n        const stop = newElement('rplayer_slider_stop');\n        stop.innerHTML = s.label;\n        stop.style.left = s.value * 100 + '%';\n        if (opts.bgColor) stop.style.background = opts.bgColor;\n        if (opts.labelColor) stop.style.color = opts.labelColor;\n        this.dom.appendChild(stop);\n      });\n\n      if (opts.stop) this.stops = opts.stops;\n    }\n\n    this.dom.appendChild(this.dot);\n    this.dom.appendChild(this.tip);\n\n    if (opts.barHeight) {\n      barWrapper.style.height = opts.barHeight + 'px';\n      const size = opts.barHeight * 2 + 'px';\n      this.dot.style.width = size;\n      this.dot.style.height = size;\n    }\n\n    if (opts.primaryColor) {\n      this.dot.style.background = opts.primaryColor;\n      this.bar.style.background = opts.primaryColor;\n    }\n\n    if (opts.bgColor) {\n      barWrapper.style.background = opts.bgColor;\n    }\n\n    if (!this.showTip) {\n      this.tip.hidden = true;\n    }\n\n    this.drag = new Drag(\n      this.dom,\n      this.dragStartHandler,\n      this.dragHandler,\n      this.dragEndHandler\n    );\n\n    if (opts.el) {\n      this.mount(opts.el);\n    }\n  }\n\n  private get halfDotW(): number {\n    if (this.hdw) this.hdw;\n    this.hdw = this.dot.getBoundingClientRect().width / 2;\n    return this.hdw;\n  }\n\n  get rect(): DOMRect {\n    if (this._rect) return this._rect;\n    const rect = this.dom.getBoundingClientRect();\n    if (rect.width) this._rect = rect;\n    return rect;\n  }\n\n  get mapped(): any {\n    if (this.map) return this.map(this._value);\n    return Math.round(this._value * 100) + '%';\n  }\n\n  get value(): number {\n    return this._value;\n  }\n\n  set value(v: number) {\n    this.update(v);\n  }\n\n  private dragStartHandler = (ev: PointerEvent): void => {\n    this.dragHandler(ev);\n  };\n\n  private dragHandler = (ev: PointerEvent): void => {\n    const x = clamp(ev.pageX - this.rect.left, 0, this.rect.width);\n    const p = x / this.rect.width;\n    if (this.stops) {\n      let closed = Infinity;\n      let v = 0;\n      this.stops.forEach((s) => {\n        const c = Math.abs(p - s.value);\n        if (c < closed) {\n          closed = c;\n          v = s.value;\n        }\n      });\n      this._value = v;\n      this.updateDom();\n    } else {\n      this._value = p;\n      this.updateDom(x);\n    }\n  };\n\n  private dragEndHandler = (): void => {\n    if (this.onChange) this.onChange(this._value, this.done);\n  };\n\n  private done = (success?: boolean): void => {\n    if (success) {\n      this.prevValue = this._value;\n    } else {\n      this._value = this.prevValue;\n      this.updateDom();\n    }\n  };\n\n  private updateDom(x?: number): void {\n    if (!x) x = this._value * this.rect.width;\n    this.bar.style.transform = `scaleX(${this._value})`;\n    const l = clamp(x, this.halfDotW, this.rect.width - this.halfDotW) + 'px';\n    this.dot.style.left = l;\n\n    if (this.showTip) {\n      this.tip.innerHTML = this.mapped;\n      this.tip.style.left = l;\n    }\n  }\n\n  updateRect(): void {\n    this._rect = null;\n    this.hdw = 0;\n  }\n\n  update(v = this._value): void {\n    v = clamp(v);\n    this._value = v;\n    this.prevValue = v;\n    this.updateDom();\n  }\n\n  mount(el?: string | HTMLElement): void {\n    getDomOr(el, document.body).appendChild(this.dom);\n    requestAnimationFrame(() => this.update());\n  }\n\n  destroy(): void {\n    this.drag.destroy();\n    if (this.dom.parentNode) {\n      this.dom.parentNode.removeChild(this.dom);\n    }\n  }\n}\n","import { newElement, getDomOr } from '../utils';\n\nexport interface CheckboxOptions {\n  defaultValue?: boolean;\n  el?: string | HTMLElement;\n  onChange?: (value: boolean, done: (success?: boolean) => any) => any;\n  label?: string;\n  primaryColor?: string;\n}\n\nexport default class Checkbox {\n  private static readonly activeCls = 'rplayer_checkbox-active';\n  readonly dom: HTMLElement;\n  private _value = false;\n  private onChange: CheckboxOptions['onChange'];\n  private color: string;\n\n  constructor(opts: CheckboxOptions = {}) {\n    this._value = opts.defaultValue;\n    this.onChange = opts.onChange;\n    this.color = opts.primaryColor;\n    this.dom = newElement('rplayer_checkbox');\n    if (opts.label) this.dom.innerHTML = opts.label;\n\n    this.dom.addEventListener('click', this.clickHandler);\n  }\n\n  get value(): boolean {\n    return this._value;\n  }\n\n  set value(v: boolean) {\n    this.update(v);\n  }\n\n  private clickHandler = (ev: MouseEvent): void => {\n    ev.preventDefault();\n    this.update(!this._value);\n    if (this.onChange) this.onChange(this._value, this.done);\n  };\n\n  private done(success?: boolean): void {\n    if (!success) {\n      this._value = !this._value;\n      this.update();\n    }\n  }\n\n  update(v = this._value): void {\n    this._value = v;\n    if (v) {\n      this.dom.classList.add(Checkbox.activeCls);\n      if (this.color) {\n        this.dom.style.color = this.color;\n      }\n    } else {\n      this.dom.classList.remove(Checkbox.activeCls);\n      this.dom.style.color = '';\n    }\n  }\n\n  mount(el?: string | HTMLElement): void {\n    getDomOr(el, document.body).appendChild(this.dom);\n    requestAnimationFrame(() => this.update());\n  }\n\n  destroy(): void {\n    this.dom.removeEventListener('click', this.clickHandler);\n    if (this.dom.parentNode) {\n      this.dom.parentNode.removeChild(this.dom);\n    }\n  }\n}\n","import { newElement, isStr } from './utils';\nimport RPlayer from '.';\n\nexport default class Toast {\n  private static readonly activeCls = 'rplayer_toast-active';\n  readonly dom: HTMLElement;\n  private timer: number;\n\n  constructor(player: RPlayer) {\n    this.dom = newElement('rplayer_toast');\n    player.appendChild(this.dom);\n  }\n\n  private clearTimer(): void {\n    clearTimeout(this.timer);\n  }\n\n  show(v: string | { message: string; duration: number }): void {\n    if (!v) return;\n    this.clearTimer();\n\n    let d = 3000;\n    if (isStr(v)) {\n      this.dom.innerHTML = v;\n    } else {\n      this.dom.innerHTML = v.message;\n      d = v.duration;\n    }\n\n    this.dom.classList.add(Toast.activeCls);\n    if (d) setTimeout(this.hide, d);\n  }\n\n  hide = (): void => {\n    this.dom.classList.remove(Toast.activeCls);\n  };\n\n  destroy(): void {\n    this.clearTimer();\n    if (this.dom.parentNode) {\n      this.dom.parentNode.removeChild(this.dom);\n    }\n  }\n}\n","import EventEmitter from 'eventemitter3';\nimport Component from './component';\nimport { BP } from './config';\nimport { PLAYER } from './config/classname';\nimport Controls from './controls';\nimport Events from './events';\nimport setupEvents from './handle-events';\nimport Loading from './loading';\nimport processOptions, { RPlayerOptions, Plugin } from './options';\nimport Subtitle from './plugins/subtitle';\nimport Fullscreen from './plugins/fullscreen';\nimport Shortcut from './shortcut';\nimport Storage from './storage';\nimport { clamp, getDomOr, isCatchable, isStr, newElement, noop } from './utils';\nimport * as utils from './utils';\nimport icons from './icons';\nimport language from './config/lang';\nimport Switch from './widgets/switch';\nimport Slider from './widgets/slider';\nimport Checkbox from './widgets/checkbox';\nimport Tray from './widgets/tray';\nimport Popover from './widgets/popover';\nimport BaseItem from './controls/setting/base-item';\nimport SwitchItem from './controls/setting/switch-item';\nimport Select from './controls/setting/select';\nimport Toast from './toast';\n\nexport default class RPlayer extends Component {\n  static readonly Events = Events;\n  static readonly utils = utils;\n  static readonly icons = icons;\n  static readonly EventEmitter = EventEmitter;\n  static readonly Switch = Switch;\n  static readonly Slider = Slider;\n  static readonly Checkbox = Checkbox;\n  static readonly Tray = Tray;\n  static readonly Popover = Popover;\n  static readonly SettingBase = BaseItem;\n  static readonly SettingSwitch = SwitchItem;\n  static readonly SettingSelect = Select;\n\n  el: HTMLElement;\n  curBreakPoint: string;\n  readonly media: HTMLVideoElement;\n  readonly options: RPlayerOptions;\n\n  readonly fullscreen: Fullscreen;\n  readonly controls: Controls;\n  readonly shortcut: Shortcut;\n  readonly loading: Loading;\n  readonly subtitle: Subtitle;\n  readonly $toast: Toast;\n  storage: Storage;\n\n  private prevVolume = 1;\n  private ready = false;\n\n  constructor(opts: RPlayerOptions) {\n    super();\n\n    this.options = processOptions(this, opts);\n\n    this.addClass(PLAYER);\n    this.canFocus();\n\n    this.media = getDomOr(this.options.media, () => newElement('', 'video'));\n    this.el = getDomOr(this.options.el, document.body);\n\n    this.restore();\n    if (this.options.video) this.setMediaAttrs(this.options.video);\n    setupEvents(this, this.media);\n    this.prevVolume = this.media.volume;\n    this.volume = this.prevVolume;\n    this.autoUpdateRect(this);\n\n    this.controls = new Controls(this);\n    this.shortcut = new Shortcut(this);\n    this.loading = new Loading(this);\n    this.fullscreen = new Fullscreen(this);\n    this.subtitle = new Subtitle(this);\n    this.$toast = new Toast(this);\n\n    this.options.plugins.forEach((p) => p.install(this));\n  }\n\n  get currentTime(): number {\n    return this.media.currentTime;\n  }\n\n  set currentTime(v: number) {\n    if (!this.duration) return;\n    this.media.currentTime = clamp(v, 0, this.duration);\n    this.emit(Events.TIME_UPDATE);\n  }\n\n  get volume(): number {\n    return this.media.volume;\n  }\n\n  set volume(v: number) {\n    this.media.volume = clamp(v);\n    this.storage.set({ volume: this.media.volume });\n    if (this.muted && v > 0) this.muted = false;\n  }\n\n  get muted(): boolean {\n    return this.media.muted || this.volume === 0;\n  }\n\n  set muted(v: boolean) {\n    this.media.muted = v;\n  }\n\n  get playbackRate(): number {\n    return this.media.playbackRate;\n  }\n\n  set playbackRate(v: number) {\n    this.media.playbackRate = v;\n  }\n\n  get duration(): number {\n    return this.media.duration || 0;\n  }\n\n  get buffered(): TimeRanges {\n    return this.media.buffered;\n  }\n\n  get paused(): boolean {\n    return this.media.paused;\n  }\n\n  get ended(): boolean {\n    return this.media.ended;\n  }\n\n  get playing(): boolean {\n    return this.ready && !this.paused && !this.ended;\n  }\n\n  get isPhone(): boolean {\n    return this.curBreakPoint === BP.BREAKPOINT_PHONE;\n  }\n\n  private restore(): void {\n    this.media.volume = this.storage.get('volume', 1);\n  }\n\n  setMediaAttrs(map: RPlayerOptions['video']): void {\n    Object.keys(map).forEach((k) => {\n      const v = (map as any)[k];\n      if (k === 'src') {\n        if (isStr(v)) {\n          this.media.src = v;\n        } else if (Array.isArray(v)) {\n          v.forEach((s) => this.media.canPlayType(s) && (this.media.src = s));\n        }\n      } else {\n        (this.media as any)[k] = v;\n      }\n    });\n  }\n\n  mount(el?: HTMLElement): void {\n    if (el) this.el = el;\n    this.appendChild(this.media);\n    this.appendChild(this.controls);\n    this.emit(Events.BEFORE_MOUNT);\n    this.el.appendChild(this.dom);\n    requestAnimationFrame(() => {\n      this.updateRect();\n      this.emit(Events.MOUNTED);\n      this.ready = true;\n    });\n  }\n\n  seek(seconds: number): void {\n    this.media.currentTime = clamp(seconds, 0, this.duration);\n  }\n\n  play(): void {\n    const p = this.media.play();\n    if (isCatchable(p)) p.catch(noop);\n  }\n\n  pause(): void {\n    this.media.pause();\n  }\n\n  toggle(): void {\n    if (this.paused) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  incVolume(v = 0.1): void {\n    this.volume += v;\n  }\n\n  decVolume(v = 0.1): void {\n    this.volume -= v;\n  }\n\n  forward(v = 10): void {\n    this.currentTime += v;\n  }\n\n  rewind(v = 10): void {\n    this.currentTime -= v;\n  }\n\n  toggleVolume(): void {\n    if (this.muted) {\n      this.volume = this.prevVolume || 1;\n      this.muted = false;\n    } else {\n      this.prevVolume = this.volume;\n      this.volume = 0;\n    }\n  }\n\n  toast(v: Parameters<Toast['show']>[0]): void {\n    this.$toast.show(v);\n  }\n\n  hideToast(): void {\n    this.$toast.hide();\n  }\n\n  t(key: string): string {\n    return language.t(key, this.options.lang);\n  }\n\n  eachBuffer(fn: (start: number, end: number) => boolean | void): void {\n    for (let l = this.buffered.length, i = l - 1; i >= 0; i--) {\n      if (fn(this.buffered.start(i), this.buffered.end(i))) {\n        break;\n      }\n    }\n  }\n\n  use(plugin: Plugin): void {\n    plugin.install(this);\n  }\n\n  addLang(lang: string, data: Record<string, string>): void {\n    language.addLang(lang, data);\n  }\n}\n","import '../scss/index.scss';\nimport RPlayer from './rplayer';\nexport { default as Events } from './events';\n\nexport default RPlayer;\n"],"sourceRoot":""}